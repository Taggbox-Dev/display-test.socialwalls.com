"use strict";(self.webpackChunkwebsite_editor=self.webpackChunkwebsite_editor||[]).push([[111],{111:(e,t,l)=>{l.r(t),l.d(t,{default:()=>o});var s=l(950),d=l(300),a=l(726),i=l(414);const o=(0,s.memo)((e=>{let{noFdCrt:t}=e;const[l,o]=(0,s.useState)(!1),[n,r]=(0,s.useState)(0),m=0==t,{selectedTheme:c,Personalization:u,postData:h}=(0,d.d4)((e=>e.themeReducer),d.bN),v=c.wallId?c.wallId:null,w=e=>{e&&e.data&&"reloadWebsite"===e.data.type&&o(!0)};return(0,s.useEffect)((()=>(window.addEventListener("message",w),()=>{window.removeEventListener("message",w)})),[]),(0,s.useEffect)((()=>{m&&v&&n!=v&&r(v),l&&!m&&(()=>{let e=setTimeout((()=>{var t;const l=document.getElementById("themePreviewWebsite"),s={widgetTheme:null===c||void 0===c?void 0:c.themeId,signageTheme:null===c||void 0===c?void 0:c.themeId},d={data:{wall:{Wall:{id:"addfeedload",name:""},Personalization:Object.keys(u).length>0?{...u,...s}:{...s},ThemeRule:c},postData:h},type:"reloadTheme"};console.log("message",d,s),null===l||void 0===l||null===(t=l.contentWindow)||void 0===t||t.postMessage(d,"*"),clearTimeout(e)}),100)})()}),[t,c,l]),(0,i.jsxs)("div",{className:"mi-preview "+(["49","52"].includes(String(null===c||void 0===c?void 0:c.themeId))?"singleTheme":""),style:{width:`calc(100% - ${m?350:422}px)`},children:[0!=n?(0,i.jsx)("iframe",{src:`${a.Rt}/${n}`,style:{display:m?"block":"none"},title:"preview-default"}):null,(0,i.jsx)("iframe",{id:"themePreviewWebsite",src:"http://localhost:3001/?addfeedload=load",style:{display:m?"none":"block"},title:"preview-user"})]})}))}}]);