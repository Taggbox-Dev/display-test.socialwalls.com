"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4355],{44355:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var a=t(47313),i=t(43635),l=t(43411),s=t(17739),r=t(98501),o=t(35179),d=t(51500),u=t(46417);const c=a.lazy((()=>t.e(7535).then(t.bind(t,37535)))),g=a.lazy((()=>t.e(6429).then(t.bind(t,16429)))),h=a.lazy((()=>t.e(1027).then(t.bind(t,21027)))),p=a.lazy((()=>t.e(1819).then(t.bind(t,61819)))),m=a.lazy((()=>Promise.all([t.e(6031),t.e(8534)]).then(t.bind(t,18534)))),v=a.lazy((()=>Promise.all([t.e(7914),t.e(589)]).then(t.bind(t,66538))));class b extends a.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.onLoadSpotLight=()=>{if(o.bX&&!o.P2){const{postData:n}=this.props;if(n.completeDataObject&&Object.keys(n.completeDataObject).length>0){var e=null;Object.entries(n.completeDataObject).forEach((n=>{let[t,a]=n;1==(null===a||void 0===a?void 0:a.highlight)&&null==e&&(e=a)})),e&&Object.keys(e).length>0&&(0,d.Gh)(e)}}},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef()}componentDidMount(){(0,s.gz)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}}),this.onLoadSpotLight()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){var e;let n=document.querySelector(".tb_app_container"),t=s.b8?s.b8:null===n||void 0===n||null===(e=n.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:t})}render(){var e,n,t,i,l,d,b,k,f,j,S,B,w;const{wall:x,reviewFilters:z,webFilters:_,postData:D,languageSetting:I,filter_tags:y,spotlight:P,keyRender:R}=this.props,T=!!(x.Banner&&Object.keys(x.Banner).length>0&&(1===x.Banner.status&&1===x.Banner.banner_position||1===(null===x||void 0===x||null===(e=x.BannerImage)||void 0===e?void 0:e.status)||"1"===x.Banner.banner_position)),C=!!(x.Banner&&Object.keys(x.Banner).length>0&&(1===x.Banner.status&&2===x.Banner.banner_position||"2"===x.Banner.banner_position)),F=o.ZQ?![55,60,16,47,57].includes(x.Personalization.widgetTheme):![55,52,60,16,47,57,61].includes(x.Personalization.widgetTheme),L=!!(x.Banner&&Object.keys(x.Banner).length>0&&1===x.Banner.status&&6==x.Banner.bannerType&&0===x.Personalization.filterStatus&&57!=x.Personalization.widgetTheme),U=o.ZQ?1===x.Personalization.filterStatus:!!(_&&_.length>1),O=!!(y&&y.length>0),W=!(!o.bX||!P.status);let H=""!=_&&_&&_.length>0?_.map((e=>{let{Network:n}=e;return n.id})):null;!o.ig&&null!==x&&void 0!==x&&null!==(n=x.Background)&&void 0!==n&&n.image&&x.Background.image.includes(r.ho)&&(x.Background.image=String(x.Background.image).replace(r.lO,""));const X=0===(null===x||void 0===x||null===(t=x.Background)||void 0===t?void 0:t.transparent)||null!==x&&void 0!==x&&null!==(i=x.Background)&&void 0!==i&&i.image&&o.ZQ?{backgroundImage:null!==x&&void 0!==x&&null!==(l=x.Background)&&void 0!==l&&l.image?"url(".concat(x.Background.image,")"):"",backgroundColor:null===x||void 0===x||null===(d=x.Background)||void 0===d?void 0:d.color}:null;return(0,u.jsxs)("div",{className:"tb_app_container ".concat(P.isWall?"":"tb_spotlight_ac"),style:{minHeight:o.P2?([47,16,49,55,60,52].includes(x.Personalization.widgetTheme),"100%"):null},ref:this.containerRef,children:[o.bX&&!o.aL&&1===(null===(b=x.CustomTicker)||void 0===b?void 0:b.status)&&1==x.CustomTicker.ticker_position?(0,u.jsx)(h,{CustomTicker:x.CustomTicker,UgcSettings:x.UgcSettings}):null,T&&!W?(0,u.jsxs)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[" ",(0,u.jsx)(c,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})]}):"",(0,u.jsxs)("div",{className:"tb_app_wrapper",style:X,children:[L&&T?(0,u.jsx)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(g,{reviewFilters:z,appendData:D.appendData,wall:x,languageSetting:I,postData:D})}):null,null!==x&&void 0!==x&&null!==(k=x.UserRule)&&void 0!==k&&k.on_site_upload&&null!==x&&void 0!==x&&null!==(f=x.UgcSettings)&&void 0!==f&&f.onsite_status||o.nX&&null!==x&&void 0!==x&&null!==(j=x.UgcSettings)&&void 0!==j&&j.onsite_status&&(o.Jx||o.ig&&!(0,s.mD)(50))?(0,u.jsxs)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[" ",(0,u.jsx)(v,{UgcSettings:null===x||void 0===x?void 0:x.UgcSettings,id:null===x||void 0===x||null===(S=x.Wall)||void 0===S?void 0:S.id,tagShopWallId:null===x||void 0===x||null===(B=x.Wall)||void 0===B?void 0:B.wallId})," "]}):null,!o.bX&&F&&(U||O)?(0,u.jsxs)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[" ",(0,u.jsx)(p,{type:x.Personalization.filter_type,webFilters:_,filter_tags:y,appendData:D.appendData,wall:x,languageSetting:I,postData:D})]}):"",!o.bX||!P.isWall&&W?null:(0,u.jsxs)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[" ",(0,u.jsx)(m,{...this.props,brandingNetworks:H,containerSize:this.state.containerSize,parentID:this.state.parentID},R)]}),L&&C?(0,u.jsx)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(g,{reviewFilters:z,appendData:D.appendData,wall:x,languageSetting:I,postData:D})}):null]}),C&&!W?(0,u.jsxs)(a.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[" ",(0,u.jsx)(c,{Banner:x.Banner,BannerImage:x.BannerImage,LogoImage:x.LogoImage})]}):"",o.bX&&!o.aL&&1===(null===(w=x.CustomTicker)||void 0===w?void 0:w.status)&&2==x.CustomTicker.ticker_position?(0,u.jsx)(h,{CustomTicker:x.CustomTicker,UgcSettings:x.UgcSettings}):null]})}}const k=(0,l.$j)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId}}return{renderId:e.renderId}}),(e=>({managePostHeight:n=>e((0,i.B0)(n))})))(b)}}]);