"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8120],{68120:(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});var s=i(9950),a=i(14478),l=(i(83658),i(44414));class o extends s.Component{constructor(){super(...arguments),this.state={like:!1},this.onClickLike=t=>{t.stopPropagation();const{like:e}=this.state;this.setState({like:!e},()=>this.onLikeSave())},this.onLikeSave=()=>{const{postId:t,wallID:e,interactiveCount:i,UserDetail:s}=this.props,{like:l}=this.state,o=JSON.parse(localStorage.getItem(`intractivelike${e}`))||[];if(l){const n={postId:t,action:l?"prepand":"remove",wallId:e,table_name:s.db_table};(0,a.lh)(n).then(s=>{var a=[];a=l?[...o,{count:i+1,cardId:t,wallID:e}]:o.filter(e=>e.cardId!=t),localStorage.setItem(`intractivelike${e}`,JSON.stringify(a))}).catch(t=>{})}}}componentDidMount(){const{postId:t,wallID:e,interactiveCount:i,UserDetail:s}=this.props,a=localStorage.getItem(`intractivelike${e}`);if(a){const e=JSON.parse(a)||[];if(e&&e.length>0){const i=e.filter(e=>e.cardId==t);(null===i||void 0===i?void 0:i.length)>0&&this.setState({like:!0})}}}render(){const{like:t}=this.state,{postId:e,likeClass:i}=this.props;return(0,l.jsx)("div",{className:`tb_like_ico${t?" tb_animate":""} ${i}`,onClick:this.onClickLike,"data-postid":e,children:(0,l.jsx)("div",{className:"tb__icon tb-"+(t?"heart-fill":"heart"),children:(0,l.jsx)("div",{})})})}}const n=o},83658:()=>{}}]);