"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[5002],{85002:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(9950),i=n(52867),s=n(80415),r=n(44414);class l extends a.Component{constructor(e){super(e),this.timeInterval=null,this.onLoadAnmt=()=>{const{announcements:e}=this.props;let t=e,n=Object.keys(t).map(e=>t[e]);this.setState({anmtData:t,anmtDataKeys:n,timeStamp:Math.floor(Date.now()/1e3),imageError:!1},()=>this.AnmtInterval())},this.AnmtInterval=()=>{this.timeInterval&&clearInterval(this.timeInterval);const{anmtDataKeys:e,anmtData:t}=this.state;null!=e&&null!=t&&(this.timeInterval=(0,i._H)(()=>this.onLoadAnmt(),1e4))},this.state={anmtData:null,anmtDataKeys:null,timeStamp:Math.floor(Date.now()/1e3),imageError:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight}}componentDidMount(){this.onLoadAnmt()}render(){const{anmtDataKeys:e,timeStamp:t,imageError:n,windowHeight:a,windowWidth:l}=this.state,m=l>a?((a-400)/50).toFixed():((a/2-200)/50).toFixed();return(0,r.jsx)(r.Fragment,{children:null!==e?e.map((e,a)=>{const{repeatOnce:l,timeInterval:o,aEndTime:d}=(0,i.KS)(t,e.showAt,e.endAt,e.every,a);if((0===l||l>=0&&l<10)&&(0==d||t>=o&&t<=d)){let t=`${e.mediaFile}`;e.mediaFile.includes(s.vr)&&(t=e.mediaFile);const i=!n&&""!=e.mediaFile,l=!(!i||1==e.type&&4==e.type);var c=l?m:2*m;return(0,r.jsxs)("div",{id:"announcement__",className:"an_container",children:[(0,r.jsx)("div",{className:"an_overlay_",style:{backgroundImage:`url(${t})`}}),(0,r.jsx)("div",{className:"an_wrap",children:(0,r.jsxs)("div",{className:"an_wrap_row "+(l?" an_only_media":" an_only_text"),children:[i?(0,r.jsx)("div",{className:"an_media_",children:(0,r.jsx)("img",{className:"an_img_",src:t,onError:()=>this.setState({imageError:!0}),alt:""})}):null,1===e.type||4===e.type?(0,r.jsx)("div",{className:"an_content_wrap",ref:this.contentRef,children:(0,r.jsx)("div",{className:"an_content_in",children:(0,r.jsx)("div",{className:`an_content an_con_line-${c}`,children:e.description})})}):null]})})]},a)}return null}):null})}}const m=(0,a.memo)(l)}}]);