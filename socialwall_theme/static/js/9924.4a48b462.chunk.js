"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[9924],{69924:(t,e,o)=>{o.r(e),o.d(e,{default:()=>d});var s=o(9950),a=(o(14478),o(98776),o(89874)),i=o(52867),l=o(44414);class d extends s.Component{constructor(t){super(t),this.state={mediaLoaded:!1,largerHeight:0,imgSize:{small:t.data.postFileNew,large:t.data.filename,orignal:t.data.file}}}componentWillReceiveProps(t){const{data:e}=t;this.props.data!==e&&this.setState({imgSize:{small:e.postFileNew,large:e.filename,orignal:e.file}})}render(){const{data:t,wall:e,opacity:o,mediaSize:s}=this.props,{mediaLoaded:d,imgSize:r}=this.state,c=!!(t.hotspot&&t.ugc_products.length>0),p={opacity:o,filter:d?"blur(2px)":null};return(0,l.jsxs)("div",{className:"tb_post_modal_img_holder",children:[c?(0,l.jsx)(a.A,{product:t.ugc_products}):null,(0,l.jsx)("img",{className:"tb_post_modal_img_",decoding:"async",ref:this.mediaRef,src:r.small,srcSet:`${r.large}, 991w ${r.small}, 480w`,sizes:s&&s.width,alt:(0,i.wG)(r.small),"data-link":t.link,"data-network":t.network.id,"data-wall-id":e.Wall.id,"data-owner-id":e.Wall.owner,"data-item-id":t.id,"data-feed-id":t.feedId?t.feedId:"","data-filter-id":t.filterId,"data-load":"0",onLoad:this.handleImageLoad,onError:t.stories?null:t=>{},loading:"lazy",draggable:"false",width:s&&s.width,height:s&&s.height,style:p},r.small)]})}}},89874:(t,e,o)=>{o.d(e,{A:()=>_});var s=o(9950),a=o(11127),i=o(73068),l=o(1823),d=o(52867),r=o(44414);const c=(0,i.componentWillAppendToBody)(t=>{let{children:e}=t;return e}),p=t=>{const e=t.product_discount>0?t.product_discount:t.product_price,o=t.product_discount>0&&t.product_discount!=t.product_price?`<div class="tb_p_tooltip_price tb_price_disabled">${t.price_currency_symbol}${t.product_price}</div>`:"",s=t.product_price>0||t.product_discount>0?`${o}<div class="tb_p_tooltip_price">${t.price_currency_symbol}${e}</div>`:"";return`<a href="${t.product_url}" target="_blank" class="tb_tooltip_wrap">\n          <div class="tb_p_tooltip_title">${t.product_title}</div>\n          ${s}\n        </a>`};class n extends s.PureComponent{constructor(){super(...arguments),this.state={activeMouse:null},this.setActiveMouse=t=>t}render(){const{product:t,appData:e}=this.props,{activeMouse:o}=this.state,s=e&&Object.keys(e).length>0?e.wall.ProductSetting.Hotspot:"";return s.status?(0,r.jsx)("div",{className:"tb_hotspot_wrap",children:t.map((t,e)=>{const a=(0,d.Ul)();return(0,r.jsxs)("div",{href:t.product_url,id:`tb_hotspot-${t.id}${a}`,onClick:t=>{t.stopPropagation()},onMouseEnter:t=>this.setActiveMouse(e),onMouseOut:t=>this.setActiveMouse(null),className:"tb_hotspot_dot"+(o==e?" tb_hotspot_active_":""),style:{top:t.hotspot_cordinates.top,left:t.hotspot_cordinates.left},"data-tooltip-offset":7,children:[(0,r.jsx)("div",{className:"tb_hotspot__ "+(0==s.type?"tb_hotspot_ani__":""),onClick:e=>window.open(t.UgcProduct.product_url,"_blank"),children:e+1}),(0,r.jsx)(c,{children:(0,r.jsx)(l.m_,{className:"tb_pro_tooltip",anchorSelect:`#tb_hotspot-${t.id}${a}`,clickable:!0,html:p(t.UgcProduct)})})]},e)})}):null}}const _=(0,a.Ng)(t=>({appData:t.appData}))(n)}}]);