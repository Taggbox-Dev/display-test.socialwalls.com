"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[854],{20854:(e,a,l)=>{l.r(a),l.d(a,{addScript:()=>U,default:()=>W,isEditor:()=>P,onLoad:()=>z});var t=l(9950),n=l(73068),r=l(15255),s=l(11127),o=l(80415),i=l(52867),d=l(66345),h=l(14478),c=l(87988),p=l.n(c),w=l(44414);const u=t.lazy((()=>l.e(8689).then(l.bind(l,88689)))),m=t.lazy((()=>l.e(5505).then(l.bind(l,25505)))),j=t.lazy((()=>Promise.all([l.e(2772),l.e(4674)]).then(l.bind(l,84674)))),g=t.lazy((()=>l.e(9468).then(l.bind(l,69468)))),b=t.lazy((()=>l.e(2665).then(l.bind(l,92665)))),x=t.lazy((()=>Promise.all([l.e(804),l.e(8615),l.e(8940),l.e(6197),l.e(3464),l.e(2433)]).then(l.bind(l,13147)))),f=t.lazy((()=>Promise.all([l.e(804),l.e(8940),l.e(6197),l.e(8573),l.e(3464),l.e(4877)]).then(l.bind(l,64877)))),D=t.lazy((()=>l.e(9563).then(l.bind(l,79563)))),k=t.lazy((()=>l.e(495).then(l.bind(l,20495)))),y=t.lazy((()=>l.e(5600).then(l.bind(l,5600)))),S=t.lazy((()=>l.e(2833).then(l.bind(l,82833)))),v=t.lazy((()=>l.e(2902).then(l.bind(l,82902)))),F=t.lazy((()=>l.e(5002).then(l.bind(l,85002)))),E=t.lazy((()=>Promise.all([l.e(8092),l.e(804),l.e(8615),l.e(1397),l.e(5959)]).then(l.bind(l,66937)))),U=e=>{const a=document.createElement("script");a.src=e,a.defer=!0,document.head.appendChild(a)},P=!!window.isEditor,z=()=>{window.jQuery||U(`${o.M$}/js/jquery.min.js?ver=1`),U(`${o.M$}/js/slackdown.js?ver=1`)},L=e=>{var a;return e.loader&&null!=e.loader.loader&&null==e.error.errorWithMessage&&(!e.error.planLimit||d.HY)&&(null==e.error.themeError||Object.keys(e.error.themeError).length>0&&0==e.error.themeError.error_code||1===(null===(a=e.wall)||void 0===a?void 0:a.Personalization.demoWall))?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(u,{...e})}):!d.HY&&(e.error.errorWithMessage||e.error.planLimit||e.error.themeError)?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(m,{...e})}):null},I=(0,n.componentWillAppendToBody)((e=>{let{children:a}=e;return a})),M=e=>{let{appData:a}=e;const l=!!(a.wall.UserDetail&&Object.keys(a.wall.UserDetail).length>0);let t=""!=a.webFilters&&a.webFilters?a.webFilters.map((e=>{let{networkId:a}=e;return a})):null;const n=!(!l||a.wall.UserDetail.planId.includes("53"))||!!(d.uS&&a.wall.refere&&Object.keys(a.wall.refere).length>0),r=d.HY&&a.wall.User.referePageLink?a.wall.User.referePageLink:d.uS?a.wall.refere.referePageLink:(0,i.hZ)(t,a.wallID)[0],s=d.HY&&a.wall.User.referePage?a.wall.User.referePage:d.uS?a.wall.refere.referePage:(0,i.hZ)(t,a.wallID)[1];return n?(0,w.jsx)("a",{href:r,target:"_blank",style:{display:"none"},"aria-label":s,children:s}):null};class O extends t.Component{constructor(){super(...arguments),this.state={errorData:null,render:""},this.onLoadEditor=()=>{new BroadcastChannel("social_preview");if(d.IU)try{window.addEventListener("message",this.handleMessage)}catch(e){console.log("error",e)}else d.aD&&window.location.href.includes("editor")&&window.location.href.includes("preview")?window.addEventListener("message",this.handleMessage):window.location.href.includes("addfeedload=load")&&window.addEventListener("message",this.addFeedReloadTheme)},this.handleMessage=e=>{console.log("sdfsdfsdfsdfsdf","sdf");const{type:a,data:l}=null===e||void 0===e?void 0:e.data;if("reloadWebsite"==a){const e=JSON.parse(l);console.warn("payload 1",e),this.setState({render:(0,r.A)()});const{onUpdateEditor:a}=this.props;a(e)}},this.addFeedReloadTheme=e=>{const{type:a,data:l}=e.data;if("reloadTheme"==a){const{onUpdateEditor:e}=this.props;e(l)}}}componentWillMount(){d.aD&&(p().init(),l.e(7556).then(l.bind(l,67556)))}componentDidMount(){setTimeout((()=>z()),200),this.onLoadEditor()}componentDidUpdate(e,a){var l,t,n;let r=null===(l=e.appData.wall)||void 0===l||null===(t=l.Personalization)||void 0===t?void 0:t.demoWall;var s;(null===(n=e.appData.error)||void 0===n?void 0:n.themeError)!==a.errorData&&(this.setState({errorData:null===(s=e.appData.error)||void 0===s?void 0:s.themeError}),"function"===typeof window.onSetErrorCode&&null!==this.state.errorData&&window.onSetErrorCode(this.state.errorData,r))}componentWillUnmount(){d.IU?window.removeEventListener("message",this.handleMessage):window.location.href.includes("addfeedload=load")&&window.removeEventListener("message",this.addFeedReloadTheme)}render(){var e;const{appData:a,modalPop:l,spotlight:n}=this.props,{render:r}=this.state,s=!!(a&&a.wall&&Object.keys(a.wall).length>0&&a.wall.UserDetail&&Object.keys(a.wall.UserDetail).length>0),o=!(!d.aD||!n.status);return(0,w.jsx)(w.Fragment,{children:!d.aD||window.location.href.includes("onsite-upload")||1!=a.isStudio||i.dm||P||window.location.href.includes("editor=1")?(0,w.jsxs)(w.Fragment,{children:[d.Vn?null:(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(v,{})}),a&&a.wall&&Object.keys(a.wall).length>0?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(j,{wall:a.wall})}):null,l.onSiteIsShowPopUp?(0,w.jsxs)(I,{children:["  ",(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(g,{})})]}):null,(0,t.createElement)(L,{...a,key:r,keyRender:r,spotlight:n}),s&&a.wall.UserDetail.planId.includes("53")&&!d.aD?(0,w.jsxs)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[(0,w.jsx)(k,{appData:a})," "]}):null,null!==a&&void 0!==a&&null!==(e=a.postData)&&void 0!==e&&e.isFreeAdsStatus?(0,w.jsx)(I,{children:(0,w.jsxs)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[(0,w.jsx)(y,{appData:a})," "]})}):null,!o&&l.isShowPopUp?d.HY&&(0,i.qs)()?(0,w.jsxs)(I,{children:[" ",(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(f,{wall:a.wall,data:l.data,languageSetting:a.languageSetting,networkData:a.networkData,postData:a.postData,brandingNetworks:""!=a.webFilters&&a.webFilters?a.webFilters.map((e=>{let{networkId:a}=e;return a})):null})})," "]}):(0,w.jsxs)(I,{children:[" ",(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(x,{wall:a.wall,isShowPopUp:l.isShowPopUp,data:l.data,languageSetting:a.languageSetting,networkData:a.networkData,postData:a.postData,brandingNetworks:""!=a.webFilters&&a.webFilters?a.webFilters.map((e=>{let{networkId:a}=e;return a})):null},l.isShowPopUp)})," "]}):null,d.aD&&!o&&a.announcements?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(F,{announcements:a.announcements})}):null,l.reportStatus&&d.yR?(0,w.jsxs)(I,{children:[" ",(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(D,{item:l.reportData,wall:a.wall})})," "]}):null,l.shareStatus&&d.yR?(0,w.jsxs)(I,{children:[" ",(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(b,{postLink:l.shareData.link,userName:l.shareData.author.name})})," "]}):null,a&&a.wall&&Object.keys(a.wall).length>0&&d.yR?(0,w.jsx)(I,{children:(0,w.jsx)(M,{appData:a})}):null,o?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(E,{itemData:n.data,wall:a.wall})}):null]}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(S,{wallID:a.wallID})})})}}const W=(0,s.Ng)((e=>({appData:e.appData,modalPop:e.modalPop,spotlight:e.spotlight})),(e=>({onUpdateEditor:a=>e((0,h.qI)(a))})))(O)}}]);