"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7609],{47609:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var l=i(72791),n=i(60173),r=i(77581),o=i(48282),s=i(11225),a=i(46535),d=i(2703),c=(i(59169),i(80184));const h=(0,l.lazy)((()=>i.e(114).then(i.bind(i,70114))));class u extends l.Component{constructor(e){super(e),this.state={windowWidth:document.getElementById(d.u$)&&document.getElementById(d.u$).clientWidth?document.getElementById(d.u$).clientWidth:window.innerWidth,sliderHeight:300},this.onScreenLoad=()=>{const{renderId:e}=this.props.renderId;this.setState({windowWidth:e?document.getElementById(e).clientWidth:document.getElementById(d.u$)&&document.getElementById(d.u$).clientWidth?document.getElementById(d.u$).clientWidth:window.innerWidth})},this.requestData=()=>{const{appendData:e,wall:t,preRender:i,hasMoreData:l,getDataNextSteps:n}=this.props;l&&n(t.Wall.id,Math.floor(Date.now()/1e3),t.ThemeRule.numberOfPosts,e.networkID,e.after,i,e.heightEvent)},this.handleKeyPress=e=>{try{const{wall:i}=this.props;if(1==i.ThemeRule.slidePost){if(!["INPUT","TEXTAREA"].includes(e.target.tagName)&&"Space"===e.code){const{parentID:i}=this.props;e.preventDefault();var t=this.inputRefs[i].splide.Components.Autoplay;t.isPaused()?t.play():t.pause()}}}catch(i){}},this.reScrolled=()=>{setTimeout((()=>{let e=document.querySelector(".splide__list"),t=document.querySelector(".splide__slide").offsetWidth;const i=document.querySelectorAll(".splide__slide.is-visible").length,l=document.querySelector(".splide__slide.is-active.is-visible").getAttribute("aria-label").substring(0,2),n=Number(l)+(i-1)+i;n>0?(e.style.transition="0s ease",e.style.transform="translateX(-".concat(n*t,"px)")):e.style.transform="translateX(0px)"}),200)},this.autoScrollSlider=(e,t,i,l)=>{const{wall:n}=this.props;if(1==n.Personalization.autoScrollStatus){const t=a.ZQ?e._o.perPage+e.index:e.index;e.length-t===(a.ZQ?1:e._o.perPage)&&this.requestData()}},this.inputRefs={}}componentWillMount(){this.onScreenLoad()}componentDidMount(){var e=document.querySelector(".tb_hc_post_slider"),t=e?e.offsetHeight:this.state.height;setTimeout((()=>{this.setState({sliderHeight:t});document.querySelectorAll(".splide__slide").forEach((e=>{e.removeAttribute("role")}))}),100);const{postData:i}=this.props;if(i&&1==i.length){let n=document.querySelector(".tb_hc_arrow_left__"),r=document.querySelector(".tb_hc_arrow_right__");function o(){setTimeout((()=>{let e=document.querySelector(".splide__list");null!=e&&(e.style.transform="translateX(0)")}),100)}n&&r&&(document.querySelector(".tb_hc_arrow_left__").style="display:none",document.querySelector(".tb_hc_arrow_right__").style="display:none"),document.body.addEventListener("click",(function(){o()})),o(),window.addEventListener("resize",o)}else window.addEventListener("resize",(()=>{this.onScreenLoad()}));let l=document.querySelector("#kt_aside_toggle");null!=l&&l.addEventListener("click",this.reScrolled),window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyPress)}componentDidUpdate(){var e=document.querySelector(".tb_hc_post_slider"),t=e?e.offsetHeight:this.state.height;t+15!=this.state.sliderHeight&&setTimeout((()=>{this.setState({sliderHeight:t+15})}),100)}render(){var e;const{postData:t,completeDataObject:i,wall:r,clickToShowPopUp:s,hasMoreData:u,onClickToCTA:p,parentID:_,keyRender:g,languageSetting:m,cardNumber:w,onClickPopUpSlider:b}=this.props,{sliderHeight:y}=this.state,S=_,{windowWidth:f}=this.state,v=r.ThemeRule.numberOfPosts,P=r.ThemeRule.numberOfCoumn,T=r.ThemeRule.mobileColumn,x=r.ThemeRule.slidePost&&!a.ig,k=r.ThemeRule.slideDuration,D=r.Personalization.autoScrollStatus,I=1===r.Personalization.trimcontent,j=a.ZQ?(0,d.b)():!!(f<768||n.tq),q=v>parseInt(w)?parseInt(w):v,E=t&&t.length?j?1:t.length>q?q:t.length:3,W=t&&t.length?j?1:t.length>q?q:t.length:4;j||1===D||t.length;const N=a.ZQ&&void 0!==(null===(e=r.Personalization)||void 0===e?void 0:e.clonePost)&&0===r.Personalization.clonePost?{clones:0}:{},R=1!=D?!(Object.keys(N).length>0)&&"slide":"slide",C=E!=t.length&&W!=t.length||0!=Object.keys(N).length?t:Array(2).fill(t).flat(),z=(r.ThemeRule.lineTrim,!(a.ZQ||!I)),A={...N,type:1!==D&&R,role:"article",label:"social widget",rewind:!0,speed:1e3,loop:1!==D,interval:x?1e3*k:5e3,perPage:P>0?P:j?1:t.length>q?q:t.length,gap:0,perMove:!!a.ZQ&&1,autoplay:!!x,padding:"0",pagination:!1,arrows:!!j||t.length>=(P>0?P:W),fixedHeight:z,breakpoints:{560:{perPage:T>0?T:1,perMove:T>0?T:1,arrows:t.length>=(T>0?T:1)},767:{perPage:P>0?P-3<1?P:P-3:E,arrows:t.length>=(P>0?P-3<1?P:P-3:E)},991:{perPage:P>0?P-4<1?P:P-4:E,arrows:t.length>=(P>0?P-4<1?P:P-4:E)},1200:{perPage:P>0?P-1==0?P:P-1:E,arrows:t.length>=(P>0?P-1==0?P:P-1:E)},1600:{perPage:P>0?P:W,arrows:t.length>=(P>0?P:W)}}};return(0,c.jsx)(c.Fragment,{children:""!=_?(0,c.jsx)("div",{className:"tb_hc_post_container",ref:this.sliderHeight,style:{minHeight:y},children:(0,c.jsxs)(o.tv,{hasTrack:!1,className:"tb_hc_post_slider ".concat(z?"tb_hc_fixed_height":""),options:A,ref:e=>this.inputRefs[S]=e,tag:"section",onMove:this.autoScrollSlider,children:[(0,c.jsx)(o.Gj,{children:C&&C.length>0&&C.map(((e,t)=>{const n=i[e];return(0,c.jsx)(o.jw,{p_id:_,className:"tb_".concat(n.id),children:(0,c.jsx)(l.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(h,{ownerId:r.Wall.owner,itemData:n,itemIndex:t,personalization:r.Personalization,ThemeRule:r.ThemeRule,clickToShowPopUp:s,wallID:r.Wall.id,onClickToCTA:p,wall:r,languageSetting:m,onClickPopUpSlider:b})})},t)}))}),(0,c.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_hc_arrow_wrapper_",role:"navigation","aria-label":"Slider Navigation Wrapper",children:[(0,c.jsx)("div",{role:"navigation",className:"tb_hc_arrow splide__arrow splide__arrow--prev tb_hc_arrow_left__ tb__icon tb-arrow-left-alt","aria-labelledby":"Navigation Previous Slide",children:" "}),(0,c.jsx)("div",{role:"navigation",className:"tb_hc_arrow splide__arrow splide__arrow--next tb_hc_arrow_right__ tb__icon tb-arrow-right-alt","aria-labelledby":"Navigation Next Slide",onClick:a.ig?this.requestData:null,children:" "})]})]})}):null})}}const p=(0,l.memo)((0,r.$j)((e=>({})),(e=>({getDataNextSteps:(t,i,l,n,r,o,a,d)=>e((0,s.Sx)(t,i,l,n,r,o,a,d))})))(u))},59169:()=>{}}]);
//# sourceMappingURL=7609.c50023a1.chunk.js.map