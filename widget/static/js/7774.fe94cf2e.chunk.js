"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7774],{77774:(e,l,a)=>{a.r(l),a.d(l,{addScript:()=>U,default:()=>O,onLoad:()=>z});var r=a(47313),n=a(83773),t=a(95162),s=a(43411),o=a(98501),i=a(17739),d=a(35179),p=a(40475),c=a(92789),h=a.n(c),u=a(46417);const w=r.lazy((()=>a.e(4355).then(a.bind(a,44355)))),j=r.lazy((()=>a.e(3032).then(a.bind(a,53032)))),b=r.lazy((()=>Promise.all([a.e(182),a.e(6884)]).then(a.bind(a,75807)))),g=r.lazy((()=>a.e(3478).then(a.bind(a,43478)))),m=r.lazy((()=>a.e(9031).then(a.bind(a,9031)))),x=r.lazy((()=>a.e(8454).then(a.bind(a,28454)))),k=r.lazy((()=>Promise.all([a.e(6390),a.e(7529),a.e(6270),a.e(622),a.e(2198),a.e(6451)]).then(a.bind(a,417)))),D=r.lazy((()=>Promise.all([a.e(6390),a.e(7529),a.e(6270),a.e(7373),a.e(2198),a.e(2104)]).then(a.bind(a,52104)))),S=r.lazy((()=>a.e(339).then(a.bind(a,10339)))),y=r.lazy((()=>a.e(3607).then(a.bind(a,43607)))),f=r.lazy((()=>a.e(7029).then(a.bind(a,87029)))),v=r.lazy((()=>a.e(1174).then(a.bind(a,71174)))),F=r.lazy((()=>a.e(2579).then(a.bind(a,92579)))),P=r.lazy((()=>a.e(7958).then(a.bind(a,57958)))),U=e=>{const l=document.createElement("script");l.src=e,l.defer=!0,document.head.appendChild(l)},z=()=>{window.jQuery||U("".concat(o.do,"/js/jquery.min.js?ver=1")),U("".concat(o.do,"/js/slackdown.js?ver=1"))},E=e=>{var l;return e.loader&&null!=e.loader.loader&&null==e.error.errorWithMessage&&(!e.error.planLimit||d.ig)&&(null==e.error.themeError||Object.keys(e.error.themeError).length>0&&0==e.error.themeError.error_code||1===(null===(l=e.wall)||void 0===l?void 0:l.Personalization.demoWall))?(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(w,{...e})}):!d.ig&&(e.error.errorWithMessage||e.error.planLimit||e.error.themeError)?(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(j,{...e})}):null},L=(0,n.componentWillAppendToBody)((e=>{let{children:l}=e;return l})),I=e=>{let{appData:l}=e;const a=!!(l.wall.UserDetail&&Object.keys(l.wall.UserDetail).length>0);let r=""!=l.webFilters&&l.webFilters?l.webFilters.map((e=>{let{networkId:l}=e;return l})):null;const n=!(!a||l.wall.UserDetail.planId.includes("53"))||!!(d.ZQ&&l.wall.refere&&Object.keys(l.wall.refere).length>0),t=d.ig&&l.wall.User.referePageLink?l.wall.User.referePageLink:d.ZQ?l.wall.refere.referePageLink:(0,i.$t)(r,l.wallID)[0],s=d.ig&&l.wall.User.referePage?l.wall.User.referePage:d.ZQ?l.wall.refere.referePage:(0,i.$t)(r,l.wallID)[1];return n?(0,u.jsx)("a",{href:t,target:"_blank",style:{display:"none"},"aria-label":s,children:s}):null};class C extends r.Component{constructor(){super(...arguments),this.state={errorData:null,render:""},this.onLoadEditor=()=>{if(d.Jc){const l=new BroadcastChannel("embedLivePreview");try{l.addEventListener("message",(e=>{const l=JSON.parse(null===e||void 0===e?void 0:e.data);console.warn("payload 1",l),this.setState({render:(0,t.Z)()});const{onUpdateEditor:a}=this.props;a(l)}))}catch(e){console.log("error",e)}}}}componentWillMount(){d.bX&&(h().init(),a.e(2389).then(a.bind(a,92389)))}componentDidMount(){setTimeout((()=>z()),200),this.onLoadEditor()}componentDidUpdate(e,l){var a,r,n;let t=null===(a=e.appData.wall)||void 0===a||null===(r=a.Personalization)||void 0===r?void 0:r.demoWall;var s;(null===(n=e.appData.error)||void 0===n?void 0:n.themeError)!==l.errorData&&(this.setState({errorData:null===(s=e.appData.error)||void 0===s?void 0:s.themeError}),"function"===typeof window.onSetErrorCode&&null!==this.state.errorData&&window.onSetErrorCode(this.state.errorData,t))}shouldComponentUpdate(e,l){return this.props!=e}render(){var e,l;const{appData:a,modalPop:n}=this.props,{render:t}=this.state,s=!!(a&&a.wall&&Object.keys(a.wall).length>0&&a.wall.UserDetail&&Object.keys(a.wall.UserDetail).length>0);return console.log("WidgetApp",new Date),(0,u.jsx)(u.Fragment,{children:d.bX&&1==a.isStudio&&!i.cy?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(v,{wallID:a.wallID})}):(0,u.jsxs)(u.Fragment,{children:[d.aL?null:(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(F,{})}),(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(g,{})}),a&&a.wall&&Object.keys(a.wall).length>0?(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(b,{wall:a.wall})}):null,n.onSiteIsShowPopUp?(0,u.jsxs)(L,{children:["  ",(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(m,{})})]}):null,(0,r.createElement)(E,{...a,key:t,keyRender:t}),s&&a.wall.UserDetail.planId.includes("53")&&!d.bX?(0,u.jsxs)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[(0,u.jsx)(y,{appData:a})," "]}):null,null!==a&&void 0!==a&&null!==(e=a.postData)&&void 0!==e&&e.isFreeAdsStatus?(0,u.jsx)(L,{children:(0,u.jsxs)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[(0,u.jsx)(f,{appData:a})," "]})}):null,n.isShowPopUp?d.ig&&(0,i.b)()?(0,u.jsxs)(L,{children:[" ",(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(D,{wall:a.wall,data:n.data,languageSetting:a.languageSetting,networkData:a.networkData,postData:a.postData,brandingNetworks:""!=a.webFilters&&a.webFilters?a.webFilters.map((e=>{let{networkId:l}=e;return l})):null})})," "]}):(0,u.jsxs)(L,{children:[" ",(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(k,{wall:a.wall,isShowPopUp:n.isShowPopUp,data:n.data,languageSetting:a.languageSetting,networkData:a.networkData,postData:a.postData,brandingNetworks:""!=a.webFilters&&a.webFilters?a.webFilters.map((e=>{let{networkId:l}=e;return l})):null},n.isShowPopUp)})," "]}):null,d.bX&&(null===a||void 0===a||null===(l=a.announcements)||void 0===l?void 0:l.length)>0?(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(P,{announcements:a.announcements})}):null,n.reportStatus?(0,u.jsxs)(L,{children:[" ",(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(S,{item:n.reportData,wall:a.wall})})," "]}):null,n.shareStatus?(0,u.jsxs)(L,{children:[" ",(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(x,{postLink:n.shareData.link,userName:n.shareData.author.name})})," "]}):null,a&&a.wall&&Object.keys(a.wall).length>0&&d.P2?(0,u.jsx)(L,{children:(0,u.jsx)(I,{appData:a})}):null]})})}}const O=(0,s.$j)((e=>({appData:e.appData,modalPop:e.modalPop})),(e=>({onUpdateEditor:l=>e((0,p.cD)(l))})))(C)}}]);