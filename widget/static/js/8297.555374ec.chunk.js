"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4463,8297],{173:(t,e,i)=>{i.d(e,{A:()=>r});var s=i(9950),n=i(19015),o=i(66345),a=i(44414);class r extends s.PureComponent{constructor(){super(...arguments),this.onClickData=t=>e=>{const{item:i,wallID:s,ownerId:a}=this.props;e.stopPropagation(),o.uS||(0,n.hq)({type:2,action:2,wall:s,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,owner:a}),(0,n.nF)("Tagbox","shareUrl","shareUrl",t),window.open(t,"_blank")}}render(){const{share:t,shareClass:e}=this.props;return(0,a.jsxs)("div",{className:"tb_share_wrapper ".concat(e),children:[(0,a.jsx)("div",{className:"tb_share_button_ tb__icon ".concat(o.uS?"tb-share-fill":"tb-share"),children:(0,a.jsx)("div",{})}),(0,a.jsxs)("div",{className:"tb_share_icon_list_wrap",children:[t.facebook?(0,a.jsx)("div",{className:"tb_share_icon_list",children:(0,a.jsx)("div",{onClick:this.onClickData(t.facebook),className:"tb_share_ico__ tb__icon tb-facebook",title:"facebook",children:(0,a.jsx)("div",{})})}):"",t.twitter?(0,a.jsx)("div",{className:"tb_share_icon_list",children:(0,a.jsx)("div",{onClick:this.onClickData(t.twitter),className:"tb_share_ico__  tb__icon tb-twitter",title:"twitter",children:(0,a.jsx)("div",{})})}):"",t.linkedin?(0,a.jsx)("div",{className:"tb_share_icon_list",children:(0,a.jsx)("div",{onClick:this.onClickData(t.linkedin),className:"tb_share_ico__ tb__icon tb-linkedin",title:"linkedin",children:(0,a.jsx)("div",{})})}):""]})]})}}},1384:(t,e,i)=>{i.d(e,{A:()=>r});var s=i(9950),n=i(73878),o=i(19015);class a extends s.Component{constructor(t){super(t),this.rafId=null,this.lastTime=0,this.speed=0,this.isRunning=!1,this.lastPruneTime=0,this.MAX_DOM_NODES=15,this.PRUNE_OFFSET=200,this.initScroll=()=>{if(this.container=document.getElementById(this.props.parentId),this.content=document.getElementById(this.props.renderID),this.content.scrollHeight<=this.container.clientHeigh-300)return alert("A"),console.log("\ud83d\udd25 NO SCROLL"),void setTimeout(()=>{var t,e,i,s;null===(t=(e=this.props).handleScroll)||void 0===t||t.call(e,0),null===(i=(s=this.props).getExtraPosts)||void 0===i||i.call(s)},3e3);this.speed=this.getSpeed(),this.isRunning=!0,this.lastTime=performance.now(),this.startRAF(),this.bindVideoEvents()},this.pruneOffscreenNodes=()=>{if(!this.container)return;const t=this.container.querySelectorAll(".tb_w_c_post_wrapper");if(t.length<=this.MAX_DOM_NODES)return;const e=this.container.scrollTop;for(let i=0;i<t.length;i++){const s=t[i];if(!(s.offsetTop+s.offsetHeight<e-this.PRUNE_OFFSET))break;s.remove()}},this.startRAF=()=>{if(this.rafId)return;const t=e=>{if(!this.isRunning||!this.container)return;const i=e-this.lastTime;this.lastTime=e;const s=this.speed*i/16.67;this.container.scrollTop+=s;const n=this.container.scrollHeight-this.container.clientHeight-30,o=this.container.scrollTop;var a,r;o+this.container.clientHeight>=this.container.scrollHeight-400&&(null===(a=(r=this.props).handleScroll)||void 0===a||a.call(r,o));this.container.scrollTop>=n?this.onReachBottom():(e-this.lastPruneTime>200&&(this.pruneOffscreenNodes(),this.lastPruneTime=e),this.rafId=requestAnimationFrame(t))};this.rafId=requestAnimationFrame(t)},this.stopRAF=()=>{this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null)},this.bindVideoEvents=()=>{this.container.querySelectorAll("video").forEach(t=>{t.addEventListener("waiting",this.stopRAF),t.addEventListener("playing",this.resumeRAF)})},this.resumeRAF=()=>{this.isRunning&&(this.lastTime=performance.now(),this.startRAF())},this.onReachBottom=()=>{this.stopRAF(),this.container&&(this.container.scrollTop=0,setTimeout(()=>{this.lastTime=performance.now(),this.startRAF()},800))},this.onResize=()=>{this.container&&this.content&&(this.content.scrollHeight>this.container.clientHeight?this.resumeRAF():this.stopRAF())},this.onVisibilityChange=()=>{document.hidden?this.stopRAF():this.resumeRAF()},this.getSpeed=()=>{var t,e;null===(t=this.props.wall)||void 0===t||null===(e=t.Personalization)||void 0===e||e.scrollDelay;return 3},this.cleanup=()=>{this.isRunning=!1,this.stopRAF()},console.log("\ud83d\udd25 ScrollAnimation CONSTRUCTOR",t)}componentDidMount(){this.startTimer=setTimeout(this.initScroll,1e3),window.addEventListener("resize",this.onResize),document.addEventListener("visibilitychange",this.onVisibilityChange)}componentWillUnmount(){this.cleanup(),clearTimeout(this.startTimer),window.removeEventListener("resize",this.onResize),document.removeEventListener("visibilitychange",this.onVisibilityChange)}render(){return this.props.children}}const r=(0,s.memo)((0,n.Ng)(null,t=>({getExtraPosts:()=>t((0,o.W_)())}))(a))},44463:(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var s=i(9950),n=i(66345),o=i(44414);const a=s.lazy(()=>i.e(620).then(i.bind(i,20620)));class r extends s.PureComponent{render(){const{network:t,networkClass:e,ThemeRule:i,isDefault:r,Personalization:l}=this.props,c=!!r&&(7!==t.id&&4!==t.id&&36!==t.id),d=n.uS&&36==t.id?"tagembed":t.icon;return c?(0,o.jsx)("div",{className:"".concat(e," tb__icon tb-").concat(d.replace(/fa-/g,"")),children:(0,o.jsx)("div",{})}):(0,o.jsxs)(s.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(a,{network:t,networkClass:e})]})}}},47713:(t,e,i)=>{i.d(e,{A:()=>o});var s=i(52867),n=i(44414);const o=t=>{let{ThemeRule:e,btnClass:i}=t;const o={fontFamily:e.css_font};return(0,n.jsx)("div",{className:"tb_shop_btn_wrap ".concat(i),children:(0,n.jsx)("div",{className:"tb_shop_btn".concat(e.postHover||(0,s.Nv)(4)||(0,s.Nv)(55)?" tb_shop_btn_light":" tb_shop_btn_dark"),style:o,children:e.shoppingText})})}},58297:(t,e,i)=>{i.r(e),i.d(e,{default:()=>v});var s=i(9950),n=i(74378),o=i.n(n),a=i(52867),r=i(66345),l=i(173),c=(i(44463),i(47713),i(44414));const d=s.lazy(()=>i.e(264).then(i.bind(i,50264))),h=s.lazy(()=>Promise.all([i.e(1823),i.e(8092),i.e(6995)]).then(i.bind(i,59643))),p=r.aD||r.Vn?50:null,u=t=>{let{itemData:e,personalization:i,adjustWidth:n,ThemeRule:o,clickToShowPopUp:u,itemIndex:m,wallID:_,ownerId:b,postSizeInPx:f,wall:g,onClickPopUpSlider:v}=t;const x=(0,s.useRef)(null),w=2===e.type||3===e.type||4===e.type||5===e.type,I=i.trimcontent?(0,a.Ex)(e.content,p):e.content,k=f.adjustWidth<250,T=0==o.postHover&&r.HY?"light":"dark";r.MH,r.MH&&o.backgroundColor;(0,s.useEffect)(()=>{r.Qy&&(0,a._7)(x)},[]);const j=!!(e.hotspot&&e.ugc_products.length>0),R=!!(r.HY&&!e.hotspot&&e.ugc_products.length>0),S=!(!o.postAuthor&&!o.postTime);return(0,s.useEffect)(()=>{e.isPopUp&&v(m,e)},[m,e.isPopUp,e]),(0,c.jsx)("div",{id:"tb-sp-post-".concat(e.id),className:"tb_flux_post_wrapper".concat(k?" tb_flux_post_wrapper2x":""),"tb-network":e.network.id,"tb-product":R?1:j?2:0,tabIndex:"0",role:"article","aria-label":"Post ".concat(parseInt(m)+1,",").concat(I),ref:x,"post-id":e.referenceId?e.referenceId:e.id,"feed-id":e.feedId,children:(0,c.jsx)("div",{className:"tb_flux_post_in".concat(r.HY?" tb_flux_post_ani":""),onClick:u(m,e),children:(0,c.jsxs)("div",{className:"tb_flux_post_media_wrapp",children:[e.share.status?(0,c.jsx)(l.A,{share:e.share,shareClass:"tb_flux_share_container",item:e,wallID:_,ownerId:b}):"",w?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(h,{itemData:e,wallID:_,ownerId:b,ThemeID:i.widgetTheme,wall:g},"img".concat(m,"_").concat(e.id))}):"",S?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(d,{ownerId:b,postTime:e.createdAt,author:e.author,network:e.network,font:o,personalization:i,ThemeRule:o},"img".concat(m,"_").concat(e.id))}):null]})})})};var m=i(73878),_=i(19015),b=i(1384),f=(i(48400),i(80415));class g extends s.Component{constructor(){super(...arguments),this.state={postData:[]},this.videoRef=s.createRef()}componentDidMount(){const{heightUpdate:t}=this.props;setTimeout(()=>t(),1e3);const e=this.videoRef.current;if(e){const t=e.play();void 0!==t&&t.then(()=>{}).catch(t=>{console.warn("Autoplay failed:",t)})}}componentDidUpdate(t,e){return t.postData!==this.props.postData}render(){var t;const{postData:e,completeDataObject:i,adjustWidth:s,wall:n,clickToShowPopUp:a,cardNumber:l,onClickToCTA:d,postSizeInPx:h,onClickPopUpSlider:p}=this.props;let m=e.length;var _=window.ugcSuite||window.location.href.includes("ugcSuite=1")?{ugcSuite:1}:{};const g=Object.keys(_).length>0?"&ugcSuite=1":"";"".concat(r.aD&&!r.Vn?r.dq?f.UM:f.GR:r.aD&&r.Vn?f.ZQ:f.Hy,"/").concat(null===n||void 0===n||null===(t=n.Wall)||void 0===t?void 0:t.id,"?onsite-upload=true").concat(g);if(n&&1==n.Personalization.fitRow&&e.length>=parseInt(l)){let t=e.length/parseInt(l);m=parseInt(l)*parseInt(t)}return(0,c.jsx)(b.A,{wall:n,parentId:"tb_marquee",renderID:"MotionV",children:(0,c.jsx)("div",{className:"tb_flux_marquee_box",children:(0,c.jsx)("div",{className:"tb_flux_marquee_inner",children:(0,c.jsxs)("div",{className:"tb_flux_marquee_outline",children:[(0,c.jsx)("div",{id:"tb_marquee",className:"tb_flux_marquee",children:(0,c.jsx)(o(),{id:"MotionV",className:"tb_flux_post_container",tabIndex:"0","aria-label":"There are ".concat(e&&e.length>0?e.length:0," posts in the feed"),elementType:"div",options:{transitionDuration:0,percentPosition:!0,itemSelector:".tb_flux_post_wrapper",horizontalOrder:!1,resize:!0},disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:{},enableResizableChildren:!0,children:(null===e||void 0===e?void 0:e.length)>0&&e.map((t,e)=>{const o=i[t];return(0,c.jsx)(u,{ownerId:n.Wall.owner,itemData:o,itemIndex:e,adjustWidth:s,personalization:n.Personalization,ThemeRule:n.ThemeRule,wallID:n.Wall.id,clickToShowPopUp:a,onClickToCTA:d,postSizeInPx:h,wall:n,onClickPopUpSlider:p},"sqr_crd_".concat(e,"_").concat(o.id))})})}),(0,c.jsx)("div",{className:"tb_flux_footer",children:(0,c.jsx)("video",{ref:this.videoRef,src:"https://cloud.socialwalls.com/react-app/media/custom-media/SHEIN-video.mp4",width:"672",poster:"https://cloud.socialwalls.com/react-app/media/custom-media/SHEIN-pic.png",preload:"auto",playsInline:!0,loop:!0,muted:!0,children:(0,c.jsx)("track",{src:"https://cloud.socialwalls.com/react-app/media/custom-media/shein-ugc.vtt",kind:"captions",srcLang:"en",label:"english"})})})]})})})})}}const v=(0,m.Ng)(t=>({postHeight:t.postHeight.data}),t=>({managePostHeight:e=>t((0,_.V3)(e))}))(g)}}]);