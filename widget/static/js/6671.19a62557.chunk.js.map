{"version":3,"file":"static/js/6671.19a62557.chunk.js","mappings":"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","sources":["app/Themes/Elements/Media/Image.js","../node_modules/react-image-size/lib/lib/constants.js","../node_modules/react-image-size/lib/lib/getImageSize.js","../node_modules/react-image-size/lib/lib/useImageSize.js","app/Themes/Elements/Hotspot/Hotspot.js","../node_modules/react-image-size/lib/index.js"],"sourcesContent":["import React, { PureComponent } from \"react\";\nimport { POPUP_IMAGE_RENEW_REQUEST } from '../../../../actions/themeActions'\nimport Hotspot from \"../Hotspot/Hotspot\";\nimport { getImageSize } from 'react-image-size';\nimport { GET_MEDIA_NAME } from '../../../../utils'\nimport { CloudUrl } from \"../../../../constants\";\nimport { isTagShop, isSocialWall } from \"../../../../actions/api\";\nexport default class Image extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loadError: false,\n            paddingBottom: 100,\n            fixedPaddingBottom: 100,\n            imgUrl: this.props.data.postFileNew,\n            imgSize: {\n                small: props.data.postFileNew,\n                large: props.data.filename,\n                orignal: props.data.file\n            },\n            size: {\n                height: 100,\n                width: 100\n            },\n            isVisible: false,\n\n        }\n        this.videoRef = React.createRef();\n        this.observer = null\n    }\n    componentWillMount() {\n        const { data, hotspot, size } = this.props\n        if (!size || (data.hotspot && data.ugc_products.length > 0 && hotspot)) {\n            this.onMediaLoad();\n        } else {\n            this.setState({\n                paddingBottom: size\n            })\n        }\n\n    }\n\n    componentDidMount() {\n        const { data, hotspot, size } = this.props\n        if (!size || (data.hotspot && data.ugc_products.length > 0 && hotspot)) {\n            this.onMediaLoad();\n        } else {\n            this.setState({\n                fixedPaddingBottom: size\n            })\n        }\n        try {\n            this.observer = new IntersectionObserver(\n                ([entry]) => {\n                    if (entry.isIntersecting) {\n                        this.setState({ isVisible: entry.isIntersecting });\n                        this.observer.disconnect();\n                    }\n                },\n                {\n                    threshold: 0.1, // Video is considered visible if 50% of it is in the viewport\n                }\n            );\n\n            if (this.videoRef.current) this.observer.observe(this.videoRef.current);\n        }\n        catch (error) {\n            this.setState({ isVisible: true });\n        }\n\n    }\n    onSetHeightWithWidth = (width, height) => {\n        const imageContainer = document.querySelector(`.track${this.props.data.id}`);\n        if (imageContainer) {\n            imageContainer.setAttribute(\"data-height\", height);\n            imageContainer.setAttribute(\"data-width\", width);\n        }\n    }\n\n    onMediaLoad = async (props) => {\n        const { data } = this.props;\n        if (data && Object.keys(data).length > 0 && [2, 4, 5, 3].includes(data.type)) {\n            if (data.mediaHeight && data.mediaHeight != \"\" && data.mediaWidth && data.mediaWidth != \"\") {\n                this.setState({\n                    paddingBottom: (data.mediaHeight * 100) / data.mediaWidth,\n                    size: {\n                        height: parseInt(data.mediaHeight),\n                        width: parseInt(data.mediaWidth)\n                    }\n                })\n            } else {\n                try {\n                    const { width, height } = await getImageSize(data.postFileNew);\n                    this.setState({\n                        paddingBottom: (height * 100) / width,\n                        size: {\n                            height: parseInt(height),\n                            width: parseInt(width)\n                        }\n                    })\n                } catch (error) {\n                    this.setState({\n                        paddingBottom: 100,\n                        size: {\n                            height: 100,\n                            width: 100\n                        }\n                    })\n                }\n            }\n        }\n    }\n\n    onLoad = event => {\n        const { data } = this.props;\n        if (event.target.getAttribute(\"data-load\") == 1) this.setState({ imgSize: { ...this.state.imgSize, small: event.target.src } });\n        try {\n            if ((data.mediaHeight && data.mediaHeight != \"\" && data.mediaWidth && data.mediaWidth != \"\")) this.onSetHeightWithWidth(data.mediaWidth, data.mediaHeight);\n            else this.onSetHeightWithWidth(event.target.naturalWidth ? event.target.naturalWidth : event.target.width, event.target.naturalHeight ? event.target.naturalHeight : event.target.height);\n        }\n        catch (error) {\n            this.onSetHeightWithWidth(event.target.naturalWidth ? event.target.naturalWidth : event.target.width, event.target.naturalHeight ? event.target.naturalHeight : event.target.height);\n        }\n    }\n    componentWillUnmount() {\n        if (this.observer) {\n            this.observer.disconnect(); // Clean up the observer\n        }\n    }\n\n    render() {\n        const { ImageClass, data, wallID, themeID, ownerId, hotspot } = this.props\n        const { imgUrl, paddingBottom, size, fixedPaddingBottom, imgSize, noPadding, isVisible } = this.state\n\n        const imageStyle = {\n            paddingBottom: `${this.props.size ? this.props.size == 1 ? null : fixedPaddingBottom : paddingBottom}%`\n        };\n\n        const blurImg = {\n            backgroundImage: `url(${imgSize.small})`\n        };\n\n        if (size.width > size.height) {\n            var newWidth = '100%';\n            var newHeight = `${(size.height / size.width) * 100}%`;\n        } else {\n            var newHeight = '100%';\n            var newWidth = `${(size.width / size.height) * 100}%`;\n        }\n        const isHotspot = data.hotspot && data.ugc_products.length > 0 && hotspot ? true : false\n\n        const hotspotImgStyle = { width: isHotspot && this.props.size ? newWidth : null, height: isHotspot && this.props.size ? newHeight : null }\n        return <div className={`${ImageClass}_wrap_ mediaHolder${data.id}`} style={imageStyle} ref={this.videoRef}>\n            {isHotspot ? <div className=\"tb_blur_bg_\" style={blurImg}></div> : null}\n            <div className={`${ImageClass}_wrap_in`} style={hotspotImgStyle}>\n                {isHotspot ? <Hotspot product={data.ugc_products} /> : null}\n                <img\n                    className={`${ImageClass} track${data.id}`}\n                    role=\"img\"\n                    src={isVisible ? imgSize.small : data.postFileNew}\n                    srcSet={isVisible ? isSocialWall && noPadding ? `${imgSize.large}, 991w ${imgSize.small}, 480w` : null : data.postFileNew}\n                    height={300}\n                    width={300}\n                    data-link={data.link}\n                    data-load=\"0\"\n                    data-network={data.network.id}\n                    data-wall-id={wallID}\n                    data-owner-id={ownerId}\n                    data-item-id={data.id}\n                    data-feed-id={data.feedId ? data.feedId : \"\"}\n                    data-filter-id={data.filterId}\n                    theme-id={themeID}\n                    onLoad={this.onLoad}\n                    onError={!data.stories ? (e) => {\n                        e.target.src = `${CloudUrl}/media/images/error/no-image.svg`;\n                        e.target.srcset = `${CloudUrl}/media/images/error/no-image.svg`;\n                        //POPUP_IMAGE_RENEW_REQUEST(e)\n                    } : null}\n                    alt={GET_MEDIA_NAME(imgUrl)}\n                />\n            </div>\n        </div>\n    }\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorMessage = void 0;\nexports.ErrorMessage = {\n    WINDOW_IS_NOT_DEFINED: 'Window is not defined',\n    URL_IS_NOT_DEFINED: 'Url is not defined',\n    TIMEOUT: 'Timeout',\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getImageSize = void 0;\nconst constants_1 = require(\"./constants\");\nconst getImageSize = (url, options = {}) => {\n    return new Promise((resolve, reject) => {\n        if (typeof window === 'undefined') {\n            return reject(constants_1.ErrorMessage.WINDOW_IS_NOT_DEFINED);\n        }\n        if (!url) {\n            return reject(constants_1.ErrorMessage.URL_IS_NOT_DEFINED);\n        }\n        let timer = null;\n        const img = new Image();\n        img.addEventListener('load', () => {\n            if (timer) {\n                window.clearTimeout(timer);\n            }\n            resolve({ width: img.naturalWidth, height: img.naturalHeight });\n        });\n        img.addEventListener('error', (event) => {\n            if (timer) {\n                window.clearTimeout(timer);\n            }\n            reject(`${event.type}: ${event.message}`);\n        });\n        img.src = url;\n        if (options.timeout) {\n            timer = window.setTimeout(() => reject(constants_1.ErrorMessage.TIMEOUT), options.timeout);\n        }\n    });\n};\nexports.getImageSize = getImageSize;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useImageSize = void 0;\nconst react_1 = require(\"react\");\nconst getImageSize_1 = require(\"./getImageSize\");\nconst useImageSize = (url, options) => {\n    const [dimensions, setDimensions] = (0, react_1.useState)(null);\n    const [loading, setLoading] = (0, react_1.useState)(false);\n    const [error, setError] = (0, react_1.useState)(null);\n    (0, react_1.useEffect)(() => {\n        const fetch = () => __awaiter(void 0, void 0, void 0, function* () {\n            setLoading(true);\n            setDimensions(null);\n            setError(null);\n            try {\n                const { width, height } = yield (0, getImageSize_1.getImageSize)(url, options);\n                setDimensions({ width, height });\n            }\n            catch (error) {\n                setError(error.toString());\n            }\n            finally {\n                setLoading(false);\n            }\n        });\n        fetch();\n    }, [url, options]);\n    return [dimensions, { loading, error }];\n};\nexports.useImageSize = useImageSize;\n","import React, { PureComponent, Suspense } from \"react\";\nimport { connect } from 'react-redux';\nimport { componentWillAppendToBody } from \"react-append-to-body\";\nimport { Tooltip } from 'react-tooltip';\nimport \"./scss/Hotspot.scss\";\nimport { generateUniqueString } from '../../../../utils'\n\nconst MyComponent = ({ children }) => {\n  return children;\n}\n\nconst AppendedView = componentWillAppendToBody(MyComponent);\nconst htmlString = (product) => {\n  const discountPrice = product.product_discount > 0 ? product.product_discount : product.product_price;\n  const originalPrice = product.product_discount > 0 && product.product_discount != product.product_price ?\n    `<div class=\"tb_p_tooltip_price tb_price_disabled\">${product.price_currency_symbol}${product.product_price}</div>` : '';\n  const priceHtml = product.product_price > 0 || product.product_discount > 0 ?\n    `${originalPrice}<div class=\"tb_p_tooltip_price\">${product.price_currency_symbol}${discountPrice}</div>` : '';\n\n  return `<a href=\"${product.product_url}\" target=\"_blank\" class=\"tb_tooltip_wrap\">\n          <div class=\"tb_p_tooltip_title\">${product.product_title}</div>\n          ${priceHtml}\n        </a>`;\n}\n\nclass Hotspot extends PureComponent {\n  state = { activeMouse: null }\n\n  setActiveMouse = (index) => {\n    return index\n  }\n  render() {\n    const { product, appData } = this.props;\n    const { activeMouse } = this.state;\n    const Hotspot = appData && Object.keys(appData).length > 0 ? appData.wall.ProductSetting.Hotspot : ''\n    return (Hotspot.status ? <div className=\"tb_hotspot_wrap\">\n      {product.map((item, index) => {\n        const uniqueString = generateUniqueString();\n        return <div key={index} href={item.product_url} id={`tb_hotspot-${item.id}${uniqueString}`} onClick={event => { event.stopPropagation() }} onMouseEnter={event => this.setActiveMouse(index)} onMouseOut={event => this.setActiveMouse(null)} className={`tb_hotspot_dot${activeMouse == index ? ' tb_hotspot_active_' : ''}`} style={{ top: item.hotspot_cordinates.top, left: item.hotspot_cordinates.left }} data-tooltip-offset={7}>\n          <div className={`tb_hotspot__ ${Hotspot.type == 0 ? 'tb_hotspot_ani__' : ''}`} onClick={event => window.open(item.UgcProduct.product_url, '_blank')}>{index + 1}</div>\n          <AppendedView><Tooltip className=\"tb_pro_tooltip\" anchorSelect={`#tb_hotspot-${item.id}${uniqueString}`} clickable html={htmlString(item.UgcProduct)} /></AppendedView>\n        </div>\n      })\n      }\n    </div >\n      : null\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    appData: state.appData\n  }\n}\n\nexport default connect(mapStateToProps)(Hotspot);","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useImageSize = exports.getImageSize = exports.Error = void 0;\nvar constants_1 = require(\"./lib/constants\");\nObject.defineProperty(exports, \"Error\", { enumerable: true, get: function () { return constants_1.ErrorMessage; } });\nvar getImageSize_1 = require(\"./lib/getImageSize\");\nObject.defineProperty(exports, \"getImageSize\", { enumerable: true, get: function () { return getImageSize_1.getImageSize; } });\nvar useImageSize_1 = require(\"./lib/useImageSize\");\nObject.defineProperty(exports, \"useImageSize\", { enumerable: true, get: function () { return useImageSize_1.useImageSize; } });\n"],"names":["Image","PureComponent","constructor","props","super","onSetHeightWithWidth","width","height","imageContainer","document","querySelector","concat","this","data","id","setAttribute","onMediaLoad","async","Object","keys","length","includes","type","mediaHeight","mediaWidth","setState","paddingBottom","size","parseInt","getImageSize","postFileNew","error","onLoad","event","target","getAttribute","imgSize","_objectSpread","state","small","src","naturalWidth","naturalHeight","loadError","fixedPaddingBottom","imgUrl","large","filename","orignal","file","isVisible","videoRef","React","observer","componentWillMount","hotspot","ugc_products","componentDidMount","IntersectionObserver","_ref","entry","isIntersecting","disconnect","threshold","current","observe","componentWillUnmount","render","ImageClass","wallID","themeID","ownerId","noPadding","imageStyle","blurImg","backgroundImage","newWidth","newHeight","isHotspot","hotspotImgStyle","_jsxs","className","style","ref","children","_jsx","Hotspot","product","role","srcSet","isSocialWall","link","network","feedId","filterId","onError","stories","e","CloudUrl","srcset","alt","GET_MEDIA_NAME","defineProperty","exports","value","ErrorMessage","WINDOW_IS_NOT_DEFINED","URL_IS_NOT_DEFINED","TIMEOUT","constants_1","require","url","options","arguments","undefined","Promise","resolve","reject","window","timer","img","addEventListener","clearTimeout","message","timeout","setTimeout","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","then","apply","useImageSize","react_1","getImageSize_1","dimensions","setDimensions","useState","loading","setLoading","setError","useEffect","toString","AppendedView","componentWillAppendToBody","htmlString","discountPrice","product_discount","product_price","originalPrice","price_currency_symbol","priceHtml","product_url","product_title","activeMouse","setActiveMouse","index","appData","wall","ProductSetting","status","map","item","uniqueString","generateUniqueString","href","onClick","stopPropagation","onMouseEnter","onMouseOut","top","hotspot_cordinates","left","open","UgcProduct","Tooltip","anchorSelect","clickable","html","connect","enumerable","get","useImageSize_1"],"sourceRoot":""}