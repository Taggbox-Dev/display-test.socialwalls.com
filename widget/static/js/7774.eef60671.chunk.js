"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7774],{77774:(e,l,a)=>{a.r(l),a.d(l,{addScript:()=>z,default:()=>W,isEditor:()=>E,onLoad:()=>L});var t=a(47313),n=a(83773),r=a(95162),s=a(43411),o=a(98501),i=a(17739),d=a(35179),c=a(43635),p=a(92789),h=a.n(p),u=a(46417);const w=t.lazy((()=>a.e(4355).then(a.bind(a,44355)))),j=t.lazy((()=>a.e(3032).then(a.bind(a,53032)))),g=t.lazy((()=>Promise.all([a.e(182),a.e(5807)]).then(a.bind(a,75807)))),b=t.lazy((()=>a.e(9031).then(a.bind(a,9031)))),m=t.lazy((()=>a.e(8454).then(a.bind(a,28454)))),x=t.lazy((()=>Promise.all([a.e(6390),a.e(622),a.e(7529),a.e(6270),a.e(2198),a.e(6451)]).then(a.bind(a,417)))),k=t.lazy((()=>Promise.all([a.e(6390),a.e(7529),a.e(6270),a.e(7373),a.e(2198),a.e(2104)]).then(a.bind(a,52104)))),D=t.lazy((()=>a.e(339).then(a.bind(a,10339)))),f=t.lazy((()=>a.e(3607).then(a.bind(a,43607)))),y=t.lazy((()=>a.e(7029).then(a.bind(a,87029)))),S=t.lazy((()=>a.e(6105).then(a.bind(a,56105)))),F=t.lazy((()=>a.e(1174).then(a.bind(a,71174)))),P=t.lazy((()=>a.e(2579).then(a.bind(a,92579)))),v=t.lazy((()=>a.e(7958).then(a.bind(a,57958)))),U=t.lazy((()=>Promise.all([a.e(510),a.e(5693)]).then(a.bind(a,79420)))),z=e=>{const l=document.createElement("script");l.src=e,l.defer=!0,document.head.appendChild(l)},E=!!window.isEditor,L=()=>{window.jQuery||z("".concat(o.Mp,"/js/jquery.min.js?ver=1")),z("".concat(o.Mp,"/js/slackdown.js?ver=1"))},I=e=>{var l;return e.loader&&null!=e.loader.loader&&null==e.error.errorWithMessage&&(!e.error.planLimit||d.ig)&&(null==e.error.themeError||Object.keys(e.error.themeError).length>0&&0==e.error.themeError.error_code||1===(null===(l=e.wall)||void 0===l?void 0:l.Personalization.demoWall))?(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(w,{...e})}):!d.ig&&(e.error.errorWithMessage||e.error.planLimit||e.error.themeError)?(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(j,{...e})}):null},O=(0,n.componentWillAppendToBody)((e=>{let{children:l}=e;return l})),C=e=>{let{appData:l}=e;const a=!!(l.wall.UserDetail&&Object.keys(l.wall.UserDetail).length>0);let t=""!=l.webFilters&&l.webFilters?l.webFilters.map((e=>{let{networkId:l}=e;return l})):null;const n=!(!a||l.wall.UserDetail.planId.includes("53"))||!!(d.ZQ&&l.wall.refere&&Object.keys(l.wall.refere).length>0),r=d.ig&&l.wall.User.referePageLink?l.wall.User.referePageLink:d.ZQ?l.wall.refere.referePageLink:(0,i.$t)(t,l.wallID)[0],s=d.ig&&l.wall.User.referePage?l.wall.User.referePage:d.ZQ?l.wall.refere.referePage:(0,i.$t)(t,l.wallID)[1];return n?(0,u.jsx)("a",{href:r,target:"_blank",style:{display:"none"},"aria-label":s,children:s}):null};class M extends t.Component{constructor(){super(...arguments),this.state={errorData:null,render:""},this.onLoadEditor=()=>{if(d.Jc||window.editor&&d.bX){const l=new BroadcastChannel("embedLivePreview");try{l.addEventListener("message",(e=>{console.warn("payload message",e);const l=JSON.parse(null===e||void 0===e?void 0:e.data);console.warn("payload 1",l),this.setState({render:(0,r.Z)()});const{onUpdateEditor:a}=this.props;a(l)}))}catch(e){console.log("error",e)}}}}componentWillMount(){d.bX&&(h().init(),a.e(2389).then(a.bind(a,92389)))}componentDidMount(){setTimeout((()=>L()),200),this.onLoadEditor()}componentDidUpdate(e,l){var a,t,n;let r=null===(a=e.appData.wall)||void 0===a||null===(t=a.Personalization)||void 0===t?void 0:t.demoWall;var s;(null===(n=e.appData.error)||void 0===n?void 0:n.themeError)!==l.errorData&&(this.setState({errorData:null===(s=e.appData.error)||void 0===s?void 0:s.themeError}),"function"===typeof window.onSetErrorCode&&null!==this.state.errorData&&window.onSetErrorCode(this.state.errorData,r))}render(){var e;const{appData:l,modalPop:a,spotlight:n}=this.props,{render:r}=this.state,s=!!(l&&l.wall&&Object.keys(l.wall).length>0&&l.wall.UserDetail&&Object.keys(l.wall.UserDetail).length>0);return console.log("spotlight-spotlight",n),(0,u.jsx)(u.Fragment,{children:!d.bX||window.location.href.includes("onsite-upload")||1!=l.isStudio||i.cy||E||window.location.href.includes("editor=1")?(0,u.jsxs)(u.Fragment,{children:[d.aL?null:(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(P,{})}),l&&l.wall&&Object.keys(l.wall).length>0?(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(g,{wall:l.wall})}):null,a.onSiteIsShowPopUp?(0,u.jsxs)(O,{children:["  ",(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(b,{})})]}):null,(0,t.createElement)(I,{...l,key:r,keyRender:r}),s&&l.wall.UserDetail.planId.includes("53")&&!d.bX?(0,u.jsxs)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[(0,u.jsx)(f,{appData:l})," "]}):null,null!==l&&void 0!==l&&null!==(e=l.postData)&&void 0!==e&&e.isFreeAdsStatus?(0,u.jsxs)(O,{children:[(0,u.jsxs)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[(0,u.jsx)(y,{appData:l})," "]}),window.editor&&window.location.href.includes("editor=1")?"":(0,u.jsxs)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[(0,u.jsx)(S,{appData:l})," "]})]}):null,a.isShowPopUp?d.ig&&(0,i.b)()?(0,u.jsxs)(O,{children:[" ",(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(k,{wall:l.wall,data:a.data,languageSetting:l.languageSetting,networkData:l.networkData,postData:l.postData,brandingNetworks:""!=l.webFilters&&l.webFilters?l.webFilters.map((e=>{let{networkId:l}=e;return l})):null})})," "]}):(0,u.jsxs)(O,{children:[" ",(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(x,{wall:l.wall,isShowPopUp:a.isShowPopUp,data:a.data,languageSetting:l.languageSetting,networkData:l.networkData,postData:l.postData,brandingNetworks:""!=l.webFilters&&l.webFilters?l.webFilters.map((e=>{let{networkId:l}=e;return l})):null},a.isShowPopUp)})," "]}):null,d.bX&&l.announcements?(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(v,{announcements:l.announcements})}):null,a.reportStatus&&d.P2?(0,u.jsxs)(O,{children:[" ",(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(D,{item:a.reportData,wall:l.wall})})," "]}):null,a.shareStatus&&d.P2?(0,u.jsxs)(O,{children:[" ",(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(m,{postLink:a.shareData.link,userName:a.shareData.author.name})})," "]}):null,l&&l.wall&&Object.keys(l.wall).length>0&&d.P2?(0,u.jsx)(O,{children:(0,u.jsx)(C,{appData:l})}):null,d.bX&&n.status?(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(U,{item:n.data})}):null]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(F,{wallID:l.wallID})})})}}const W=(0,s.$j)((e=>({appData:e.appData,modalPop:e.modalPop,spotlight:e.spotlight})),(e=>({onUpdateEditor:l=>e((0,c.cD)(l))})))(M)}}]);