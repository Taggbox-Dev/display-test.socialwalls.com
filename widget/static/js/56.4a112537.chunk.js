"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[56],{70056:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Z});var a=t(9950),s=t(73068),l=t(11127),i=t(41377),r=t(80415),o=t(52867),d=t(14478),p=t(66345),c=t(44414);const h=a.lazy(()=>t.e(4675).then(t.bind(t,74675))),u=a.lazy(()=>t.e(980).then(t.bind(t,10980))),m=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(5446),t.e(4378),t.e(8237)]).then(t.bind(t,59992))),x=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(5446),t.e(4378),t.e(7492)]).then(t.bind(t,57492))),g=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(5446),t.e(4378),t.e(7074)]).then(t.bind(t,81529))),S=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(5446),t.e(4378),t.e(8019)]).then(t.bind(t,57458))),j=a.lazy(()=>t.e(6837).then(t.bind(t,86837))),P=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(571)]).then(t.bind(t,84061))),w=a.lazy(()=>Promise.all([t.e(1823),t.e(804),t.e(8615),t.e(5446),t.e(4378),t.e(2253)]).then(t.bind(t,25816))),b=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(3556),t.e(8400),t.e(5344),t.e(514),t.e(9557)]).then(t.bind(t,80545))),k=a.lazy(()=>t.e(3278).then(t.bind(t,33278))),I=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(8940),t.e(6197),t.e(7297),t.e(1502)]).then(t.bind(t,13778))),f=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8940),t.e(6197),t.e(7297),t.e(2400)]).then(t.bind(t,17135))),D=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(3556),t.e(5344),t.e(514),t.e(2578)]).then(t.bind(t,28185))),z=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(3556),t.e(4654)]).then(t.bind(t,69106))),y=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(3556),t.e(4169)]).then(t.bind(t,30998))),F=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(3556),t.e(6540)]).then(t.bind(t,2508))),U=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(3556),t.e(7406)]).then(t.bind(t,33394))),T=a.lazy(()=>t.e(8593).then(t.bind(t,58593))),C=a.lazy(()=>t.e(543).then(t.bind(t,50543))),W=a.lazy(()=>Promise.all([t.e(804),t.e(8615),t.e(3556),t.e(7319)]).then(t.bind(t,71630))),v=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(5446),t.e(4378),t.e(8506)]).then(t.bind(t,67809))),N=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(5446),t.e(4378),t.e(6517)]).then(t.bind(t,50688))),H=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(5446),t.e(4378),t.e(427)]).then(t.bind(t,427))),L=a.lazy(()=>Promise.all([t.e(5446),t.e(4378),t.e(1555)]).then(t.bind(t,81555))),R=a.lazy(()=>Promise.all([t.e(5446),t.e(4378),t.e(8400),t.e(8297)]).then(t.bind(t,58297))),_=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(5446),t.e(4378),t.e(8933)]).then(t.bind(t,35472))),E=a.lazy(()=>Promise.all([t.e(3556),t.e(1906)]).then(t.bind(t,41906))),M=a.lazy(()=>t.e(4155).then(t.bind(t,34155))),Y=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(5446),t.e(4378),t.e(8940),t.e(6197),t.e(2898)]).then(t.bind(t,45198))),V=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(5446),t.e(4378),t.e(2522)]).then(t.bind(t,90193))),A=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(3556),t.e(7628)]).then(t.bind(t,33356))),O=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(3556),t.e(5777)]).then(t.bind(t,60191))),B=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(804),t.e(8615),t.e(3556),t.e(5344),t.e(514),t.e(9030)]).then(t.bind(t,75041))),q=a.lazy(()=>Promise.all([t.e(1823),t.e(8092),t.e(8940),t.e(6197),t.e(9647)]).then(t.bind(t,65812))),J=a.lazy(()=>t.e(3758).then(t.bind(t,3758))),X=(0,s.componentWillAppendToBody)(e=>{let{children:n}=e;return n}),G=p.uS?r.RY:p.HY?r.hX:p.aD?r.gc:r.Fp,Q=p.uS?r.hO:p.HY?r.Fc:p.Vn?r.gc:r.xX,$=a.memo(e=>{let{renderId:n,wall:t,reviewFilters:s,webFilters:l,postData:i,adjustWidth:r,languageSetting:o,clickToShowPopUp:d,cardNumber:h,onClickToCTA:u,postSizeInPx:J,onClickPopUpSlider:X,parentID:G,keyRender:Q,containerSize:$,heightUpdate:K}=e;const Z=!i.hasMoreData[0]||0!=i.hasMoreData[0].hasMoreData&&(!i.hasMoreData[i.appendData.networkID]||i.hasMoreData[i.appendData.networkID].hasMoreData),ee={...i,reviewFilters:s,webFilters:l,hasMoreData:Z,wall:t,adjustWidth:r,languageSetting:o,clickToShowPopUp:d,onClickToCTA:u,onClickPopUpSlider:X,keyRender:Q,containerSize:$,heightUpdate:K};switch(t.Personalization.widgetTheme){case 20:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(S,{...ee})}):null;case 5:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(g,{...ee})}):null;case 3:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(x,{...ee})}):null;case 4:return r?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(j,{...ee,cardNumber:h,postSizeInPx:J})," "]}):null;case 19:case 59:return r?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(m,{...ee})," "]}):null;case 50:return p.HY?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(b,{...ee,cardNumber:h,renderId:n,postSizeInPx:J})}):(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(w,{...ee,cardNumber:h,renderId:n,postSizeInPx:J})});case 52:return p.uS?r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(S,{...ee})}):null:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(z,{...ee})});case 16:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(F,{...ee,postSizeInPx:J,onClickPopUpSlider:X,parentID:G})});case 55:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(D,{...ee,cardNumber:parseInt(h),onClickPopUpSlider:X,parentID:G})});case 49:case 53:return p.HY?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(k,{...ee,cardNumber:h,renderId:n,postSizeInPx:J})}):(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(P,{...ee})});case 47:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(U,{...ee,onClickPopUpSlider:X,renderId:n,parentID:G})});case 54:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(W,{...ee,onClickPopUpSlider:X,renderId:n,parentID:G})});case 6:case 61:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(I,{...ee,onClickPopUpSlider:X,renderId:n,parentID:G})});case 62:return p.HY?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(f,{...ee,cardNumber:h,onClickPopUpSlider:X,renderId:n,parentID:G})}):p.aD?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(v,{...ee,onClickPopUpSlider:X,parentID:G})}):"";case 57:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(T,{...ee})});case 58:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(C,{...ee})});case 60:case 56:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(y,{...ee,onClickPopUpSlider:X,parentID:G})});case 63:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(H,{...ee,onClickPopUpSlider:X,parentID:G})}):null;case 64:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(N,{cardNumber:h,...ee,onClickPopUpSlider:X,parentID:G})});case 65:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(L,{...ee,onClickPopUpSlider:X,parentID:G,cardNumber:h,postSizeInPx:J})});case 78:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(_,{...ee,onClickPopUpSlider:X,parentID:G})});case 66:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(V,{...ee,onClickPopUpSlider:X,parentID:G})});case 67:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(M,{...ee,onClickPopUpSlider:X,parentID:G,cardNumber:h,postSizeInPx:J})});case 68:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(E,{...ee,onClickPopUpSlider:X,parentID:G,cardNumber:h,renderId:n,postSizeInPx:J})});case 69:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(Y,{...ee,onClickPopUpSlider:X,parentID:G})});case 74:case 76:case 77:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(A,{...ee,onClickPopUpSlider:X,parentID:G})});case 70:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(O,{...ee,onClickPopUpSlider:X,parentID:G,renderId:n})});case 71:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:p.Vn?(0,c.jsx)(F,{...ee,postSizeInPx:J,onClickPopUpSlider:X,parentID:G}):(0,c.jsx)(B,{...ee,onClickPopUpSlider:X,postSizeInPx:J,parentID:G})});case 73:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(q,{...ee,onClickPopUpSlider:X,parentID:G})});case 88:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(R,{...ee,onClickPopUpSlider:X,parentID:G,cardNumber:h,postSizeInPx:J})});default:return(0,c.jsx)(c.Fragment,{})}});class K extends a.PureComponent{constructor(){super(...arguments),this.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,adjustWidth:0,cardNumber:0,postSizeInPx:0,isLoaded:!1,currentIndex:-1,height:0,updatedValue:0},this.heightUpdate=()=>{if(!p.Vn){const e=e=>(document.querySelector(e)||{}).clientHeight||0,n=e(".tb_wall_header__"),t=window.editor?e("#kt_header"):0,a=e(".ti_container");this.setState({height:n+t+a})}},this.autoLoadEditorScrollData=e=>{const{wall:n,postData:t,loaderData:a}=this.props,s=n.ThemeRule.numberOfPosts;let l=document.getElementsByClassName("wall-editor");if(1==n.Personalization.autoScrollStatus&&G.includes(n.Personalization.widgetTheme)&&l.length>0){let e=l[0];if(document.body.scrollHeight+e.scrollTop>=e.scrollHeight-10&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,t.appendData.networkID,t.appendData.after,t.appendData.heightEvent)}}},this.autoLoadScrollData=e=>{const{wall:n,postData:t,loaderData:a}=this.props,s=n.ThemeRule.numberOfPosts,l=document.body,i=document.documentElement;if(1===n.Personalization.autoScrollStatus&&G.includes(n.Personalization.widgetTheme)){const e=Math.max(l.scrollHeight,l.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);if(window.innerHeight+window.pageYOffset>=parseInt(e)-parseInt(50)&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,t.appendData.networkID,t.appendData.after,t.appendData.heightEvent)}}},this.onResponsiveTheme=e=>{const{wall:n}=this.props;let{windowWidth:t}=this.state;t=2===e?t+165:t;let{adjustWidth:a,cardNumber:s}=(0,o.Jw)(t,n);a=(100/t*a).toFixed(2),this.setState({adjustWidth:a,cardNumber:s,postSizeInPx:(0,o.Jw)(t,n)},()=>this.heightUpdate())},this.onClickToShowPopup=(e,n)=>t=>{t.stopPropagation(),this.onLoadPopUp(e,n)},this.onClickPopUpSlider=(e,n)=>this.onLoadPopUp(e,n),this.onLoadPopUp=(e,n)=>{const{wall:t,languageSetting:a,postData:s}=this.props;if(p.yR&&!p.uS&&!p.HY&&(i.Fr&&!t.Personalization.mobilePopup||p.uS&&t.Personalization.mobilePopup&&""!==n.link)){if("undefined"==n.link)return!1;window.open(n.link,"_blank")}else{let l=s.postData.map(e=>s.completeDataObject[e]).filter(e=>!String(e.id).includes("free_add_")),i=(0,o.p5)(l,n.id,e);if(2===t.Personalization.postFeatured||p.uS&&1==t.Personalization.mobilePopup){if("undefined"==n.link||""==n.link)return!1;window.open(n.link,"_blank")}else 3===t.Personalization.postFeatured?window.open(t.Personalization.customUrl,"_blank"):1===t.Personalization.postFeatured&&this.props.showPopUP({type:"post",card:n,idArray:l,index:i,viewOnText:a.viewOnText,shareText:a.shareText,personalization:t.Personalization,imgData:o.Y0,ThemeRule:t.ThemeRule,wall:t})}const l={feed:n.feedId,post:n.referenceId?n.referenceId:n.id},r={wallId:t.Wall.id,userId:t.Wall.owner,feedId:n.feedId,postId:n.id},c={action:2,wall:t.Wall.id,feed:n.feedId,post:n.referenceId?n.referenceId:n.id,type:3,owner:t.Wall.owner};(0,d.hq)(p.uS?r:p.Qy?c:{action:2,wall:t.Wall.id,...l,owner:t.Wall.owner}),(0,d.nF)("Tagbox","popupclick_","popup",n.link)},this.loadPopUpWithTimer=()=>{const{currentIndex:e}=this.state,{postData:{postData:n,completeDataObject:t},wall:{ThemeRule:{timeForPopup:a}}}=this.props,s=void 0==a||0===a?5e3:1e3*a;let l=e+1;if(l>=n.length&&(l=0),!isNaN(l)&&n.length>0){const e=n.map(e=>t[e]);this.setState({currentIndex:l}),this.togglePopUpVisibility(l,e[l],s)}},this.togglePopUpVisibility=(e,n,t)=>{this.onLoadPopUp(e,n),setTimeout(()=>{this.props.closePopUP(),setTimeout(()=>{this.loadPopUpWithTimer()},t)},t)},this.onClickToCTA=e=>{const{wall:n}=this.props;p.uS||(0,d.hq)({action:2,wall:n.Wall.id,type:1,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:n.Wall.owner}),(0,d.nF)("Tagbox","ctaClick","cta",e.cta&&e.cta.url?e.cta.url:"")}}componentWillMount(){const{renderId:e}=this.props.renderId;this.setState({windowWidth:e&&document.getElementById(e)?document.getElementById(e).clientWidth:window.innerWidth})}componentDidMount(){const{renderId:e}=this.props.renderId;if(this.onResponsiveTheme(),p.aD&&!p.yR&&!window.location.href.includes("onsite-upload")){const{wall:{ThemeRule:{timeForPopup:e},Personalization:n}}=this.props,t=void 0==e||0===e?5e3:1e3*e;1==n.postFeatured&&setTimeout(()=>this.loadPopUpWithTimer(),t)}if(window.addEventListener&&window.addEventListener("resize",()=>{this.setState({windowWidth:e?document.getElementById(e).clientWidth:window.innerWidth,windowHeight:window.innerHeight},()=>this.onResponsiveTheme())}),window.editor){let e=document.getElementsByClassName("wall-editor");e.length>0&&e[0].addEventListener("scroll",this.autoLoadEditorScrollData)}else window.addEventListener&&window.addEventListener("scroll",this.autoLoadScrollData);setTimeout(()=>{this.setState({isLoaded:!0})},1e3),p.HY&&!p.IU&&p.aD&&(0,o.pj)()}componentWillReceiveProps(e){e!=this.props&&p.IU&&this.onResponsiveTheme()}componentDidUpdate(e,n){window.location.href.includes("addfeedload=load")&&n.updatedValue!=this.props.wall.Personalization.widgetTheme&&this.setState({updatedValue:this.props.wall.Personalization.widgetTheme},()=>this.onResponsiveTheme())}render(){var e,n;const{wall:t,languageSetting:s,postData:l,containerSize:i,brandingNetworks:r,parentID:o}=this.props;window.onResponsiveTheme=this.onResponsiveTheme;const{isLoaded:d,height:m}=this.state,x=!p.uS||58!=t.Personalization.widgetTheme&&57!=t.Personalization.widgetTheme;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"tb_theme_container "+(p.Vn?"":"tb_wall_container"),style:p.Vn?null:{height:p.Vn?"auto":`calc(100vh - ${m}px)`},children:[l.isFreeAdsStatus&&!p.HY&&x&&!p.aD?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(u,{containerSize:i,languageSetting:s,brandingNetworks:r,wallId:t.Wall.id,themeID:t.Personalization.widgetTheme})," "]}):null,(0,a.createElement)($,{...this.props,...this.state,clickToShowPopUp:this.onClickToShowPopup,onClickToCTA:this.onClickToCTA,onClickPopUpSlider:this.onClickPopUpSlider,parentID:o,onLoadPopUp:this.onLoadPopUp,heightUpdate:this.heightUpdate,key:null===l||void 0===l||null===(e=l.postData)||void 0===e?void 0:e.length}),l.isFreeAdsStatus&&p.HY&&x?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(u,{containerSize:i,languageSetting:s,brandingNetworks:r,wallId:t.Wall.id,themeID:t.Personalization.widgetTheme})," "]}):null,p.Vn&&d&&1===t.Personalization.loadMoreStatus&&Q.includes(t.Personalization.widgetTheme)?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(h,{languageSetting:s,wall:t,appendData:l.appendData,postData:l,isBranding:!(!l.isFreeAdsStatus||!p.HY)})}):null,p.aD&&null!==t&&void 0!==t&&null!==(n=t.Personalization)&&void 0!==n&&n.interactive&&!p.yR?(0,c.jsx)(X,{children:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(J,{})})}):null]})})}}const Z=(0,l.Ng)(e=>({loaderData:e.loaderData,renderId:e.renderId}),e=>({showPopUP:n=>e((0,d.Gd)(n)),getDataNextSteps:(n,t,a,s,l,i,r)=>e((0,d.H5)(n,t,a,s,l,i,r)),closePopUP:()=>e((0,d.ng)())}))(K)}}]);