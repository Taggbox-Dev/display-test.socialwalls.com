"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[1340],{5744:(e,t,i)=>{i.d(t,{Z:()=>s});var l=i(47313),n=i(43635),o=i(35179),a=i(46417);class s extends l.PureComponent{constructor(){super(...arguments),this.onClickData=e=>t=>{const{item:i,wallID:l,ownerId:a}=this.props;t.stopPropagation(),o.ZQ||(0,n.S5)({type:2,action:2,wall:l,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,owner:a}),(0,n.Fv)("Tagbox","shareUrl","shareUrl",e),window.open(e,"_blank")}}render(){const{share:e,shareClass:t}=this.props;return(0,a.jsxs)("div",{className:"tb_share_wrapper ".concat(t),children:[(0,a.jsx)("div",{className:"tb_share_button_ tb__icon ".concat(o.ZQ?"tb-share-fill":"tb-share"),children:(0,a.jsx)("div",{})}),(0,a.jsxs)("div",{className:"tb_share_icon_list_wrap",children:[e.facebook?(0,a.jsx)("div",{className:"tb_share_icon_list",children:(0,a.jsx)("div",{onClick:this.onClickData(e.facebook),className:"tb_share_ico__ tb__icon tb-facebook",title:"facebook",children:(0,a.jsx)("div",{})})}):"",e.twitter?(0,a.jsx)("div",{className:"tb_share_icon_list",children:(0,a.jsx)("div",{onClick:this.onClickData(e.twitter),className:"tb_share_ico__  tb__icon tb-twitter",title:"twitter",children:(0,a.jsx)("div",{})})}):"",e.linkedin?(0,a.jsx)("div",{className:"tb_share_icon_list",children:(0,a.jsx)("div",{onClick:this.onClickData(e.linkedin),className:"tb_share_ico__ tb__icon tb-linkedin",title:"linkedin",children:(0,a.jsx)("div",{})})}):""]})]})}}},1340:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w,getPostWidth:()=>g});var l=i(47313),n=i(43411),o=i(11774),a=i(43635),s=(i(37210),i(17739)),d=i(35179),r=i(5744),c=i(46417);const h=l.lazy((()=>i.e(5958).then(i.bind(i,95958)))),v=l.lazy((()=>Promise.all([i.e(6119),i.e(510),i.e(752),i.e(9806)]).then(i.bind(i,1659)))),p=l.lazy((()=>Promise.all([i.e(6390),i.e(622),i.e(8342)]).then(i.bind(i,62245)))),u=e=>{var t;let{itemData:i,personalization:n,adjustWidth:o,ThemeRule:a,clickToShowPopUp:u,itemIndex:m,wallID:_,ownerId:g,postSizeInPx:x,wall:w,onClickPopUpSlider:I,contentActive:b}=e;const f=(0,l.useRef)(null),j=1!==i.type,k=null!==n&&void 0!==n&&n.trimcontent?(0,s.Sv)(i.content,100):null===i||void 0===i?void 0:i.content,T=x.adjustWidth<250,C=!!(null!==a&&void 0!==a&&a.postAuthor||null!==a&&void 0!==a&&a.postTime),D=!!(null!==i&&void 0!==i&&i.hotspot&&(null===i||void 0===i||null===(t=i.ugc_products)||void 0===t?void 0:t.length)>0),P=!(!d.ig||null!==i&&void 0!==i&&i.hotspot||!((null===i||void 0===i?void 0:i.ugc_products.length)>0)),S=0==(null===a||void 0===a?void 0:a.postHover)&&d.ig?"light":"dark",R=(0,s.b)()?{maxLines:2}:{};return(0,l.useEffect)((()=>{i.isPopUp&&I(m,i)}),[m,i.isPopUp,i]),(0,c.jsx)("div",{id:"tb-sp-post-".concat(i.id),className:"tb_gf_post_wrapper".concat(T?" tb_gf_post_wrapper2x":""),style:{width:"".concat(o,"%"),padding:n.padding/2,float:"left"},"tb-network":null===i||void 0===i?void 0:i.network.id,"tb-product":P?1:D?2:0,tabIndex:"0",role:"article","aria-label":"Post ".concat(parseInt(m)+1,",").concat(k),ref:f,"post-id":null!==i&&void 0!==i&&i.referenceId?null===i||void 0===i?void 0:i.referenceId:null===i||void 0===i?void 0:i.id,"feed-id":null===i||void 0===i?void 0:i.feedId,children:(0,c.jsxs)("div",{className:"tb_gf_post_in ".concat(b?"tb_active":""," "),onClick:u(m,i),children:[(0,c.jsxs)("div",{className:"tb_gf_post_media_wrapp",children:[i.share.status&&!d.ig?(0,c.jsx)(r.Z,{share:null===i||void 0===i?void 0:i.share,shareClass:"tb_gf_share_container",item:i,wallID:_,ownerId:g}):"",j?(0,c.jsx)(l.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(v,{itemData:{...i,postFileNew:i.filename},wallID:_,ownerId:g,ThemeID:null===n||void 0===n?void 0:n.widgetTheme,wall:w},"img".concat(m,"_").concat(null===i||void 0===i?void 0:i.id))}):""]}),(0,c.jsxs)("div",{className:"tb_gf_post_details",children:[(0,c.jsx)("div",{className:"tb_gf_contant_wrapper",children:null!==a&&void 0!==a&&a.hideContent&&1!=(null===i||void 0===i?void 0:i.type)?"":(0,c.jsx)(l.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(p,{contentClass:"tb_gf_content",item:i,content:k,font:a,ThemeRule:a,personalization:n,contentTitle:null===i||void 0===i?void 0:i.contentTitle,...R})})}),(0,c.jsx)(l.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(h,{ownerId:g,postTime:null===i||void 0===i?void 0:i.createdAt,author:null===i||void 0===i?void 0:i.author,network:null===i||void 0===i?void 0:i.network,font:a,personalization:n,ThemeRule:a},"img".concat(m,"_").concat(null===i||void 0===i?void 0:i.id))})]}),null===a||void 0===a||!a.hideContent||C?(0,c.jsx)("div",{className:"tb_gf_post_overlay tb_gf_post_overlay-".concat(S),children:(0,c.jsx)("div",{})}):null]})})};class m extends l.Component{constructor(e){super(e),this.intervalId=null,this.updateIndex=()=>{const{itemData:e,handleSlideChange:t}=this.props;let i=this.state.currentActiveIndex+1;i>=e.length&&(i=0,t()),this.setState({currentActiveIndex:i})},this.state={currentActiveIndex:-1}}componentDidMount(){const{currentIndex:e,intervalTime:t,itemIndex:i}=this.props;e!=i||d.aL||(this.intervalId=setInterval(this.updateIndex,1e3*t))}componentWillUnmount(){clearInterval(this.intervalId)}componentWillReceiveProps(e){const{itemIndex:t}=this.props;e.currentIndex!=t&&(clearInterval(this.intervalId),this.setState({currentActiveIndex:-1})),e.currentIndex!=t||d.aL||(this.intervalId=setInterval(this.updateIndex,1e3*e.intervalTime))}render(){var e,t,i;const{wall:l,largeDiv:n,smallDiv:o,itemData:a,completeDataObject:s,itemIndex:r,clickToShowPopUp:h,onClickToCTA:v,postSizeInPx:p,adjustWidth:m,onClickPopUpSlider:_}=this.props;console.log("dg_1",a);const{currentActiveIndex:g}=this.state,x=(null===l||void 0===l||null===(e=l.ThemeRule)||void 0===e?void 0:e.highlightPosition)||"left",w=d.aL?r%2:0,I={width:n+"%",float:"0"==w?"right"==x?"right":"left":"right"==x?"left":"right"},b={width:o+"%",float:"right"==x?"left":"right"};return a&&a.length>0?(0,c.jsxs)("div",{className:"ts_gf_post_row",children:[(0,c.jsx)("div",{className:"ts_gf_post_large",style:I,children:(0,c.jsx)(u,{ownerId:null===l||void 0===l||null===(t=l.Wall)||void 0===t?void 0:t.owner,itemData:s[a[0]],itemIndex:r,adjustWidth:100,personalization:null===l||void 0===l?void 0:l.Personalization,ThemeRule:null===l||void 0===l?void 0:l.ThemeRule,wallID:null===l||void 0===l||null===(i=l.Wall)||void 0===i?void 0:i.id,clickToShowPopUp:h,onClickToCTA:v,postSizeInPx:p,wall:l,completeDataObject:s,onClickPopUpSlider:_,contentActive:0==g},"sqr_crd_".concat(0,"_",s[a[0]].id))}),(0,c.jsxs)("div",{className:"ts_gf_post_small",style:b,children:[a&&(null===a||void 0===a?void 0:a.length)>0?a.map(((e,t)=>{var i,n;const o=s[e];return 0!=t?(0,c.jsx)(u,{ownerId:null===l||void 0===l||null===(i=l.Wall)||void 0===i?void 0:i.owner,itemData:o,itemIndex:t,adjustWidth:m,personalization:null===l||void 0===l?void 0:l.Personalization,ThemeRule:null===l||void 0===l?void 0:l.ThemeRule,wallID:null===l||void 0===l||null===(n=l.Wall)||void 0===n?void 0:n.id,clickToShowPopUp:h,onClickToCTA:v,postSizeInPx:p,wall:l,completeDataObject:s,onClickPopUpSlider:_,contentActive:g==t},"sqr_crd_".concat(t,"_").concat(null===e||void 0===e?void 0:e.id)):null})):null," "]})]}):null}}const _=m,g=(e,t)=>{const i=(e,t)=>({cardWidth:t,largeDiv:2*e,smallDiv:100-2*e});switch(t){case 3:return i(100/3,100);case 5:case 10:case 13:return i(e>767?25:100/3,e>767?50:100);case 7:return i(e>767?20:100/3,e>767?100/3:100);case 9:case 17:return i(e>767?100/6:100/3,e>767?25:100);default:return i(e<767?100/3:100,100)}};class x extends l.Component{constructor(e){super(e),this.state={postData:[],windowWidth:window.innerWidth,currentIndex:-1},this.handleSlideChange=()=>{const{currentIndex:e}=this.state,t=e+1;this.myRef&&this.myRef.current&&(t<this.myRef.current.slides.length?this.myRef.current.splide.go(t):this.myRef.current.splide.go(0))},this.myRef=l.createRef()}componentDidMount(){const{renderId:e,heightUpdate:t}=this.props;e.renderId&&this.setState({windowWidth:document.getElementById(e.renderId).clientWidth}),setTimeout((()=>t()),1e3)}componentDidUpdate(e,t){return e.postData!==this.props.postData||t.currentIndex!==this.state.currentIndex}render(){var e,t,i;const{postData:l,completeDataObject:n,wall:a,clickToShowPopUp:r,cardNumber:h,onClickToCTA:v,postSizeInPx:p,onClickPopUpSlider:u}=this.props,{windowWidth:m}=this.state;let x=l.length;if(a&&1==a.Personalization.fitRow&&l.length>=parseInt(h)){let e=l.length/parseInt(h);x=parseInt(h)*parseInt(e)}var w="";const I=(0,s.b)()?null===a||void 0===a||null===(e=a.ThemeRule)||void 0===e?void 0:e.mobileColumn:null===a||void 0===a||null===(t=a.ThemeRule)||void 0===t?void 0:t.numberOfCoumn,{cardWidth:b,largeDiv:f,smallDiv:j}=g(m,I);w=m<768?3:I||1;for(var k=0,T=l.length,C=[];k<T;)C.push(l.slice(k,k+=w));var D=I;const P=(null===a||void 0===a||null===(i=a.Personalization)||void 0===i?void 0:i.slideDelay)||5,{currentIndex:S}=this.state;return console.log("dg",I,S),(0,c.jsx)("div",{tabIndex:"0","aria-label":"There are ".concat(l&&(null===l||void 0===l?void 0:l.length)>0?l.length:0," posts in the feed"),role:"feed",className:"tb_gf_post_container",children:d.aL?(0,c.jsx)("div",{className:"tb_gf_slider_wrappper",children:C&&(null===C||void 0===C?void 0:C.length)>0&&C.map(((e,t)=>{var i,l;return e.length==D?(0,c.jsx)(_,{ownerId:null===a||void 0===a||null===(i=a.Wall)||void 0===i?void 0:i.owner,itemData:e,itemIndex:t,adjustWidth:b,personalization:null===a||void 0===a?void 0:a.Personalization,ThemeRule:null===a||void 0===a?void 0:a.ThemeRule,wallID:null===a||void 0===a||null===(l=a.Wall)||void 0===l?void 0:l.id,clickToShowPopUp:r,onClickToCTA:v,postSizeInPx:p,wall:a,completeDataObject:n,largeDiv:f,smallDiv:j,onClickPopUpSlider:u,intervalTime:parseFloat(P),currentIndex:S,handleSlideChange:this.handleSlideChange},t):null}))}):(0,c.jsx)(o.tv,{hasTrack:!1,className:"tb_gf_slider_wrappper",options:{type:"fade",rewind:!1,speed:1e3,perPage:1,perMove:1,gap:0,autoplay:!1,pauseOnHover:!1,padding:0,pagination:!1,arrows:!1},ref:this.myRef,onActive:(e,t,i)=>this.setState({currentIndex:t.index}),children:(0,c.jsx)(o.Gj,{children:C&&(null===C||void 0===C?void 0:C.length)>0&&C.map(((e,t)=>{var i,l;return(null===e||void 0===e?void 0:e.length)==D?(0,c.jsx)(o.jw,{children:(0,c.jsx)(_,{ownerId:null===a||void 0===a||null===(i=a.Wall)||void 0===i?void 0:i.owner,itemData:e,itemIndex:t,adjustWidth:b,personalization:null===a||void 0===a?void 0:a.Personalization,ThemeRule:null===a||void 0===a?void 0:a.ThemeRule,wallID:null===a||void 0===a||null===(l=a.Wall)||void 0===l?void 0:l.id,clickToShowPopUp:r,onClickToCTA:v,postSizeInPx:p,wall:a,completeDataObject:n,largeDiv:f,smallDiv:j,onClickPopUpSlider:u,intervalTime:parseFloat(P),currentIndex:S,handleSlideChange:this.handleSlideChange})},t):null}))})})})}}const w=(0,n.$j)((e=>({postHeight:e.postHeight.data})),(e=>({managePostHeight:t=>e((0,a.B0)(t))})))(x)},37210:()=>{}}]);