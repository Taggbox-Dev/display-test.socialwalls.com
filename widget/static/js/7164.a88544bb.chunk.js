"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7164,5810],{64442:(e,t,a)=>{a.d(t,{Z:()=>p});var o=a(47313),i=a(2406),s=a(20510),n=a.n(s),r=a(40475),l=a(35179),d=a(17739),c=a(46417);const h=(e,t)=>{if(25===t){return String(e).replace("https://w.soundcloud.com/player/?url=","")}return e};class p extends o.PureComponent{constructor(e){super(e),this.onMediaLoad=async e=>{const{data:t}=this.props;if(t&&Object.keys(t).length>0&&[4,5,3].includes(t.type))if(t.mediaHeight&&""!=t.mediaHeight&&t.mediaWidth&&""!=t.mediaWidth)this.setState({paddingBottom:100*t.mediaHeight/t.mediaWidth});else try{const{width:e,height:a}=await(0,i.Ad)(t.postFileNew);this.setState({paddingBottom:100*a/e})}catch(a){this.setState({paddingBottom:100})}},this.setVideoLoaded=e=>{this.setState({videoLoaded:e})},this.onUpdateTime=e=>{try{if(l.bX){const{played:t}=this.state;console.log("played",t),this.setState({played:t+e.playedSeconds})}}catch(t){console.log(t)}},this.handleDuration=e=>{this.setState({duration:e})},this.state={loadError:!1,paddingBottom:100,videoLoaded:!1,imgUrl:this.props.data.postFileNew,isVisible:!1,played:0,duration:0},this.videoRef=o.createRef(),this.observer=null}componentWillMount(){const{data:e}=this.props;let t=document.querySelector("#video_p_".concat(e.id));t&&(t.play(),t.muted=!0),this.props.size?this.setState({paddingBottom:1==this.props.size?null:this.props.size}):this.onMediaLoad()}componentDidMount(){const{data:e}=this.props;let t=document.querySelector("#video_p_".concat(e.id));t&&(t.play(),t.muted=!0),this.props.size?this.setState({paddingBottom:1==this.props.size?null:this.props.size}):this.onMediaLoad();try{this.observer=new IntersectionObserver((e=>{let[t]=e;this.setState({isVisible:t.isIntersecting})}),{threshold:.5}),this.videoRef.current&&this.observer.observe(this.videoRef.current)}catch(a){this.setState({isVisible:!0})}}componentWillUnmount(){const{played:e}=this.state;l.bX&&(0,d.qE)(e),this.observer&&this.videoRef.current&&this.observer.unobserve(this.videoRef.current)}render(){const{VideoClass:e,data:t,wallID:a,isCover:o,controls:i,autoPlay:s,handleVideoEnded:d,muted:p,themeID:m}=this.props,{paddingBottom:u,videoLoaded:b,isVisible:g}=this.state,_={small:t.postFileNew,large:t.filename,orignal:t.file},w=[74,76,77].includes(m),I={paddingBottom:"".concat(w&&l.bX?null:u,"%")},f=l.bX?t.mediaUrl:t.mediaClip&&String(t.mediaClip).length>0?t.mediaClip:t.mediaUrl;return console.log("duration",this.state.duration),(0,c.jsx)("div",{className:"".concat(e,"_wrap_ mediaHolder").concat(t.id),style:I,ref:this.videoRef,children:(0,c.jsx)(n(),{className:"".concat(e," video").concat(t.id),url:h(f,t.network.id),"data-type":"video","data-network":t.network.id,"data-link":t.link,"data-wall-id":a,"data-item-id":t.id,"data-feed-id":t.feedId?t.feedId:"","data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto","data-height":"".concat(document.querySelector(".ts_rt_post_in")?"".concat(document.querySelector(".ts_rt_post_in").clientHeight," px"):"100%")}},file:{attributes:{preload:"metadata"}}},loop:(s&&l.bX,!0),onError:e=>{t.stories&&0!=t.stories||(0,r.ib)(e,t.id)},autoPlay:s,muted:p,volume:s?1:0,playsinline:!0,onReady:e=>{l.ig?this.setVideoLoaded(!1):this.setVideoLoaded(!0)},playing:l.ig?g:s,height:"100%",width:"100%",controls:i||!1,onProgress:l.bX?this.onUpdateTime:null,onDuration:this.handleDuration,style:{backgroundImage:"url(".concat(w?_.large:_.small,")"),backgroundSize:o?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onEnded:d||null})})}}},25810:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var o=a(47313),i=a(35179),s=a(46417);const n=o.lazy((()=>a.e(5867).then(a.bind(a,95867))));class r extends o.PureComponent{render(){const{network:e,networkClass:t,ThemeRule:a,isDefault:r,Personalization:l}=this.props,d=!!r&&(7!==e.id&&4!==e.id&&36!==e.id),c=i.ZQ&&36==e.id?"tagembed":e.icon;return d?(0,s.jsx)("div",{className:"".concat(t," tb__icon tb-").concat(c.replace(/fa-/g,"")),children:(0,s.jsx)("div",{})}):(0,s.jsxs)(o.Suspense,{fallback:(0,s.jsx)(s.Fragment,{}),children:[" ",(0,s.jsx)(n,{network:e,networkClass:t})]})}}},11502:(e,t,a)=>{a.d(t,{Z:()=>s});var o=a(17739),i=a(46417);const s=e=>{let{ThemeRule:t,btnClass:a}=e;const s={fontFamily:t.css_font};return(0,i.jsx)("div",{className:"tb_shop_btn_wrap ".concat(a),children:(0,i.jsx)("div",{className:"tb_shop_btn".concat(t.postHover||(0,o.mD)(4)||(0,o.mD)(55)?" tb_shop_btn_light":" tb_shop_btn_dark"),style:s,children:t.shoppingText})})}},28751:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(47313),i=a(35179),s=a(84261),n=a(64442),r=a(81349),l=a(46417);const d=o.lazy((()=>a.e(695).then(a.bind(a,10695)))),c=e=>{let{itemData:t,wallID:a,wall:c,ownerId:h,isVisible:p}=e;const m=!(3!==t.type&&5!==t.type||!p),u=(3===t.type||5===t.type)&&1==c.ThemeRule.autoPlay;return(0,l.jsxs)("div",{className:"tb_g_r_media_wrap",children:[i.aL?(0,l.jsx)(o.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(d,{likeClass:"tb_g_r_like",postId:t.id,wallID:a,UserDetail:c.UserDetail})}):null,i.aL?(0,l.jsx)(r.Z,{itemData:t,IconClass:"tb_g_r_media_icon",show:!0,hideVideo:!0}):null,m||u?(0,l.jsx)(n.Z,{VideoClass:"tb_g_r_video",data:t,wallID:a,themeID:c.Personalization.widgetTheme,ownerId:h,size:1,isCover:!0,autoPlay:!0,muted:!0}):(0,l.jsx)(s.default,{ImageClass:"tb_g_r_image",data:t,wallID:a,themeID:c.Personalization.widgetTheme,ownerId:h,size:1})]})};var h=a(17739);a(25810),a(11502);const p=o.lazy((()=>a.e(4770).then(a.bind(a,54770))));class m extends o.PureComponent{constructor(e){super(e),this.mediaHeight=o.createRef()}componentDidMount(){i.nX&&(0,h.YN)(this.mediaHeight)}render(){const{itemData:e,itemIndex:t,wallID:a,ownerId:s,wall:n,isVisible:r,clickToShowPopUp:d,ThemeRule:h,personalization:m,adjustWidth:u}=this.props,b=!!(e.ugc_products&&e.ugc_products.length>0),g={backgroundColor:h.cardColor},_=(!i.ig||!b||h.hideContent,!(!i.ig||!b||0!==e.hotspot)),w=!!(i.ig&&e.hotspot&&b);return(0,l.jsx)("div",{"item-id":e.id,id:"tb-g_r-post-".concat(e.id),className:"tb_g_r_post_wrapper",ref:this.mediaHeight,"post-id":e.referenceId?e.referenceId:e.id,"feed-id":e.feedId,style:{width:"".concat(u,"%"),padding:n.Personalization.padding/2},"tb-product":_?1:w?2:0,children:(0,l.jsx)("div",{className:"tb_g_r_post_in tb_icon_animate ".concat(i.ig?"":"tb_g_r_post_in_animate"),style:g,onClick:d(t,e),children:(0,l.jsxs)("div",{className:"tb_g_r_post_media_wrapp",children:[(0,l.jsx)(c,{itemData:e,wallID:a,wall:n,ownerId:s,preload:0==t,isVisible:r}),(0,l.jsx)("div",{className:"tb_g_r_post_details",children:(0,l.jsx)(o.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(p,{ownerId:s,postTime:e.createdAt,author:e.author,network:e.network,font:h,personalization:m,ThemeRule:h})})})]})})})}}},34280:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var o=a(47313),i=(a(34862),a(43411)),s=a(61395),n=a.n(s),r=a(28751),l=(a(97529),a(47330),a(6940),a(65192),a(59606),a(98907),a(40475)),d=a(17739),c=a(35179),h=a(46417);const p=o.lazy((()=>a.e(2205).then(a.bind(a,32205))));class m extends o.Component{constructor(e){super(e),this.state={activeID:-1,newPostdata:[]},this.scrollInterval=null,this.componentDidMount=()=>{this.scrollInterval=setInterval((()=>this.onUpdateTimeInterVal()),3e3)},this.onUpdateTimeInterVal=()=>{const{activeID:e}=this.state,{cardNumber:t,wall:a}=this.props,o=(0,d.b)()?2:parseInt(t)>a.ThemeRule.numberOfCoumn?a.ThemeRule.numberOfCoumn:parseInt(t)||a.ThemeRule.numberOfCoumn,i=parseInt(e)+1;this.setState({activeID:parseInt(o)>=i?i:0})},this.inputRefs={}}componentWillMount(){const{cardNumber:e,postData:t,completeDataObject:a,adjustWidth:o,wall:i,postSize:s,clickToShowPopUp:n,onClickToCTA:r,postSizeInPx:l,numberOfCoumn:c}=this.props,{activeID:h}=this.state,p=(0,d.b)()?2:parseInt(e)>i.ThemeRule.numberOfCoumn?i.ThemeRule.numberOfCoumn:parseInt(e)||i.ThemeRule.numberOfCoumn,m=Array.from({length:p},(()=>[]));t.forEach(((e,t)=>m[t%p].push(e))),m.forEach((e=>{for(;e.length<3;){const t=m[Math.floor(Math.random()*p)],a=t[Math.floor(Math.random()*t.length)];e.push(a)}})),this.setState({newPostdata:m})}componentWillUnmount(){this.scrollInterval&&clearInterval(this.scrollInterval)}render(){const{postData:e,completeDataObject:t,wall:a,clickToShowPopUp:i,hasMoreData:s,parentID:l,keyRender:d,onClickToCTA:m,postSizeInPx:u,adjustWidth:b,numberOfCoumn:g}=this.props,{activeID:_,newPostdata:w}=this.state;return console.log("numberOfCoumn",a.ThemeRule.numberOfCoumn),(0,h.jsxs)(h.Fragment,{children:[" ",c.aL?(0,h.jsx)(n(),{id:"pixel",className:"tb_g_r_post_container",tabIndex:"0","aria-label":"There are ".concat(e&&e.length>0?e.length:0," posts in the feed"),elementType:"div",options:{transitionDuration:0,percentPosition:!0,itemSelector:".tb_px_post_wrapper",horizontalOrder:!0,resize:!0},disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:{},enableResizableChildren:!0,children:e&&e.length>0&&e.map(((e,o)=>{const s=t[e];return console.log("completeDataObject[item]",t[e],b),(0,h.jsx)(r.Z,{ownerId:a.Wall.owner,itemData:s,itemIndex:o,adjustWidth:1==s.highlight?2*b:b,personalization:a.Personalization,ThemeRule:a.ThemeRule,wallID:a.Wall.id,clickToShowPopUp:i,onClickToCTA:m,postSizeInPx:u,wall:a},"sqr_crd_".concat(o,"_").concat(e.id))}))}):(0,h.jsx)("div",{className:"tb_g_r_post_container",children:w.map(((e,s)=>(0,h.jsx)(o.Suspense,{fallback:(0,h.jsx)(h.Fragment,{}),children:(0,h.jsx)(p,{pIndex:s,itemIds:e,activeID:_,completeDataObject:t,wall:a,onClickToCTA:m,postSizeInPx:u,cardCount:w.length,clickToShowPopUp:i},"exhi_".concat(s))})))})]})}}const u=(0,o.memo)((0,i.$j)((e=>({loaderData:e.loaderData})),(e=>({getDataNextSteps:(t,a,o,i,s,n,r,d)=>e((0,l.Sx)(t,a,o,i,s,n,r,d))})))(m))},65192:()=>{},59606:()=>{},98907:()=>{},6940:()=>{}}]);