{"version":3,"file":"static/js/1076.12b5b5b4.chunk.js","mappings":"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","sources":["app/Components/PostPopUp/Elements/PopUpVideo.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js"],"sourcesContent":["import React, { PureComponent } from \"react\";\r\nimport ReactPlayer from \"react-player\"\r\nimport { POPUP_VIDEO_RENEW } from '../../../../actions/themeActions'\r\nimport { isTagShop, isSocialWall } from \"../../../../actions/api\";\r\nimport { reelPlayTimeUpdateData } from \"../../../../utils\";\r\n\r\n\r\nconst mediaReplaceText = (mediaUrl, networkId) => {\r\n    switch (networkId) {\r\n        case 25:\r\n            const soundCloud = String(mediaUrl).replace(\"https://w.soundcloud.com/player/?url=\", \"\")\r\n            return soundCloud\r\n            break;\r\n\r\n        default:\r\n            return mediaUrl\r\n            break;\r\n    }\r\n\r\n}\r\nexport default class PopUpVideo extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            videoLoaded: false,\r\n            muted: isSocialWall ? true : false,\r\n            played: 0\r\n        }\r\n        this.VideoWrap = React.createRef();\r\n    }\r\n\r\n    setVideoLoaded = event => {\r\n        this.setState({\r\n            videoLoaded: event\r\n        })\r\n    }\r\n\r\n    muteToggle = () => {\r\n        this.setState({\r\n            muted: !this.state.muted,\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        const { played } = this.state\r\n        if (isTagShop) reelPlayTimeUpdateData(played)\r\n    }\r\n    onUpdateTime = (progress) => {\r\n        try {\r\n            if (isTagShop) {\r\n                const { played } = this.state\r\n                this.setState({\r\n                    played: played + progress.playedSeconds\r\n                })\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n    render() {\r\n        const { data, wall } = this.props\r\n        const { videoLoaded, muted } = this.state\r\n        const noMuteIcon = [7, 3, 25]\r\n        const muteIcon = !noMuteIcon.includes(data.network.id) ? true : false\r\n        return <div className={`tb_post_modal_video_holder${videoLoaded ? ' tb_post_video_loaded' : ''}`} ref={this.VideoWrap} key={data.mediaUrl} >\r\n            {muteIcon ?\r\n                <div className=\"tb_m_mute_btn\" onClick={this.muteToggle}>\r\n                    <div className={`tb__icon tb-${!muted ? `unmute` : `mute`}`}><div></div></div>\r\n                </div>\r\n                : ''}\r\n            <ReactPlayer\r\n                className={`tb_post_modal_video video${data.id}`}\r\n                url={mediaReplaceText(data.mediaUrl, data.network.id)}\r\n                data-type=\"video\"\r\n                data-network={data.network.id}\r\n                data-link={data.link}\r\n                data-wall-id={wall.Wall.id}\r\n                data-item-id={data.id}\r\n                data-feed-id={data.feedId ? data.feedId : \"\"}\r\n                data-load={0}\r\n                config={{\r\n                    facebook: {\r\n                        appId: '117029975354072',\r\n                        attributes: {\r\n                            'data-width': 'auto',\r\n                            muted,\r\n                            poster: data.postFileNew\r\n                            // 'data-height': `${document.querySelector('.ts_rt_post_in') ? `${document.querySelector('.ts_rt_post_in').clientHeight} px` : '100%'}`\r\n                        }\r\n                    },\r\n                    file: {\r\n                        forceVideo: true,\r\n\r\n                        attributes: {\r\n                            muted,\r\n                            poster: data.postFileNew\r\n                            // onError: (e) => IMG_LOAD_AFTER_COMPLETE_LAYOUT_FOR_POP_UP_VIDEO(e)\r\n                        }\r\n                    }\r\n                    // tracks: [\r\n                    //     {kind: 'subtitles', src: `${CloudUrl}/media/subtitles.en.vtt`, srcLang: 'en', default: true},\r\n                    // ]\r\n                }}\r\n                loop={true}\r\n                //onError={(e) => { this.setVideoLoaded(false) }}\r\n                onError={(e) => {\r\n                    if (!data.stories || data.stories == 0) POPUP_VIDEO_RENEW(e, data.id)\r\n\r\n                    //this.setVideoLoaded(false)\r\n                }}\r\n                //(data.stories == 0) ? POPUP_VIDEO_RENEW(e) : null}\r\n                autoPlay={true}\r\n                muted={muted}\r\n                volume={1}\r\n                playsinline={true}\r\n                onReady={(e) => { this.setVideoLoaded(true) }}\r\n                playing={true}\r\n                height={'100%'}\r\n                width={'100%'}\r\n                controls={!muteIcon ? true : false}\r\n                style={{ backgroundImage: `url(${data.postFileNew})`, backgroundSize: 'cover', backgroundPosition: 'center', backgroundRepeat: 'no-repeat' }}\r\n                onProgress={this.onUpdateTime}\r\n            />\r\n        </div>\r\n    }\r\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n"],"names":["mediaReplaceText","mediaUrl","networkId","String","replace","PopUpVideo","PureComponent","constructor","props","super","setVideoLoaded","event","this","setState","videoLoaded","muteToggle","muted","state","onUpdateTime","progress","isTagShop","played","playedSeconds","e","console","log","isSocialWall","VideoWrap","React","componentWillUnmount","reelPlayTimeUpdateData","render","data","wall","muteIcon","includes","network","id","_jsxs","className","concat","ref","children","_jsx","onClick","ReactPlayer","url","link","Wall","feedId","config","facebook","appId","attributes","poster","postFileNew","file","forceVideo","loop","onError","stories","POPUP_VIDEO_RENEW","autoPlay","volume","playsinline","onReady","playing","height","width","controls","style","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","onProgress","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","exports","shim","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes"],"sourceRoot":""}