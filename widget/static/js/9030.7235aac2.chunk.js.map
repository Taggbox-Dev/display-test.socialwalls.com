{"version":3,"file":"static/js/9030.7235aac2.chunk.js","mappings":"yLAIA,MAAMA,UAAsBC,EAAAA,UACxBC,WAAAA,CAAYC,GACRC,MAAMD,GAAO,KAejBE,aAAe,KAAI,KACnBC,WAAa,KACT,MAAM,cAAEC,GAAkBC,KAAKL,MAC/B,IAAIM,EAAWF,EACXG,EAAeC,OAAOC,KAAKH,GAAUI,KAAIC,GAAWL,EAASK,KACjEN,KAAKO,SAAS,CAAEN,WAAUC,eAAcM,UAAWC,KAAKC,MAAMC,KAAKC,MAAQ,KAAOC,YAAY,IAAS,IAAMb,KAAKc,gBAAe,EACpI,KAEDA,aAAe,KACPd,KAAKH,cAAckB,cAAcf,KAAKH,cAC1C,MAAM,aAAEK,EAAY,SAAED,GAAaD,KAAKgB,MACpB,MAAhBd,GAAoC,MAAZD,IAAkBD,KAAKH,cAAeoB,EAAAA,EAAAA,KAAoB,IAAMjB,KAAKF,cAAc,KAAM,EAzBrHE,KAAKgB,MAAQ,CACTf,SAAU,KACVC,aAAc,KACdM,UAAWC,KAAKC,MAAMC,KAAKC,MAAQ,KACnCC,YAAY,EACZK,YAAaC,OAAOC,WACpBC,aAAcF,OAAOG,YAE7B,CAEAC,iBAAAA,GACIvB,KAAKF,YACT,CAgBA0B,MAAAA,GACI,MAAM,aAAEtB,EAAY,UAAEM,EAAS,WAAEK,EAAU,aAAEQ,EAAY,YAAEH,GAAgBlB,KAAKgB,MAC1ES,EAAYP,EAAcG,IAAiBA,EAAe,KAAO,IAAIK,YAAeL,EAAe,EAAK,KAAO,IAAIK,UACzH,OAAOC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACc,OAAjB3B,EAAwBA,EAAaG,KAAI,CAACyB,EAAMC,KAC5C,MAAM,WAAEC,EAAU,aAAEnC,EAAY,SAAEoC,IAAaC,EAAAA,EAAAA,IAAmB1B,EAAWsB,EAAKK,OAAQL,EAAKM,MAAON,EAAKO,MAAON,GAClH,IAAsB,IAAfC,GAAsBA,EAAa,IAAMA,GAAc,IAAQxB,GAAaX,GAAkBW,GAAayB,EAAU,CACxH,IAAIK,EAAS,GAAAC,OAAMT,EAAKQ,WACpBR,EAAKQ,UAAUE,SAASC,EAAAA,MAAeH,EAAYR,EAAKQ,WAC5D,MAAMI,GAAe7B,GAAgC,IAAlBiB,EAAKQ,UAClCK,KAAYD,GAA6B,GAAbZ,EAAKc,MAA0B,GAAbd,EAAKc,MACzD,IAAIC,EAAcF,EAAYlB,EAAwB,EAAZA,EAC1C,OAAOqB,EAAAA,EAAAA,MAAA,OAAiBC,GAAG,iBAAiBC,UAAU,eAAcnB,SAAA,EAChEF,EAAAA,EAAAA,KAAA,OAAKqB,UAAU,cAAcC,MAAO,CAAEC,gBAAgB,OAADX,OAASD,EAAS,SACvEX,EAAAA,EAAAA,KAAA,OAAKqB,UAAU,UAASnB,UACpBiB,EAAAA,EAAAA,MAAA,OAAKE,UAAS,eAAAT,OAAiBI,EAAW,iBAAmB,iBAAkBd,SAAA,CAC1Ea,GACGf,EAAAA,EAAAA,KAAA,OAAKqB,UAAU,YAAWnB,UACtBF,EAAAA,EAAAA,KAAA,OAAKqB,UAAU,UAAUG,IAAKb,EAAWc,QAASA,IAAMpD,KAAKO,SAAS,CAAEM,YAAY,IAEnFwC,IAAI,OAEP,KACU,IAAdvB,EAAKc,MAA4B,IAAdd,EAAKc,MACtBjB,EAAAA,EAAAA,KAAA,OAAKqB,UAAU,kBAAkBM,IAAKtD,KAAKuD,WAAW1B,UAClDF,EAAAA,EAAAA,KAAA,OAAKqB,UAAU,gBAAenB,UAC1BF,EAAAA,EAAAA,KAAA,OAAKqB,UAAS,0BAAAT,OAA4BM,GAAahB,SAAEC,EAAK0B,kBAGpE,YAjBDzB,EAqBrB,CACK,OAAO,IAAI,IACf,MAEb,EAGJ,SAAe0B,EAAAA,EAAAA,MAAKjE,E","sources":["app/Components/Announcements/index.js"],"sourcesContent":["import React, { Component, memo } from 'react';\r\nimport { setIntervalFunction, announcementsUtils } from '../../../utils'\r\nimport { CloudHostUrl } from '../../../constants';\r\nimport './scss/announcements.scss'\r\nclass Announcements extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            anmtData: null,\r\n            anmtDataKeys: null,\r\n            timeStamp: Math.floor(Date.now() / 1000),\r\n            imageError: false,\r\n            windowWidth: window.innerWidth,\r\n            windowHeight: window.innerHeight,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.onLoadAnmt()\r\n    }\r\n\r\n    timeInterval = null\r\n    onLoadAnmt = () => {\r\n        const { announcements } = this.props;\r\n        let anmtData = announcements;\r\n        let anmtDataKeys = Object.keys(anmtData).map(itemKey => anmtData[itemKey])\r\n        this.setState({ anmtData, anmtDataKeys, timeStamp: Math.floor(Date.now() / 1000), imageError: false }, () => this.AnmtInterval())\r\n    }\r\n\r\n    AnmtInterval = () => {\r\n        if (this.timeInterval) clearInterval(this.timeInterval)\r\n        const { anmtDataKeys, anmtData } = this.state;\r\n        if (anmtDataKeys != null && anmtData != null) this.timeInterval = setIntervalFunction(() => this.onLoadAnmt(), 10000)\r\n    }\r\n\r\n    render() {\r\n        const { anmtDataKeys, timeStamp, imageError, windowHeight, windowWidth } = this.state;\r\n        const lineClamp = windowWidth > windowHeight ? ((windowHeight - 400) / 50).toFixed() : (((windowHeight / 2) - 200) / 50).toFixed()\r\n        return <>{\r\n            anmtDataKeys !== null ? anmtDataKeys.map((item, index) => {\r\n                const { repeatOnce, timeInterval, aEndTime } = announcementsUtils(timeStamp, item.showAt, item.endAt, item.every, index);\r\n                if ((((repeatOnce === 0) || (repeatOnce < 10 && repeatOnce >= 0)) && (timeStamp >= timeInterval)) && timeStamp >= aEndTime) {\r\n                    let mediaFile = `${item.mediaFile}`;\r\n                    if (item.mediaFile.includes(CloudHostUrl)) mediaFile = item.mediaFile;\r\n                    const isMediaFile = !imageError && item.mediaFile != \"\" ? true : false;\r\n                    const onlyMedia = isMediaFile && (item.type != 1 || item.type != 4) ? true : false\r\n                    var lineClamp_ =  onlyMedia ? lineClamp : lineClamp * 2\r\n                    return <div key={index} id='announcement__' className='an_container'>\r\n                        <div className=\"an_overlay_\" style={{ backgroundImage: `url(${mediaFile})` }}></div>\r\n                        <div className=\"an_wrap\">\r\n                            <div className={`an_wrap_row ${onlyMedia? ' an_only_media' : ' an_only_text'}`}>\r\n                                {isMediaFile ?\r\n                                    <div className=\"an_media_\">\r\n                                        <img className=\"an_img_\" src={mediaFile} onError={() => this.setState({ imageError: true })}\r\n                                        //  height={800} width={1000} \r\n                                         alt=\"\" />\r\n                                    </div>\r\n                                    : null}\r\n                                {(item.type === 1 || item.type === 4) ?\r\n                                    <div className=\"an_content_wrap\" ref={this.contentRef}>\r\n                                        <div className=\"an_content_in\">\r\n                                            <div className={`an_content an_con_line-${lineClamp_}`}>{item.description}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    : null}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                else return null;\r\n            }) : null}\r\n        </>\r\n    }\r\n}\r\n\r\nexport default memo(Announcements)"],"names":["Announcements","Component","constructor","props","super","timeInterval","onLoadAnmt","announcements","this","anmtData","anmtDataKeys","Object","keys","map","itemKey","setState","timeStamp","Math","floor","Date","now","imageError","AnmtInterval","clearInterval","state","setIntervalFunction","windowWidth","window","innerWidth","windowHeight","innerHeight","componentDidMount","render","lineClamp","toFixed","_jsx","_Fragment","children","item","index","repeatOnce","aEndTime","announcementsUtils","showAt","endAt","every","mediaFile","concat","includes","CloudHostUrl","isMediaFile","onlyMedia","type","lineClamp_","_jsxs","id","className","style","backgroundImage","src","onError","alt","ref","contentRef","description","memo"],"sourceRoot":""}