"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4355],{44355:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(47313),i=n(40475),s=n(43411),r=n(17739),o=n(98501),l=n(35179),c=n(46417);const g=a.lazy((()=>n.e(7535).then(n.bind(n,37535)))),d=a.lazy((()=>n.e(6429).then(n.bind(n,16429)))),u=a.lazy((()=>n.e(1027).then(n.bind(n,21027)))),p=a.lazy((()=>n.e(1819).then(n.bind(n,61819)))),h=a.lazy((()=>n.e(8534).then(n.bind(n,18534)))),m=a.lazy((()=>Promise.all([n.e(7914),n.e(589)]).then(n.bind(n,66538))));class b extends a.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef()}componentDidMount(){(0,r.gz)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){var e;let t=document.querySelector(".tb_app_container"),n=r.b8?r.b8:null===t||void 0===t||null===(e=t.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:n})}render(){var e,t;const{wall:n,reviewFilters:i,webFilters:s,postData:b,languageSetting:k,filter_tags:f,product:w}=this.props,B=!!(n.Banner&&Object.keys(n.Banner).length>0&&(1===n.Banner.status&&1===n.Banner.banner_position||1===n.BannerImage.status||"1"===n.Banner.banner_position)),S=!!(n.Banner&&Object.keys(n.Banner).length>0&&(1===n.Banner.status&&2===n.Banner.banner_position||"2"===n.Banner.banner_position)),x=l.ZQ?![55,60,16,47,57].includes(n.Personalization.widgetTheme):![55,52,60,16,47,57,61].includes(n.Personalization.widgetTheme),j=!!(n.Banner&&Object.keys(n.Banner).length>0&&1===n.Banner.status&&6==n.Banner.bannerType&&0===n.Personalization.filterStatus&&57!=n.Personalization.widgetTheme),z=l.ZQ?1===n.Personalization.filterStatus:!!(s&&s.length>1),_=!!(f&&f.length>0);let I=""!=s&&s&&s.length>0?s.map((e=>{let{Network:t}=e;return t.id})):null;!l.ig&&n.Background.image&&n.Background.image.includes(o.ho)&&(n.Background.image=String(n.Background.image).replace(o.lO,""));const D=0===n.Background.transparent||n.Background.image&&l.ZQ?{backgroundImage:n.Background.image?"url(".concat(n.Background.image,")"):"",backgroundColor:n.Background.color}:null;return console.log("tb_app_container--\x3e",l.P2||window.editor&&1==w),(0,c.jsxs)("div",{className:"tb_app_container",style:{minHeight:l.P2||window.editor&&1==w?[47,16,49,55,60,52].includes(n.Personalization.widgetTheme)?"100%":"".concat(this.props.postHeight,"px"):null},ref:this.containerRef,children:[l.bX&&!l.aL&&1===(null===(e=n.CustomTicker)||void 0===e?void 0:e.status)&&1==n.CustomTicker.ticker_position?(0,c.jsx)(u,{CustomTicker:n.CustomTicker,UgcSettings:n.UgcSettings}):null,B?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(g,{Banner:n.Banner,BannerImage:n.BannerImage,LogoImage:n.LogoImage})]}):"",(0,c.jsxs)("div",{className:"tb_app_wrapper",style:D,children:[j&&B?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(d,{reviewFilters:i,appendData:b.appendData,wall:n,languageSetting:k,postData:b})}):null,n.UserRule.on_site_upload&&n.UgcSettings.onsite_status||l.nX&&n.UgcSettings.onsite_status&&(l.Jx||l.ig&&!(0,r.mD)(50))?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(m,{UgcSettings:n.UgcSettings,id:n.Wall.id,tagShopWallId:n.Wall.wallId})," "]}):null,!l.bX&&x&&(z||_)?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(p,{type:n.Personalization.filter_type,webFilters:s,filter_tags:f,appendData:b.appendData,wall:n,languageSetting:k,postData:b})]}):"",(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(h,{...this.props,brandingNetworks:I,containerSize:this.state.containerSize,parentID:this.state.parentID})]}),j&&S?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(d,{reviewFilters:i,appendData:b.appendData,wall:n,languageSetting:k,postData:b})}):null]}),S?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(g,{Banner:n.Banner,BannerImage:n.BannerImage,LogoImage:n.LogoImage})]}):"",l.bX&&!l.aL&&1===(null===(t=n.CustomTicker)||void 0===t?void 0:t.status)&&2==n.CustomTicker.ticker_position?(0,c.jsx)(u,{CustomTicker:n.CustomTicker,UgcSettings:n.UgcSettings}):null]})}}const k=(0,s.$j)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId,product:e.product.isDisplay}}return{renderId:e.renderId,product:e.product.isDisplay}}),(e=>({managePostHeight:t=>e((0,i.B0)(t))})))(b)}}]);