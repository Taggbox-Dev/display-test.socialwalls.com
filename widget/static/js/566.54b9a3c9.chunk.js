"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[566,5537],{3720:(t,e,i)=>{i.d(e,{A:()=>c});var n=i(9950),o=i(38092),s=i.n(o),r=i(66345),l=i(76506),d=i(44414);class a extends n.Component{constructor(t){super(t),this.updateMediaDimensions=()=>{if(this.mediaRef.current){const{offsetHeight:t,offsetWidth:e}=this.mediaRef.current;this.setState({currentHeight:t,currentWidth:e})}},this.mediaSizeCalc=async()=>{const{media:t}=this.props.Post;if((null===t||void 0===t||!t.height)&&(null===t||void 0===t||!t.width))try{var e;const{width:i,height:n}=await(0,l.TW)(null===t||void 0===t||null===(e=t.image)||void 0===e?void 0:e.small);this._isMounted&&this.setState({calcHeight:n,calcWidth:i})}catch(i){this._isMounted&&this.setState({calcHeight:300,calcWidth:300})}},this.setVideoLoaded=t=>{this._isMounted&&this.setState({videoLoaded:t})},this.state={loadError:!1,videoLoaded:!1,calcHeight:0,calcWidth:0,currentHeight:0,currentWidth:0},this.mediaRef=n.createRef(),this._isMounted=!1}componentDidMount(){this._isMounted=!0,requestAnimationFrame((()=>{this.updateMediaDimensions(),this.mediaSizeCalc()}))}componentWillUnmount(){this._isMounted=!1}render(){var t,e,i,n,o,l,a;const{VideoClass:c,Post:u,controls:h,autoPlay:v,videoEndCallback:m,muted:f,size:p,inView:g}=this.props,_="function"===typeof m,{calcHeight:b,calcWidth:y,currentWidth:w,currentHeight:x}=this.state,{media:S,id:j,link:k,networkId:$}=u,C=1===p,P=null!==S&&void 0!==S&&S.height?null===S||void 0===S?void 0:S.height:b,I=null!==S&&void 0!==S&&S.width?null===S||void 0===S?void 0:S.width:y,E={paddingBottom:`${C?null:p||100*P/I}%`},A=!_&&null!==S&&void 0!==S&&null!==(t=S.video)&&void 0!==t&&t.clip&&"undefined"!=(null===S||void 0===S||null===(e=S.video)||void 0===e?void 0:e.clip)?null===S||void 0===S||null===(i=S.video)||void 0===i?void 0:i.clip:g?null===S||void 0===S||null===(n=S.video)||void 0===n?void 0:n.full:null===S||void 0===S||null===(o=S.image)||void 0===o?void 0:o.small;return(0,d.jsx)("div",{className:`${c}_wrap_`,style:E,ref:this.mediaRef,children:(0,d.jsx)(s(),{className:`${c} tb_media-${j}`,url:A,"data-height":b,"data-width":y,"data-type":"video","data-network":$,"data-link":k,"data-item-id":j,"data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":I,"data-height":P,poster:null===S||void 0===S||null===(l=S.image)||void 0===l?void 0:l.small}},file:{attributes:{preload:"metadata",poster:null===S||void 0===S||null===(a=S.image)||void 0===a?void 0:a.small,height:x,width:w}}},loop:!_&&v,onError:()=>{this.setVideoLoaded(!1),_&&setTimeout((()=>{m()}),1e4)},autoPlay:g&&v?1:0,muted:f,volume:v?1:0,playsinline:1,onReady:()=>this.setVideoLoaded(!r.HY),playing:g&&v?1:0,controls:h||!1,onEnded:_?m:null,title:null===S||void 0===S?void 0:S.title},`${j}-${x}-${y}-${g}`)})}}const c=(0,n.memo)(a)},15537:(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var n=i(9950),o=i(66345),s=i(44414);const r=n.lazy((()=>i.e(620).then(i.bind(i,20620)))),l=t=>{var e,i;const{Post:l,IconClass:d,isCenter:a,hideVideo:c,show:u}=t,h=!![3,5].includes(null===l||void 0===l?void 0:l.type),v=7===(null===l||void 0===l||null===(e=l.network)||void 0===e?void 0:e.id),m=!!(null!==l&&void 0!==l&&l.mediaList&&(null===l||void 0===l||null===(i=l.mediaList)||void 0===i?void 0:i.length)>0),f=1===(null===l||void 0===l?void 0:l.isAudio),p=!(null===l||void 0===l||!l.isProduct),g=(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(s.Fragment,{}),children:(0,s.jsx)(r,{network:{id:7,name:"YouTube",icon:"youtube"},networkClass:"tb_youtube_ico"})}),_=(0,s.jsx)("div",{className:"tb_multiple_ico tb__icon tb-multiple",children:"  "}),b=(0,s.jsx)("div",{className:"tb_audio_ico tb__icon tb-audio",children:"  "}),y=(0,s.jsx)("div",{className:"tb__icon tb-"+(o.aD?"reel-fill tb_reel_ico":"video tb_video_ico"),children:"  "}),w=(0,s.jsx)("div",{className:"tb_shop_ico tb__icon tb-bag",children:"  "}),x=(0,s.jsx)("div",{className:"tb_center_video_ico tb__icon tb-play-circle",children:"  "});return u?(0,s.jsxs)(s.Fragment,{children:[a&&(v||h)?(0,s.jsxs)("div",{className:`${d} tb__media_ico_c`,children:[h&&!v?x:"",h&&v?g:""]}):null,p||m||h?(0,s.jsxs)("div",{className:`${d} tb__media_ico_`,children:[p?w:"",m?_:"",a||!h||v||c?"":f?b:y]}):null]}):null}},45285:(t,e,i)=>{i.d(e,{bs:()=>a});var n=i(80415),o=i(296),s=i(66345),r=i(28322),l=i(14313);let d=[];const a=t=>{t.persist();const e=t.target,{network:i,itemId:n,themeId:o}=e.dataset;if(1!=i||[3,4,16,47,50,55,60].includes(o))d.includes(t)||d.push(t);else{const t=document.querySelector(`.tb_media-${n}`);t&&(t.style.display="none")}1===d.length&&c()},c=async()=>{var t;const{postData:e,wall:i}=o.A.getState().appData;if(!i||!Object.keys(i).length||!d.length)return;const{User:a,Wall:h}=i,v=null===a||void 0===a?void 0:a.id,m=(s.HY,null===h||void 0===h?void 0:h.id),f=null===(t=d[0])||void 0===t?void 0:t.target,{filterId:p,network:g,itemId:_,load:b}=f.dataset,y=document.querySelector(`img[data-item-id="${_}"]`),w=null!==e&&void 0!==e&&e.completeDataObject?Object.values(e.completeDataObject).filter((t=>t.id===_)):[];if(null!==w&&void 0!==w&&w.length){var x;const t=await(async t=>["taggbox.com","tagbox.com","tagembed.com","socialwalls.com"].some((e=>t.includes(e)))||await fetch(t).then((t=>t.ok)).catch((()=>!1)))(null===(x=w[0])||void 0===x?void 0:x.postFileNew);if(!t&&y){if([2,18,3,28].includes(+g)&&"0"===b&&"34"!==p&&!f.src.includes("cloud.taggbox.com")){const t=((t,e,i)=>{var n,o,s,r,l;const{UserPlan:d,Wall:a}=e;return{table_name:null===d||void 0===d?void 0:d.db_table,...t,...null!==i&&void 0!==i&&i.length?{feedId:null===(n=i[0])||void 0===n?void 0:n.feedId,type:null===(o=i[0])||void 0===o?void 0:o.type,link:null===(s=i[0])||void 0===s?void 0:s.link,postFile:null===(r=i[0])||void 0===r?void 0:r.postFile,mediaFile:null===(l=i[0])||void 0===l?void 0:l.mediaFile}:{},url:null===a||void 0===a?void 0:a.url}})({wallId:m,postId:_,ownerId:v},i,w);try{const{data:e}=await(new l.A).post(s.t5,t,{headers:r.ML}),i=s.HY||s.MH?"":`https://images.${s.QR}/`;f.src="18"===g?`${i}${e.media}`:e.media}catch{f.src=n.gX}finally{u(f)}}else f.src=n.gX,u(f);d.shift(),c()}else{const t=`${n.th}/media/images/no-image.svg`;f.src=t,f.srcset=t,u(f),d.shift()}}},u=t=>t.setAttribute("data-load","1")},50566:(t,e,i)=>{i.r(e),i.d(e,{default:()=>w});var n=i(9950),o=i(66345),s=i(10300),r=i(53556),l=i(61302),d=i(78262),a=i(3720),c=i(15537),u=i(44414);const h=t=>{let{Post:e,ThemeInfo:i,ThemeStyle:n,ThemeRule:s,index:r,ProductSetting:l,inView:h}=t;const v=(9==(null===i||void 0===i?void 0:i.productType)||o.MH)&&s.aspectImageRatio?s.aspectImageRatio:100,m=!(![3,5].includes(e.type)||1!=n.autoPlay);return(0,u.jsxs)("div",{className:"tb_ht_media_wrap",children:[(0,u.jsx)(c.default,{Post:e,IconClass:"tb_ht_media_icon",isCenter:!1}),m?(0,u.jsx)(a.A,{VideoClass:"tb_ht_video",Post:e,size:v,isCover:!0,controls:!1,autoPlay:!0,muted:!0,index:r,inView:h}):(0,u.jsx)(d.A,{ImageClass:"tb_ht_image",Post:e,size:v,hotspot:!1,ProductSetting:l,index:r,inView:h})]})};var v=i(56071);const m=(0,n.lazy)((()=>i.e(2663).then(i.bind(i,92663)))),f=(0,n.lazy)((()=>i.e(7713).then(i.bind(i,47713)))),p=(0,n.lazy)((()=>i.e(531).then(i.bind(i,60531)))),g=t=>{let{Post:e,CardStyle:i,index:s,ThemeInfo:r,onClickToCTA:l,ThemeStyle:d,ProductSetting:a,clickToShowPopUp:c,onClickPopUpSlider:g}=t;const _=81!=r.id,b=o.MH?"tb_ht_color_overlay":"tb_ht_post_overlay-dark",y={backgroundColor:o.MH?i.style.background:""},w=_&&o.MH?"50%":null;return(0,n.useEffect)((()=>{e.isPopUp&&g(s,e)}),[s,e.isPopUp,e]),(0,u.jsx)(v.A,{children:t=>{let{ref:o,inView:v}=t;return(0,u.jsx)("div",{id:`tb_ht_id-${e.id}`,className:"tb_ht_post_wrapper",onClick:c(s,e),style:{padding:i.style.margin/2,opacity:v?1:0,transition:v?"opacity .5s ease-in-out":""},"tb-network":e.network.id,"tb-product":e.isShopIcon?1:e.isHotspot?2:0,"area-label":e.content.text,role:"article",ref:o,"post-id":e.referenceId?e.referenceId:e.id,"feed-id":e.feedId,children:(0,u.jsx)("div",{className:"tb_ht_post_in",style:{borderRadius:w},role:"button","aria-label":"Popup",tabIndex:"0",children:(0,u.jsxs)("div",{className:"tb_ht_post_media_wrapp",role:"button",tabIndex:"0","aria-label":"Pop Up Button",children:[(0,u.jsx)(h,{Post:e,CardStyle:i,ProductSetting:a,ThemeStyle:d,ThemeInfo:r,index:s,inView:v},s),(0,u.jsxs)("div",{className:"tb_ht_post_details",children:[(0,u.jsx)("div",{className:"tb_ht_social_",children:(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(m,{networkClass:"tb_ht_social_ico_",networkId:e.networkId,iconStyle:i.icon})})}),""!=i.shopText&&e.isProduct?(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(f,{CardStyle:i,mode:1,btnClass:"tb_ht_btn_wrap"})}):null,e.ctaStatus?(0,u.jsx)("div",{className:"tb_ht_post_cta",onClick:t=>{t.stopPropagation()},children:(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(p,{ctaClass:"tb_ht_post_cta_btn",Post:e,onClickToCTA:l})})}):null]}),(0,u.jsx)("div",{className:`tb_ht_post_overlay ${b}`,style:y,children:(0,u.jsx)("div",{})})]})})})}})};i(61038);var _=i(21850),b=i(52867);class y extends n.Component{constructor(t){super(t),this.requestData=()=>{const{appendData:t,ThemeInfo:e,ThemeStyle:i,CardStyle:n,hasMoreData:s,nextData:r,containerSize:l}=this.props,d=(n.minimumWidth||150)+10;s&&r(o.HY?e.webId:e.wallId,Math.floor(Date.now()/1e3),(0,b.Ci)(l.width,i.column,d),t.networkID,t.after,t.heightEvent)},this.autoScrollSlider=t=>{const e=t.index;t.length-e===t._o.perPage&&this.requestData()},this.inputRefs={},this.isDragging=!1}componentDidMount(){setTimeout((()=>{const t=document.querySelectorAll(".splide__slide");t&&t.forEach((t=>{t.removeAttribute("aria-hidden"),t.removeAttribute("role")}))}),100),this.props.loadBranding()}render(){const{postData:t,completeDataObject:e,CardStyle:i,ThemeStyle:n,ThemeInfo:o,parentID:s,onClickToCTA:d,onClickPopUpSlider:a,containerSize:c,ProductSetting:h,clickToShowPopUp:v}=this.props,m=n.slide.autoSlide,f=n.slide.slideDuration,p=n.autoScrollStatus,_=s,y={},w=(1===p||!Object.keys(y).length)&&"slide",x=(i.minimumWidth||150)+10,S=(0,b.Ci)(c.width,n.column,x),j={...y,grid:{rows:1},type:1!==p&&w,rewind:!0,rewindSpeed:1e3,interval:1===m&&parseInt(f)>0?1e3*parseInt(f):5e3,perPage:S,perMove:1,gap:0,autoplay:1===m,padding:0,pagination:!1,arrows:!0};let k=t.length<10?Array.from({length:10},((e,i)=>t[i%t.length])):t;return""!=s?(0,u.jsx)("div",{className:"tb_ht_post_container",children:(0,u.jsxs)(r.eB,{hasTrack:!1,className:"tb_ht_post_slider",options:j,extensions:{Grid:l.x},ref:t=>this.inputRefs[_]=t,onMove:this.autoScrollSlider,children:[(0,u.jsx)("div",{className:"splide__track",children:(0,u.jsx)("div",{className:"splide__list",children:(n.row>1&&1!==k.length&&k.length%2!==0?k.pop():k)&&k&&k.length>0&&k.map(((t,r)=>{const l=e[t];return(0,u.jsx)("div",{className:`splide__slide tb_${l.id}`,"data-id":l.id,p_id:s,children:(0,u.jsx)(g,{onClickToCTA:d,onClickPopUpSlider:a,Post:l,index:r,ProductSetting:h,clickToShowPopUp:v,CardStyle:i,ThemeStyle:n,ThemeInfo:o})},r)}))})}),(0,u.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_ht_arrow_wrapper_",children:[(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--prev tb_ht_arrow tb_ht_arrow_left__ tb__icon tb-arrow-left-alt",role:"button","aria-label":"Go to previous slide",children:(0,u.jsx)("div",{})}),(0,u.jsx)("div",{className:"tb_ht_arrow splide__arrow splide__arrow--next tb_ht_arrow_right__ tb__icon tb-arrow-right-alt",role:"button","aria-label":"Go to next slide",children:(0,u.jsx)("div",{})})]})]})}):null}}const w=(0,n.memo)((0,s.Ng)("",(t=>({nextData:(e,i,n,o,s,r,l,d)=>t((0,_.wF)(e,i,n,o,s,r,l,d))})))(y))},56071:(t,e,i)=>{i.d(e,{A:()=>v});var n=i(9950),o=Object.defineProperty,s=(t,e,i)=>((t,e,i)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!==typeof e?e+"":e,i),r=new Map,l=new WeakMap,d=0,a=void 0;function c(t){return Object.keys(t).sort().filter((e=>void 0!==t[e])).map((e=>{return`${e}_${"root"===e?(i=t.root,i?(l.has(i)||(d+=1,l.set(i,d.toString())),l.get(i)):"0"):t[e]}`;var i})).toString()}function u(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;if("undefined"===typeof window.IntersectionObserver&&void 0!==n){const o=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:"number"===typeof i.threshold?i.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:o,observer:s,elements:l}=function(t){const e=c(t);let i=r.get(e);if(!i){const n=new Map;let o;const s=new IntersectionObserver((e=>{e.forEach((e=>{var i;const s=e.isIntersecting&&o.some((t=>e.intersectionRatio>=t));t.trackVisibility&&"undefined"===typeof e.isVisible&&(e.isVisible=s),null==(i=n.get(e.target))||i.forEach((t=>{t(s,e)}))}))}),t);o=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),i={id:e,observer:s,elements:n},r.set(e,i)}return i}(i),d=l.get(t)||[];return l.has(t)||l.set(t,d),d.push(e),s.observe(t),function(){d.splice(d.indexOf(e),1),0===d.length&&(l.delete(t),s.unobserve(t)),0===l.size&&(s.disconnect(),r.delete(o))}}n.Component;var h=i(52867);const v=t=>{let{children:e}=t;const{ref:i,inView:o,entry:s}=function(){let{threshold:t,delay:e,trackVisibility:i,rootMargin:o,root:s,triggerOnce:r,skip:l,initialInView:d,fallbackInView:a,onChange:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const[v,m]=n.useState(null),f=n.useRef(c),[p,g]=n.useState({inView:!!d,entry:void 0});f.current=c,n.useEffect((()=>{if(l||!v)return;let n;return n=u(v,((t,e)=>{g({inView:t,entry:e}),f.current&&f.current(t,e),e.isIntersecting&&r&&n&&(n(),n=void 0)}),{root:s,rootMargin:o,threshold:t,trackVisibility:i,delay:e},a),()=>{n&&n()}}),[Array.isArray(t)?t.toString():t,v,s,o,r,l,i,a,e]);const _=null==(h=p.entry)?void 0:h.target,b=n.useRef(void 0);v||!_||r||l||b.current===_||(b.current=_,g({inView:!!d,entry:void 0}));const y=[m,p.inView,p.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}({triggerOnce:!0,threshold:.01});return o&&(0,h._7)(s),e({ref:i,inView:o})}},61038:()=>{},61302:(t,e,i)=>{function n(t,e,i){return Array.prototype.slice.call(t,e,i)}function o(t){return t.bind.apply(t,[null].concat(n(arguments,1)))}function s(t,e){return typeof e===t}i.d(e,{x:()=>nt});var r=Array.isArray;function l(t){return r(t)?t:[t]}function d(t,e){l(t).forEach(e)}o(s,"function"),o(s,"string"),o(s,"undefined");var a=Object.keys;function c(t){return n(arguments,1).forEach((function(e){!function(t,e,i){if(t){var n=a(t);n=i?n.reverse():n;for(var o=0;o<n.length;o++){var s=n[o];if("__proto__"!==s&&!1===e(t[s],s))break}}}(e,(function(i,n){t[n]=e[n]}))})),t}var u="splide";var h="visible",v="hidden",m="refresh",f="updated",p="destroy";function g(t){var e=t?t.event.bus:document.createDocumentFragment(),i=function(){var t=[];function e(t,e,i){d(t,(function(t){t&&d(e,(function(e){e.split(" ").forEach((function(e){var n=e.split(".");i(t,n[0],n[1])}))}))}))}return{bind:function(i,n,o,s){e(i,n,(function(e,i,n){var r="addEventListener"in e,l=r?e.removeEventListener.bind(e,i,o,s):e.removeListener.bind(e,o);r?e.addEventListener(i,o,s):e.addListener(o),t.push([e,i,n,o,l])}))},unbind:function(i,n,o){e(i,n,(function(e,i,n){t=t.filter((function(t){return!!(t[0]!==e||t[1]!==i||t[2]!==n||o&&t[3]!==o)||(t[4](),!1)}))}))},dispatch:function(t,e,i){var n,o=!0;return"function"===typeof CustomEvent?n=new CustomEvent(e,{bubbles:o,detail:i}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,o,!1,i),t.dispatchEvent(n),n},destroy:function(){t.forEach((function(t){t[4]()})),t.length=0}}}();return t&&t.event.on(p,i.destroy),c(i,{bus:e,on:function(t,n){i.bind(e,l(t).join(" "),(function(t){n.apply(n,r(t.detail)?t.detail:[])}))},off:o(i.unbind,e),emit:function(t){i.dispatch(e,t,n(arguments,1))}})}var _=u,b=u+"__slide",y=b+"__container";function w(t){t.length=0}function x(t,e,i){return Array.prototype.slice.call(t,e,i)}function S(t){return t.bind(null,...x(arguments,1))}function j(t,e){return typeof e===t}const k=Array.isArray;S(j,"function");const $=S(j,"string"),C=S(j,"undefined");function P(t){return null===t}function I(t){return k(t)?t:[t]}function E(t,e){I(t).forEach(e)}function A(t,e){return t.push(...I(e)),t}function M(t,e,i){t&&E(e,(e=>{e&&t.classList[i?"add":"remove"](e)}))}function N(t,e){M(t,$(e)?e.split(" "):e,!0)}function T(t,e){E(e,t.appendChild.bind(t))}function D(t,e){return t instanceof HTMLElement&&(t.msMatchesSelector||t.matches).call(t,e)}function V(t,e){return e?function(t,e){const i=t?x(t.children):[];return e?i.filter((t=>D(t,e))):i}(t,e)[0]:t.firstElementChild}const R=Object.keys;function H(t,e,i){if(t){let n=R(t);n=i?n.reverse():n;for(let i=0;i<n.length;i++){const o=n[i];if("__proto__"!==o&&!1===e(t[o],o))break}}return t}function W(t,e){E(t,(t=>{E(e,(e=>{t&&t.removeAttribute(e)}))}))}function L(t,e,i){var n;!P(n=e)&&j("object",n)?H(e,((e,i)=>{L(t,i,e)})):E(t,(t=>{P(i)||""===i?W(t,e):t.setAttribute(e,String(i))}))}function z(t,e,i){const n=document.createElement(t);return e&&($(e)?N(n,e):L(n,e)),i&&T(i,n),n}function O(t,e,i){if(C(i))return getComputedStyle(t)[e];P(i)||(t.style[e]=`${i}`)}function F(t,e){return e?x(t.querySelectorAll(e)):[]}function U(t,e){M(t,e,!1)}function B(t){return $(t)?t:t?`${t}px`:""}const q="splide";const{min:Y,max:G,floor:X,ceil:K,abs:Q}=Math;const J=`${b}__row`,Z=`${b}--col`,tt={rows:1,cols:1,dimensions:[],gap:{}};function et(t){function e(){const{rows:e,cols:i,dimensions:n}=t;return k(n)&&n.length?n:[[e,i]]}return{get:function(t){const i=e();return i[Y(t,i.length-1)]},getAt:function(t){const i=e();let n,o,s=0;for(let e=0;e<i.length;e++){const r=i[e];if(n=r[0]||1,o=r[1]||1,s+=n*o,t<s)break}return function(t,e){if(!t)throw new Error(`[${q}] ${e||""}`)}(n&&o,"Invalid dimension"),[n,o]}}}function it(t,e,i){const{on:n,destroy:o}=g(t),{Components:s,options:r}=t,{resolve:l}=s.Direction,{forEach:d}=s.Slides;function a(t,e){const i=V(t,`.${y}`),n=V(i||t,"img");n&&n.src&&(O(i||t,"background",e?"":`center/cover no-repeat url("${n.src}")`),O(n,"display",e?"":"none"))}function c(t){return F(t,`.${J}`)}function u(t){return F(t,`.${Z}`)}function m(t,e){u(t).forEach((t=>{L(t,"tabindex",e?0:null)}))}function f(t){m(t.slide,!0)}function p(t){m(t.slide,!1)}return{mount:function(){d((n=>{const{slide:o}=n,[s,r]=i.get(n.isClone?n.slideIndex:n.index);!function(t,i){const{row:n}=e.gap,o=`calc(${100/t}%${n?` - ${B(n)} * ${(t-1)/t}`:""})`;c(i).forEach(((t,e,i)=>{O(t,"height",o),O(t,"display","flex"),O(t,"margin",`0 0 ${B(n)} 0`),O(t,"padding",0),e===i.length-1&&O(t,"marginBottom",0)}))}(s,o),function(t,i){const{col:n}=e.gap,o=`calc(${100/t}%${n?` - ${B(n)} * ${(t-1)/t}`:""})`;u(i).forEach(((t,e,i)=>{O(t,"width",o),e!==i.length-1&&O(t,l("marginRight"),B(n))}))}(r,o),u(n.slide).forEach(((e,i)=>{var o;e.id=`${n.slide.id}-col${o=i+1,o<10?`0${o}`:`${o}`}`,t.options.cover&&a(e)}))})),r.slideFocus&&(n(h,f),n(v,p))},destroy:function(){d((t=>{const{slide:e}=t;m(e,!1),c(e).forEach((t=>{W(t,"style")})),u(e).forEach((t=>{a(t,!0),W(t,"style")}))})),o()}}}function nt(t,e,i){const{on:n,off:o}=g(t),{Elements:s}=e,r={},l=et(r),d=it(t,r,l),a=`${_}--grid`,c=[];function u(){var e,d;e=r,I(d||R(e)).forEach((t=>{delete e[t]})),function(t){x(arguments,1).forEach((e=>{H(e,((i,n)=>{t[n]=e[n]}))}))}(r,tt,i.grid||{}),!function(){if(i.grid){const{rows:t,cols:e,dimensions:i}=r;return t>1||e>1||k(i)&&i.length>0}return!1}()?y()&&(h(),v()):(h(),A(c,s.slides),N(t.root,a),T(s.list,function(){const t=[];let e,i,n=0,o=0;return c.forEach(((s,r)=>{const[d,a]=l.getAt(r);o||(n||(e=z(s.tagName,b),t.push(e)),i=function(t,e,i){const n="li"===e.tagName.toLowerCase()?"ul":"div";return z(n,J,i)}(0,s,e)),function(t,e,i){N(e,Z),T(i,e)}(0,s,i),++o>=a&&(o=0,n=++n>=d?0:n)})),t}()),o(m),n(m,p),v())}function h(){if(y()){const{slides:e}=s;d.destroy(),c.forEach((t=>{U(t,Z),T(s.list,t)})),E(e,(t=>{t&&t.parentNode&&t.parentNode.removeChild(t)})),U(t.root,a),w(e),A(e,c),w(c),o(m)}}function v(){t.refresh()}function p(){y()&&d.mount()}function y(){return e=t.root,i=a,e&&e.classList.contains(i);var e,i}return{mount:function(){u(),n(f,u)},destroy:h}}},78262:(t,e,i)=>{i.d(e,{A:()=>a});var n=i(9950),o=i(76506),s=i(80415),r=i(45285),l=i(44414);const d=(0,n.lazy)((()=>Promise.all([i.e(1823),i.e(9874)]).then(i.bind(i,89874))));class a extends n.PureComponent{constructor(t){var e,i;super(t),this.updateMediaDimensions=()=>{if(this.mediaRef.current){const{offsetHeight:t,offsetWidth:e}=this.mediaRef.current;this.setState({currentHeight:t,currentWidth:e})}},this.mediaSizeCalc=async()=>{const{Post:t,mediaOnly:e}=this.props,i=e||t.media;if((null===i||void 0===i||!i.height)&&(null===i||void 0===i||!i.width))try{var n;const{width:t,height:e}=await(0,o.TW)(null===i||void 0===i||null===(n=i.image)||void 0===n?void 0:n.small);this._isMounted&&this.setState({height:e,width:t})}catch(s){this._isMounted&&this.setState({height:300,width:300})}};const{mediaOnly:s,Post:r}=t;this.state={height:(null===s||void 0===s?void 0:s.height)||(null===r||void 0===r||null===(e=r.media)||void 0===e?void 0:e.height)||0,width:(null===s||void 0===s?void 0:s.width)||(null===r||void 0===r||null===(i=r.media)||void 0===i?void 0:i.width)||0,currentHeight:0,currentWidth:0},this.mediaRef=n.createRef()}componentDidMount(){this._isMounted=!0,requestAnimationFrame((()=>{this.updateMediaDimensions(),this.mediaSizeCalc()}))}componentWillUnmount(){this._isMounted=!1}render(){var t,e,i,o,a;const{height:c,width:u}=this.state,{ImageClass:h,Post:v,hotspot:m,size:f,blurBG:p,mediaOnly:g,inView:_,multiKey:b,index:y,ProductSetting:w}=this.props,{id:x,link:S,products:j}=v,k=g||(null===v||void 0===v?void 0:v.media),{currentWidth:$,currentHeight:C}=this.state,P=f||100*c/u,I={paddingBottom:1===P?null:`${P}%`},E={backgroundImage:_?`url(${null===k||void 0===k||null===(t=k.image)||void 0===t?void 0:t.small})`:null},A=u>c?"100%":u/c*100+"%",M=u>c?c/u*100+"%":"100%",N=v.isProduct&&m&&v.hotspot&&(null===w||void 0===w||null===(e=w.Hotspot)||void 0===e?void 0:e.status),T={width:N&&f?A:null,height:N&&f?M:null};return(0,l.jsxs)("div",{className:`${h}_wrap_ mediaHolder${null===v||void 0===v?void 0:v.id}`,style:I,ref:this.mediaRef,children:[N&&p?(0,l.jsx)("div",{className:"tb_blur_bg_",style:E}):null,(0,l.jsxs)("div",{className:`${h}_wrap_in`,style:T,children:[N?(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(d,{products:this.props.multiPic?v.mediaList[b].product:j,hotspot:v.hotspot,Post:v,showTooltip:null},y)}):null,_?(0,l.jsx)("img",{className:`${h} tb_media-${x}`,src:null===k||void 0===k||null===(i=k.image)||void 0===i?void 0:i.small,srcSet:`${null===k||void 0===k||null===(o=k.image)||void 0===o?void 0:o.small} 1x, ${null===k||void 0===k||null===(a=k.image)||void 0===a?void 0:a.large} 2x`,sizes:`${$}px`,loading:_?"eager":"lazy",decoding:"async",fetchPriority:_?"high":"low","data-id":x,height:C,width:$,"data-height":c,"data-width":u,"data-link":S,onLoad:this.onLoad,onError:t=>{t.target.src=`${s.th}/media/error/no-image.svg`,t.target.srcset=`${s.th}/media/error/no-image.svg`,(0,r.bs)(t)},alt:null===k||void 0===k?void 0:k.title,title:null===k||void 0===k?void 0:k.title},`${x}-${c}-${u}-${_}`):null]})]})}}}}]);