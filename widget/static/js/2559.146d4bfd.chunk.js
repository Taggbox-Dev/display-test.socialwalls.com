"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[2559],{82559:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(72791),i=n(11225),s=n(77581),l=n(2703),r=n(70188),o=n(46535),d=n(94217),c=n(80184);const g=a.lazy((()=>n.e(2230).then(n.bind(n,82230)))),u=a.lazy((()=>n.e(8839).then(n.bind(n,88839)))),h=a.lazy((()=>n.e(6690).then(n.bind(n,86690)))),p=a.lazy((()=>n.e(1354).then(n.bind(n,21354)))),m=a.lazy((()=>n.e(7625).then(n.bind(n,17625)))),v=a.lazy((()=>n.e(4900).then(n.bind(n,4900))));class b extends a.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.onLoadSpotLight=()=>{if(o.bX&&!o.P2){const{postData:t}=this.props;if(t.completeDataObject&&Object.keys(t.completeDataObject).length>0){var e=null;Object.entries(t.completeDataObject).forEach((t=>{let[n,a]=t;1==(null===a||void 0===a?void 0:a.highlight)&&null==e&&(e=a)})),e&&Object.keys(e).length>0&&(0,d.Gh)(e)}}},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef()}componentDidMount(){(0,l.gz)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}}),this.onLoadSpotLight()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){var e;let t=document.querySelector(".tb_app_container"),n=l.b8?l.b8:null===t||void 0===t||null===(e=t.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:n})}render(){var e,t,n,i,s,d,b,k,f,j,S,w;const{wall:B,reviewFilters:x,webFilters:z,postData:D,languageSetting:I,filter_tags:_}=this.props,y=!!(B.Banner&&Object.keys(B.Banner).length>0&&1===(null===B||void 0===B||null===(e=B.Banner)||void 0===e?void 0:e.status)),T=!!(B.BannerImage&&Object.keys(B.BannerImage).length>0&&1===(null===B||void 0===B||null===(t=B.BannerImage)||void 0===t?void 0:t.status)),P=!!(y&&1==(null===B||void 0===B||null===(n=B.Banner)||void 0===n?void 0:n.banner_position)||T),R=!(!y||2!=(null===B||void 0===B||null===(i=B.Banner)||void 0===i?void 0:i.banner_position)),C=o.ZQ?![55,60,16,47,57].includes(B.Personalization.widgetTheme):![55,52,60,16,47,57,61].includes(B.Personalization.widgetTheme),F=B.Banner&&Object.keys(B.Banner).length>0&&1===B.Banner.status&&6==B.Banner.bannerType&&0===B.Personalization.filterStatus&&![57,84].includes(B.Personalization.widgetTheme),L=o.ZQ?1===B.Personalization.filterStatus:!!(1===B.Personalization.filterStatus&&z&&z.length>1),U=!!(_&&_.length>0);let O=""!=z&&z&&z.length>0?z.map((e=>{let{Network:t}=e;return null===t||void 0===t?void 0:t.id})):null;!o.ig&&null!==B&&void 0!==B&&null!==(s=B.Background)&&void 0!==s&&s.image&&B.Background.image.includes(r.ho)&&(B.Background.image=String(B.Background.image).replace(r.lO,""));const H=(0===(null===B||void 0===B||null===(d=B.Background)||void 0===d?void 0:d.transparent)||null!==B&&void 0!==B&&null!==(b=B.Background)&&void 0!==b&&b.image&&o.ZQ)&&!(0,l.mD)(84)?{backgroundImage:null!==B&&void 0!==B&&null!==(k=B.Background)&&void 0!==k&&k.image?"url(".concat(null===B||void 0===B||null===(f=B.Background)||void 0===f?void 0:f.image,")"):"",backgroundColor:null===B||void 0===B||null===(j=B.Background)||void 0===j?void 0:j.color}:null;return(0,c.jsxs)("div",{className:"tb_app_container",style:{minHeight:o.P2?[47,16,49,55,60,52].includes(B.Personalization.widgetTheme)?"100%":"".concat(this.props.postHeight,"px"):null},ref:this.containerRef,children:[o.bX&&!o.aL&&1===(null===(S=B.CustomTicker)||void 0===S?void 0:S.status)&&1==B.CustomTicker.ticker_position?(0,c.jsx)(h,{CustomTicker:B.CustomTicker,UgcSettings:B.UgcSettings}):null,P?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(g,{Banner:B.Banner,BannerImage:B.BannerImage,LogoImage:B.LogoImage})]}):"",(0,c.jsxs)("div",{className:"tb_app_wrapper",style:H,children:[F&&P?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(u,{reviewFilters:x,appendData:D.appendData,wall:B,languageSetting:I,postData:D})}):null,B.UserRule.on_site_upload&&B.UgcSettings.onsite_status||o.nX&&B.UgcSettings.onsite_status&&(o.Jx||o.ig&&!(0,l.mD)(50))?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(v,{UgcSettings:B.UgcSettings,id:B.Wall.id,tagShopWallId:B.Wall.wallId})," "]}):null,o.bX||!C||!L&&!U||(0,l.mD)(84)?"":(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(p,{type:B.Personalization.filter_type,webFilters:z,filter_tags:_,appendData:D.appendData,wall:B,languageSetting:I,postData:D})]}),(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(m,{...this.props,brandingNetworks:O,containerSize:this.state.containerSize,parentID:this.state.parentID})]}),F&&R?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(u,{reviewFilters:x,appendData:D.appendData,wall:B,languageSetting:I,postData:D})}):null]}),R?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(g,{Banner:B.Banner,BannerImage:B.BannerImage,LogoImage:B.LogoImage})]}):"",o.bX&&!o.aL&&1===(null===(w=B.CustomTicker)||void 0===w?void 0:w.status)&&2==B.CustomTicker.ticker_position?(0,c.jsx)(h,{CustomTicker:B.CustomTicker,UgcSettings:B.UgcSettings}):null]})}}const k=(0,s.$j)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId}}return{renderId:e.renderId}}),(e=>({managePostHeight:t=>e((0,i.B0)(t))})))(b)}}]);
//# sourceMappingURL=2559.146d4bfd.chunk.js.map