{"version":3,"file":"static/js/4816.ae8448e1.chunk.js","mappings":"qMAKe,MAAMA,UAA0BC,EAAAA,UAAUC,WAAAA,GAAA,SAAAC,WAAA,KACrDC,WAAa,GAAG,KAChBC,MAAQ,CAAEC,cAAc,GAAO,KAG/BC,iBAAoBC,IAChB,MAAMC,EAAMD,EAAEE,OAAOC,aAAa,WAC7BC,KAAKR,WAAWS,SAASJ,KAC1BG,KAAKR,WAAWU,KAAKL,GAChBG,KAAKP,MAAMC,cACZM,KAAKG,oBAEb,EACF,KAEFA,kBAAoBC,UAChBJ,KAAKK,SAAS,CAAEX,cAAc,IAC9B,MAAMG,EAAMG,KAAKR,WAAW,GACtBc,EAAaC,SAASC,uBAAuB,QAADC,OAASZ,IACvDA,IACAa,EAAAA,EAAAA,IAAqBb,GAAKc,MAAKC,IAAe,IAAd,KAAEC,GAAMD,EAGpC,IAFAE,EAAAA,EAAAA,MACAd,KAAKR,WAAWuB,QACZT,EACA,IAAK,IAAIU,EAAI,EAAGA,EAAIV,EAAWW,OAAQD,IACnCV,EAAWU,GAAGnB,IAAMgB,EAAKK,MAGjClB,KAAKG,mBAAmB,IAEvBgB,OAAOC,IAEJ,GADApB,KAAKR,WAAWuB,QACZT,EACA,IAAK,IAAIU,EAAI,EAAGA,EAAIV,EAAWW,OAAQD,IACnCV,EAAWU,GAAGnB,IAAMwB,EAAAA,GAG5BrB,KAAKG,mBAAmB,GAGpC,CACF,CAGFmB,MAAAA,GAEI,MAAM,SAAEC,EAAQ,mBAAEC,GAAuBxB,KAAKyB,MAC9C,OAAQF,EAAWA,EAASG,KAAI,CAACC,EAAMC,KACnC,MAAMC,EAAWL,EAAmBG,GACpC,OAA8B,IAAvBE,EAASC,QAAQC,IAAWC,EAAAA,EAAAA,KAAA,OAAiBC,UAAU,GAAG,UAASJ,EAASE,GAAIlC,IAAKgC,EAASK,YACjGC,QAASnC,KAAKL,iBAAkByC,MAAO,CAAEC,QAAS,QAAUC,KAAKC,EAAAA,EAAAA,GAAeV,EAASK,cADhDN,GACmE,EAAE,IAGlH,EAER,E","sources":["app/Components/customFunction/tikTok_Img_update.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { DELETE_RADIS_KEYS } from '../../../actions/themeActions';\r\nimport { NO_IMAGE } from '../../../constants';\r\nimport { GET_MEDIA_NAME, TIKTOK_UPDATE_STATUS } from '../../../utils';\r\n\r\nexport default class tikTok_Img_update extends Component {\r\n    imageQueue = [];\r\n    state = { firstRequest: false }\r\n\r\n\r\n    handleImageError = (e) => {\r\n        const src = e.target.getAttribute(\"data-id\");\r\n        if (!this.imageQueue.includes(src)) {\r\n            this.imageQueue.push(src);\r\n            if (!this.state.firstRequest) {\r\n                this.processImageQueue()\r\n            }\r\n        }\r\n    };\r\n\r\n    processImageQueue = async () => {\r\n        this.setState({ firstRequest: true })\r\n        const src = this.imageQueue[0];\r\n        const imgTargets = document.getElementsByClassName(`imgID${src}`);\r\n        if (src) {\r\n            TIKTOK_UPDATE_STATUS(src).then(({ data }) => {\r\n                DELETE_RADIS_KEYS();\r\n                this.imageQueue.shift();\r\n                if (imgTargets) {\r\n                    for (let i = 0; i < imgTargets.length; i++) {\r\n                        imgTargets[i].src = data.media;\r\n                    }\r\n                }\r\n                this.processImageQueue()\r\n            })\r\n                .catch((error) => {\r\n                    this.imageQueue.shift();\r\n                    if (imgTargets) {\r\n                        for (let i = 0; i < imgTargets.length; i++) {\r\n                            imgTargets[i].src = NO_IMAGE;\r\n                        }\r\n                    }\r\n                    this.processImageQueue()\r\n                })\r\n\r\n        }\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        const { postData, completeDataObject } = this.props\r\n        return (postData ? postData.map((item, index) => {\r\n            const cardData = completeDataObject[item];\r\n            return cardData.network.id == 28 ? <img key={index} className=\"\" data-id={cardData.id} src={cardData.postFileNew}\r\n                onError={this.handleImageError} style={{ display: 'none' }} alt={GET_MEDIA_NAME(cardData.postFileNew)} /> : \"\"\r\n        }\r\n\r\n        ) : ''\r\n        )\r\n    }\r\n}"],"names":["tikTok_Img_update","Component","constructor","arguments","imageQueue","state","firstRequest","handleImageError","e","src","target","getAttribute","this","includes","push","processImageQueue","async","setState","imgTargets","document","getElementsByClassName","concat","TIKTOK_UPDATE_STATUS","then","_ref","data","DELETE_RADIS_KEYS","shift","i","length","media","catch","error","NO_IMAGE","render","postData","completeDataObject","props","map","item","index","cardData","network","id","_jsx","className","postFileNew","onError","style","display","alt","GET_MEDIA_NAME"],"sourceRoot":""}