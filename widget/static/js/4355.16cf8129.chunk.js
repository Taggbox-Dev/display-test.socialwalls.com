"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4355],{44355:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(47313),i=n(43635),l=n(43411),s=n(17739),r=n(98501),o=n(35179),d=n(51500),c=n(46417);const g=a.lazy((()=>n.e(7535).then(n.bind(n,37535)))),u=a.lazy((()=>n.e(6429).then(n.bind(n,16429)))),h=a.lazy((()=>n.e(1027).then(n.bind(n,21027)))),p=a.lazy((()=>n.e(1819).then(n.bind(n,61819)))),m=a.lazy((()=>Promise.all([n.e(6031),n.e(8534)]).then(n.bind(n,18534)))),b=a.lazy((()=>Promise.all([n.e(7914),n.e(589)]).then(n.bind(n,66538))));class k extends a.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.onLoadSpotLight=()=>{if(o.bX&&!o.P2){const{postData:t}=this.props;if(t.completeDataObject&&Object.keys(t.completeDataObject).length>0){var e=null;Object.entries(t.completeDataObject).forEach((t=>{let[n,a]=t;1==(null===a||void 0===a?void 0:a.highlight)&&null==e&&(e=a)})),e&&Object.keys(e).length>0&&(0,d.Gh)(e)}}},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef()}componentDidMount(){(0,s.gz)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}}),this.onLoadSpotLight()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){var e;let t=document.querySelector(".tb_app_container"),n=s.b8?s.b8:null===t||void 0===t||null===(e=t.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:n})}render(){var e,t,n,i,l,d,k,v,f,j;const{wall:w,reviewFilters:S,webFilters:B,postData:x,languageSetting:z,filter_tags:_,spotlight:D}=this.props,I=!!(w.Banner&&Object.keys(w.Banner).length>0&&(1===w.Banner.status&&1===w.Banner.banner_position||1===(null===w||void 0===w||null===(e=w.BannerImage)||void 0===e?void 0:e.status)||"1"===w.Banner.banner_position)),y=!!(w.Banner&&Object.keys(w.Banner).length>0&&(1===w.Banner.status&&2===w.Banner.banner_position||"2"===w.Banner.banner_position)),P=o.ZQ?![55,60,16,47,57].includes(w.Personalization.widgetTheme):![55,52,60,16,47,57,61].includes(w.Personalization.widgetTheme),T=!!(w.Banner&&Object.keys(w.Banner).length>0&&1===w.Banner.status&&6==w.Banner.bannerType&&0===w.Personalization.filterStatus&&57!=w.Personalization.widgetTheme),R=o.ZQ?1===w.Personalization.filterStatus:!!(B&&B.length>1),C=!!(_&&_.length>0),F=!(!o.bX||!D.status);let L=""!=B&&B&&B.length>0?B.map((e=>{let{Network:t}=e;return t.id})):null;!o.ig&&null!==w&&void 0!==w&&null!==(t=w.Background)&&void 0!==t&&t.image&&w.Background.image.includes(r.ho)&&(w.Background.image=String(w.Background.image).replace(r.lO,""));const U=0===(null===w||void 0===w||null===(n=w.Background)||void 0===n?void 0:n.transparent)||null!==w&&void 0!==w&&null!==(i=w.Background)&&void 0!==i&&i.image&&o.ZQ?{backgroundImage:null!==w&&void 0!==w&&null!==(l=w.Background)&&void 0!==l&&l.image?"url(".concat(w.Background.image,")"):"",backgroundColor:null===w||void 0===w||null===(d=w.Background)||void 0===d?void 0:d.color}:null;return console.log(w,"wallwallwallwalljkldjflksdklfj-",null===w||void 0===w||null===(k=w.Personalization)||void 0===k?void 0:k.widgetTheme),(0,c.jsxs)("div",{className:"tb_app_container ".concat(D.isWall?"":"tb_spotlight_ac"),style:{minHeight:o.P2?([47,16,49,55,60,52].includes(w.Personalization.widgetTheme),"100%"):null},ref:this.containerRef,children:[o.bX&&!o.aL&&1===(null===(v=w.CustomTicker)||void 0===v?void 0:v.status)&&1==w.CustomTicker.ticker_position?(0,c.jsx)(h,{CustomTicker:w.CustomTicker,UgcSettings:w.UgcSettings}):null,I&&!F?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(g,{Banner:w.Banner,BannerImage:w.BannerImage,LogoImage:w.LogoImage})]}):"",(0,c.jsxs)("div",{className:"tb_app_wrapper",style:U,children:[T&&I?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(u,{reviewFilters:S,appendData:x.appendData,wall:w,languageSetting:z,postData:x})}):null,null!==w&&void 0!==w&&null!==(f=w.UserRule)&&void 0!==f&&f.on_site_upload&&w.UgcSettings.onsite_status||o.nX&&w.UgcSettings.onsite_status&&(o.Jx||o.ig&&!(0,s.mD)(50))?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(b,{UgcSettings:w.UgcSettings,id:w.Wall.id,tagShopWallId:w.Wall.wallId})," "]}):null,!o.bX&&P&&(R||C)?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(p,{type:w.Personalization.filter_type,webFilters:B,filter_tags:_,appendData:x.appendData,wall:w,languageSetting:z,postData:x})]}):"",!o.bX||!D.isWall&&F?null:(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(m,{...this.props,brandingNetworks:L,containerSize:this.state.containerSize,parentID:this.state.parentID})]}),T&&y?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(u,{reviewFilters:S,appendData:x.appendData,wall:w,languageSetting:z,postData:x})}):null]}),y&&!F?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[" ",(0,c.jsx)(g,{Banner:w.Banner,BannerImage:w.BannerImage,LogoImage:w.LogoImage})]}):"",o.bX&&!o.aL&&1===(null===(j=w.CustomTicker)||void 0===j?void 0:j.status)&&2==w.CustomTicker.ticker_position?(0,c.jsx)(h,{CustomTicker:w.CustomTicker,UgcSettings:w.UgcSettings}):null]})}}const v=(0,l.$j)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId}}return{renderId:e.renderId}}),(e=>({managePostHeight:t=>e((0,i.B0)(t))})))(k)}}]);