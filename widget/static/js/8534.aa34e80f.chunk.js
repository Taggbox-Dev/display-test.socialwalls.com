"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8534],{18534:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var a=n(47313),s=n(43411),l=n(34862),i=n(98501),r=n(17739),o=n(40475),d=n(35179),p=n(46417);const c=a.lazy((()=>n.e(8257).then(n.bind(n,28257)))),h=a.lazy((()=>n.e(3779).then(n.bind(n,3779)))),u=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1395),n.e(4002)]).then(n.bind(n,16977)))),m=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(1395),n.e(9146)]).then(n.bind(n,29146)))),x=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1395),n.e(5406)]).then(n.bind(n,71325)))),g=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1395),n.e(4993)]).then(n.bind(n,18017)))),P=a.lazy((()=>n.e(271).then(n.bind(n,30271)))),j=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(8463)]).then(n.bind(n,95136)))),S=a.lazy((()=>Promise.all([n.e(6119),n.e(6390),n.e(622),n.e(1395),n.e(5919)]).then(n.bind(n,12465)))),b=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(1774),n.e(8581),n.e(7914),n.e(503),n.e(16)]).then(n.bind(n,91744)))),w=a.lazy((()=>n.e(5598).then(n.bind(n,15598)))),k=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(7529),n.e(6270),n.e(7692),n.e(144)]).then(n.bind(n,99154)))),f=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(7529),n.e(6270),n.e(7692),n.e(4408)]).then(n.bind(n,81750)))),I=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(1774),n.e(8581),n.e(503),n.e(82)]).then(n.bind(n,76254)))),z=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1774),n.e(7261)]).then(n.bind(n,56094)))),D=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(1774),n.e(3409)]).then(n.bind(n,9159)))),F=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1774),n.e(7204)]).then(n.bind(n,9105)))),y=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1774),n.e(7916)]).then(n.bind(n,94594)))),T=a.lazy((()=>n.e(441).then(n.bind(n,60441)))),U=a.lazy((()=>n.e(7970).then(n.bind(n,27970)))),C=a.lazy((()=>Promise.all([n.e(6390),n.e(622),n.e(1774),n.e(5881)]).then(n.bind(n,12785)))),v=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1395),n.e(9573)]).then(n.bind(n,58889)))),W=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1395),n.e(7241)]).then(n.bind(n,7092)))),L=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(1395),n.e(8572)]).then(n.bind(n,8572)))),N=a.lazy((()=>Promise.all([n.e(1395),n.e(4843)]).then(n.bind(n,24843)))),_=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1395),n.e(452)]).then(n.bind(n,40038)))),R=a.lazy((()=>Promise.all([n.e(1774),n.e(1340)]).then(n.bind(n,1340)))),E=a.lazy((()=>n.e(2841).then(n.bind(n,12841)))),H=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(1395),n.e(7529),n.e(6270),n.e(2524)]).then(n.bind(n,34280)))),M=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1395),n.e(7709)]).then(n.bind(n,50926)))),X=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1774),n.e(1917)]).then(n.bind(n,5309)))),Q=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1774),n.e(460)]).then(n.bind(n,36282)))),A=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(6390),n.e(622),n.e(1774),n.e(8581),n.e(503),n.e(5450)]).then(n.bind(n,18870)))),Z=a.lazy((()=>Promise.all([n.e(6119),n.e(510),n.e(7529),n.e(6270),n.e(8008)]).then(n.bind(n,93713)))),B=a.lazy((()=>n.e(6167).then(n.bind(n,86167)))),O=d.ZQ?i.TQ:d.ig?i.K$:d.bX?i._X:i.oH,V=d.ZQ?i.z8:d.ig?i.EM:d.aL?i._X:i.rV,q=a.memo((e=>{let{renderId:t,wall:n,reviewFilters:s,webFilters:l,postData:i,adjustWidth:r,languageSetting:o,clickToShowPopUp:c,cardNumber:h,onClickToCTA:B,postSizeInPx:O,onClickPopUpSlider:V,parentID:q,keyRender:J,containerSize:$,heightUpdate:K}=e;const Y=!i.hasMoreData[0]||0!=i.hasMoreData[0].hasMoreData&&(!i.hasMoreData[i.appendData.networkID]||i.hasMoreData[i.appendData.networkID].hasMoreData),G={...i,reviewFilters:s,webFilters:l,hasMoreData:Y,wall:n,adjustWidth:r,languageSetting:o,clickToShowPopUp:c,onClickToCTA:B,onClickPopUpSlider:V,keyRender:J,containerSize:$,heightUpdate:K};switch(n.Personalization.widgetTheme){case 20:return r?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(g,{...G})}):null;case 5:return r?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(x,{...G})}):null;case 3:return r?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(m,{...G})}):null;case 4:return r?(0,p.jsxs)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[(0,p.jsx)(P,{...G,cardNumber:h,postSizeInPx:O})," "]}):null;case 19:case 59:return r?(0,p.jsxs)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[(0,p.jsx)(u,{...G})," "]}):null;case 50:return d.ig?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(b,{...G,cardNumber:h,renderId:t,postSizeInPx:O})}):(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(S,{...G,cardNumber:h,renderId:t,postSizeInPx:O})});case 52:return d.ZQ?r?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(g,{...G})}):null:(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(z,{...G})});case 16:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(F,{...G,postSizeInPx:O,onClickPopUpSlider:V,parentID:q})});case 55:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(I,{...G,cardNumber:parseInt(h),onClickPopUpSlider:V,parentID:q})});case 49:case 53:return d.ig?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(w,{...G,cardNumber:h,renderId:t,postSizeInPx:O})}):(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(j,{...G})});case 47:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(y,{...G,onClickPopUpSlider:V,renderId:t,parentID:q})});case 54:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(C,{...G,onClickPopUpSlider:V,renderId:t,parentID:q})});case 6:case 61:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(k,{...G,onClickPopUpSlider:V,renderId:t,parentID:q})});case 62:return d.ig?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(f,{...G,cardNumber:h,onClickPopUpSlider:V,renderId:t,parentID:q})}):d.bX?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(v,{...G,onClickPopUpSlider:V,parentID:q})}):"";case 57:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(T,{...G})});case 58:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(U,{...G})});case 60:case 56:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(D,{...G,onClickPopUpSlider:V,parentID:q})});case 63:return r?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(L,{...G,onClickPopUpSlider:V,parentID:q})}):null;case 64:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(W,{cardNumber:h,...G,onClickPopUpSlider:V,parentID:q})});case 65:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(N,{...G,onClickPopUpSlider:V,parentID:q,cardNumber:h,postSizeInPx:O})});case 78:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(_,{...G,onClickPopUpSlider:V,parentID:q})});case 66:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(M,{...G,onClickPopUpSlider:V,parentID:q})});case 67:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(E,{...G,onClickPopUpSlider:V,parentID:q,cardNumber:h,postSizeInPx:O})});case 68:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(R,{...G,onClickPopUpSlider:V,parentID:q,cardNumber:h,renderId:t,postSizeInPx:O})});case 69:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(H,{...G,onClickPopUpSlider:V,parentID:q})});case 74:case 76:case 77:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(X,{...G,onClickPopUpSlider:V,parentID:q})});case 70:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(Q,{...G,onClickPopUpSlider:V,parentID:q,renderId:t})});case 71:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:d.aL?(0,p.jsx)(F,{...G,postSizeInPx:O,onClickPopUpSlider:V,parentID:q}):(0,p.jsx)(A,{...G,onClickPopUpSlider:V,postSizeInPx:O,parentID:q})});case 73:return(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(Z,{...G,onClickPopUpSlider:V,parentID:q})});default:return(0,p.jsx)(p.Fragment,{})}}));class J extends a.PureComponent{constructor(e){super(e),this.heightUpdate=()=>{if(!d.aL){const e=e=>(document.querySelector(e)||{}).clientHeight||0,t=e(".tb_wall_header__"),n=window.editor?e("#kt_header"):0,a=e(".ti_container");this.setState({height:t+n+a})}},this.autoLoadEditorScrollData=e=>{const{wall:t,postData:n,loaderData:a}=this.props,s=t.ThemeRule.numberOfPosts;let l=document.getElementsByClassName("wall-editor");if(1==t.Personalization.autoScrollStatus&&O.includes(t.Personalization.widgetTheme)&&l.length>0){let e=l[0];if(document.body.scrollHeight+e.scrollTop>=e.scrollHeight-10&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(t.Wall.id,e,s,n.appendData.networkID,n.appendData.after,n.appendData.heightEvent)}}},this.autoLoadScrollData=e=>{const{wall:t,postData:n,loaderData:a}=this.props,s=t.ThemeRule.numberOfPosts,l=document.body,i=document.documentElement;if(1===t.Personalization.autoScrollStatus&&O.includes(t.Personalization.widgetTheme)){const e=Math.max(l.scrollHeight,l.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);if(window.innerHeight+window.pageYOffset>=parseInt(e)-parseInt(50)&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(t.Wall.id,e,s,n.appendData.networkID,n.appendData.after,n.appendData.heightEvent)}}},this.onResponsiveTheme=e=>{const{wall:t}=this.props;let{windowWidth:n}=this.state;n=2===e?n+165:n;let{adjustWidth:a,cardNumber:s}=(0,r.X8)(n,t);a=(100/n*a).toFixed(2),this.setState({adjustWidth:a,cardNumber:s,postSizeInPx:(0,r.X8)(n,t)},(()=>this.heightUpdate()))},this.onClickToShowPopup=(e,t)=>n=>{n.stopPropagation(),this.onLoadPopUp(e,t)},this.onClickPopUpSlider=(e,t)=>this.onLoadPopUp(e,t),this.onLoadPopUp=(e,t)=>{const{wall:n,languageSetting:a,postData:s}=this.props;if(d.P2&&!d.ZQ&&!d.ig&&(l.tq&&!n.Personalization.mobilePopup||d.ZQ&&n.Personalization.mobilePopup&&""!==t.link)){if("undefined"==t.link)return!1;window.open(t.link,"_blank")}else{let l=s.postData.map((e=>s.completeDataObject[e])).filter((e=>!String(e.id).includes("free_add_"))),i=(0,r.E6)(l,t.id,e);if(2===n.Personalization.postFeatured||d.ZQ&&1==n.Personalization.mobilePopup){if("undefined"==t.link||""==t.link)return!1;window.open(t.link,"_blank")}else 3===n.Personalization.postFeatured?window.open(n.Personalization.customUrl,"_blank"):1===n.Personalization.postFeatured&&this.props.showPopUP({type:"post",card:t,idArray:l,index:i,viewOnText:a.viewOnText,shareText:a.shareText,personalization:n.Personalization,imgData:r.CC,ThemeRule:n.ThemeRule,wall:n})}const i={feed:t.feedId,post:t.referenceId?t.referenceId:t.id},p={wallId:n.Wall.id,userId:n.Wall.owner,feedId:t.feedId,postId:t.id},c={action:2,wall:n.Wall.id,feed:t.feedId,post:t.referenceId?t.referenceId:t.id,type:3,owner:n.Wall.owner};(0,o.S5)(d.ZQ?p:d.nX?c:{action:2,wall:n.Wall.id,...i,owner:n.Wall.owner}),(0,o.Fv)("Tagbox","popupclick_","popup",t.link)},this.loadPopUpWithTimer=()=>{const{currentIndex:e}=this.state,{postData:{postData:t,completeDataObject:n},wall:{ThemeRule:{timeForPopup:a}}}=this.props,s=0===a?5e3:1e3*a;let l=e+1;if(l>=t.length&&(l=0),!isNaN(l)&&t.length>0){const e=t.map((e=>n[e]));this.setState({currentIndex:l}),this.togglePopUpVisibility(l,e[l],s)}},this.togglePopUpVisibility=(e,t,n)=>{this.onLoadPopUp(e,t),setTimeout((()=>{this.props.closePopUP(),setTimeout((()=>{this.loadPopUpWithTimer()}),n)}),n)},this.onClickToCTA=e=>{const{wall:t}=this.props;d.ZQ||(0,o.S5)({action:2,wall:t.Wall.id,type:1,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:t.Wall.owner}),(0,o.Fv)("Tagbox","ctaClick","cta",e.cta&&e.cta.url?e.cta.url:"")},this.autoScroll=()=>{const e=this.scrollRef.current;e&&(e.scrollTop<e.scrollHeight-e.clientHeight?e.scrollTop+=.5:e.scrollTop=0)},this.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,adjustWidth:0,cardNumber:0,postSizeInPx:0,isLoaded:!1,currentIndex:-1,height:0},this.scrollRef=a.createRef()}componentWillMount(){const{renderId:e}=this.props.renderId;this.setState({windowWidth:e&&document.getElementById(e)?document.getElementById(e).clientWidth:window.innerWidth})}componentWillUnmount(){clearInterval(this.scrollInterval)}componentDidMount(){const{wall:e}=this.props,{renderId:t}=this.props.renderId;if(this.onResponsiveTheme(),d.bX&&!d.P2&&!window.location.href.includes("onsite-upload")){const{wall:{ThemeRule:{timeForPopup:e},Personalization:t}}=this.props,n=0===e?5e3:1e3*e;1==t.postFeatured&&setTimeout((()=>this.loadPopUpWithTimer()),n)}if(window.addEventListener&&window.addEventListener("resize",(()=>{this.setState({windowWidth:t?document.getElementById(t).clientWidth:window.innerWidth,windowHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),window.editor){let e=document.getElementsByClassName("wall-editor");e.length>0&&e[0].addEventListener("scroll",this.autoLoadEditorScrollData)}else window.addEventListener&&window.addEventListener("scroll",this.autoLoadScrollData);setTimeout((()=>{this.setState({isLoaded:!0})}),1e3),d.ig&&!d.Jc&&d.bX&&(0,r.ad)(),this.scrollInterval=setInterval(this.autoScroll,(e.Personalization.scrollDelay/5).toFixed(1))}componentWillReceiveProps(e){e!=this.props&&d.Jc&&this.onResponsiveTheme()}render(){var e,t;const{wall:n,languageSetting:s,postData:l,containerSize:i,brandingNetworks:r,parentID:o}=this.props;window.onResponsiveTheme=this.onResponsiveTheme;const{isLoaded:u,height:m}=this.state,x=!d.ZQ||58!=n.Personalization.widgetTheme&&57!=n.Personalization.widgetTheme;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{ref:this.scrollRef,className:"tb_theme_container ".concat(d.aL?"":"tb_wall_container"),style:d.aL?null:{height:d.aL?"auto":"calc(100vh - ".concat(m,"px)")},children:[l.isFreeAdsStatus&&!d.ig&&x&&!d.bX?(0,p.jsxs)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[(0,p.jsx)(h,{containerSize:i,languageSetting:s,brandingNetworks:r,wallId:n.Wall.id,themeID:n.Personalization.widgetTheme})," "]}):null,(0,a.createElement)(q,{...this.props,...this.state,clickToShowPopUp:this.onClickToShowPopup,onClickToCTA:this.onClickToCTA,onClickPopUpSlider:this.onClickPopUpSlider,parentID:o,onLoadPopUp:this.onLoadPopUp,heightUpdate:this.heightUpdate,key:null===l||void 0===l||null===(e=l.postData)||void 0===e?void 0:e.length}),l.isFreeAdsStatus&&d.ig&&x?(0,p.jsxs)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[(0,p.jsx)(h,{containerSize:i,languageSetting:s,brandingNetworks:r,wallId:n.Wall.id,themeID:n.Personalization.widgetTheme})," "]}):null,d.aL&&u&&1===n.Personalization.loadMoreStatus&&V.includes(n.Personalization.widgetTheme)?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(c,{languageSetting:s,wall:n,appendData:l.appendData,postData:l,isBranding:!(!l.isFreeAdsStatus||!d.ig)})}):null,d.bX&&null!==n&&void 0!==n&&null!==(t=n.Personalization)&&void 0!==t&&t.interactive&&!d.P2?(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(B,{})}):null]})})}}const $=(0,s.$j)((e=>({loaderData:e.loaderData,renderId:e.renderId})),(e=>({showPopUP:t=>e((0,o.Bm)(t)),getDataNextSteps:(t,n,a,s,l,i,r)=>e((0,o.Sx)(t,n,a,s,l,i,r)),closePopUP:()=>e((0,o.zj)())})))(J)}}]);