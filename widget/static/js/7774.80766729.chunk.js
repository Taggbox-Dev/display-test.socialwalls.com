"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7774],{77774:(e,l,a)=>{a.r(l),a.d(l,{addScript:()=>U,default:()=>M,isEditor:()=>E,onLoad:()=>z});var n=a(47313),r=a(83773),t=a(95162),s=a(43411),o=a(98501),i=a(17739),d=a(35179),c=a(40475),p=a(92789),h=a.n(p),u=a(46417);const w=n.lazy((()=>a.e(4355).then(a.bind(a,44355)))),j=n.lazy((()=>a.e(3032).then(a.bind(a,53032)))),b=n.lazy((()=>Promise.all([a.e(182),a.e(5807)]).then(a.bind(a,75807)))),m=n.lazy((()=>a.e(9031).then(a.bind(a,9031)))),g=n.lazy((()=>a.e(8454).then(a.bind(a,28454)))),x=n.lazy((()=>Promise.all([a.e(6390),a.e(622),a.e(7529),a.e(6270),a.e(2198),a.e(6451)]).then(a.bind(a,417)))),k=n.lazy((()=>Promise.all([a.e(6390),a.e(7529),a.e(6270),a.e(7373),a.e(2198),a.e(2104)]).then(a.bind(a,52104)))),D=n.lazy((()=>a.e(339).then(a.bind(a,10339)))),f=n.lazy((()=>a.e(3607).then(a.bind(a,43607)))),S=n.lazy((()=>a.e(7029).then(a.bind(a,87029)))),y=n.lazy((()=>a.e(6105).then(a.bind(a,56105)))),F=n.lazy((()=>a.e(1174).then(a.bind(a,71174)))),v=n.lazy((()=>a.e(2579).then(a.bind(a,92579)))),P=n.lazy((()=>a.e(7958).then(a.bind(a,57958)))),U=e=>{const l=document.createElement("script");l.src=e,l.defer=!0,document.head.appendChild(l)},E=!!window.isEditor,z=()=>{window.jQuery||U("".concat(o.Mp,"/js/jquery.min.js?ver=1")),U("".concat(o.Mp,"/js/slackdown.js?ver=1"))},L=e=>{var l;return e.loader&&null!=e.loader.loader&&null==e.error.errorWithMessage&&(!e.error.planLimit||d.ig)&&(null==e.error.themeError||Object.keys(e.error.themeError).length>0&&0==e.error.themeError.error_code||1===(null===(l=e.wall)||void 0===l?void 0:l.Personalization.demoWall))?(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(w,{...e})}):!d.ig&&(e.error.errorWithMessage||e.error.planLimit||e.error.themeError)?(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(j,{...e})}):null},I=(0,r.componentWillAppendToBody)((e=>{let{children:l}=e;return l})),O=e=>{let{appData:l}=e;const a=!!(l.wall.UserDetail&&Object.keys(l.wall.UserDetail).length>0);let n=""!=l.webFilters&&l.webFilters?l.webFilters.map((e=>{let{networkId:l}=e;return l})):null;const r=!(!a||l.wall.UserDetail.planId.includes("53"))||!!(d.ZQ&&l.wall.refere&&Object.keys(l.wall.refere).length>0),t=d.ig&&l.wall.User.referePageLink?l.wall.User.referePageLink:d.ZQ?l.wall.refere.referePageLink:(0,i.$t)(n,l.wallID)[0],s=d.ig&&l.wall.User.referePage?l.wall.User.referePage:d.ZQ?l.wall.refere.referePage:(0,i.$t)(n,l.wallID)[1];return r?(0,u.jsx)("a",{href:t,target:"_blank",style:{display:"none"},"aria-label":s,children:s}):null};class C extends n.Component{constructor(){super(...arguments),this.state={errorData:null,render:""},this.onLoadEditor=()=>{if(d.Jc){const l=new BroadcastChannel("embedLivePreview");try{l.addEventListener("message",(e=>{const l=JSON.parse(null===e||void 0===e?void 0:e.data);console.warn("payload 1",l),this.setState({render:(0,t.Z)()});const{onUpdateEditor:a}=this.props;a(l)}))}catch(e){console.log("error",e)}}}}componentWillMount(){d.bX&&(h().init(),a.e(2389).then(a.bind(a,92389)))}componentDidMount(){setTimeout((()=>z()),200),this.onLoadEditor()}componentDidUpdate(e,l){var a,n,r;let t=null===(a=e.appData.wall)||void 0===a||null===(n=a.Personalization)||void 0===n?void 0:n.demoWall;var s;(null===(r=e.appData.error)||void 0===r?void 0:r.themeError)!==l.errorData&&(this.setState({errorData:null===(s=e.appData.error)||void 0===s?void 0:s.themeError}),"function"===typeof window.onSetErrorCode&&null!==this.state.errorData&&window.onSetErrorCode(this.state.errorData,t))}render(){var e;const{appData:l,modalPop:a}=this.props,{render:r}=this.state,t=!!(l&&l.wall&&Object.keys(l.wall).length>0&&l.wall.UserDetail&&Object.keys(l.wall.UserDetail).length>0);return(0,u.jsx)(u.Fragment,{children:!d.bX||window.location.href.includes("onsite-upload")||1!=l.isStudio||i.cy||E||window.location.href.includes("editor=1")?(0,u.jsxs)(u.Fragment,{children:[d.aL||window.location.href.includes("onsite-upload")?null:(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(v,{})}),l&&l.wall&&Object.keys(l.wall).length>0?(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(b,{wall:l.wall})}):null,a.onSiteIsShowPopUp?(0,u.jsxs)(I,{children:["  ",(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(m,{})})]}):null,d.bX&&!window.location.href.includes("onsite-upload")?(0,n.createElement)(L,{...l,key:r,keyRender:r}):null,t&&l.wall.UserDetail.planId.includes("53")&&!d.bX?(0,u.jsxs)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[(0,u.jsx)(f,{appData:l})," "]}):null,null!==l&&void 0!==l&&null!==(e=l.postData)&&void 0!==e&&e.isFreeAdsStatus?(0,u.jsxs)(I,{children:[(0,u.jsxs)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[(0,u.jsx)(S,{appData:l})," "]}),window.editor?"":(0,u.jsxs)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:[(0,u.jsx)(y,{appData:l})," "]})]}):null,a.isShowPopUp?d.ig&&(0,i.b)()?(0,u.jsxs)(I,{children:[" ",(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(k,{wall:l.wall,data:a.data,languageSetting:l.languageSetting,networkData:l.networkData,postData:l.postData,brandingNetworks:""!=l.webFilters&&l.webFilters?l.webFilters.map((e=>{let{networkId:l}=e;return l})):null})})," "]}):(0,u.jsxs)(I,{children:[" ",(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(x,{wall:l.wall,isShowPopUp:a.isShowPopUp,data:a.data,languageSetting:l.languageSetting,networkData:l.networkData,postData:l.postData,brandingNetworks:""!=l.webFilters&&l.webFilters?l.webFilters.map((e=>{let{networkId:l}=e;return l})):null},a.isShowPopUp)})," "]}):null,d.bX&&l.announcements?(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(P,{announcements:l.announcements})}):null,a.reportStatus&&d.P2?(0,u.jsxs)(I,{children:[" ",(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(D,{item:a.reportData,wall:l.wall})})," "]}):null,a.shareStatus&&d.P2?(0,u.jsxs)(I,{children:[" ",(0,u.jsx)(n.Suspense,{fallback:(0,u.jsx)(u.Fragment,{}),children:(0,u.jsx)(g,{postLink:a.shareData.link,userName:a.shareData.author.name})})," "]}):null,l&&l.wall&&Object.keys(l.wall).length>0&&d.P2?(0,u.jsx)(I,{children:(0,u.jsx)(O,{appData:l})}):null]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(F,{wallID:l.wallID})})})}}const M=(0,s.$j)((e=>({appData:e.appData,modalPop:e.modalPop})),(e=>({onUpdateEditor:l=>e((0,c.cD)(l))})))(C)}}]);