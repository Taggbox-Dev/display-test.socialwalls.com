"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8534],{18534:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Y});var a=t(47313),s=t(83773),l=t(43411),i=t(34862),r=t(98501),o=t(17739),d=t(43635),p=t(35179),c=t(46417);const h=a.lazy((()=>t.e(8257).then(t.bind(t,28257)))),u=a.lazy((()=>t.e(3779).then(t.bind(t,3779)))),m=a.lazy((()=>Promise.all([t.e(1395),t.e(628)]).then(t.bind(t,60628)))),x=a.lazy((()=>Promise.all([t.e(1395),t.e(616)]).then(t.bind(t,10616)))),g=a.lazy((()=>Promise.all([t.e(1395),t.e(6229)]).then(t.bind(t,36229)))),b=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(1395),t.e(4993)]).then(t.bind(t,18017)))),j=a.lazy((()=>t.e(10).then(t.bind(t,60010)))),P=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(8463)]).then(t.bind(t,95136)))),S=a.lazy((()=>Promise.all([t.e(6390),t.e(622),t.e(1395),t.e(5919)]).then(t.bind(t,12465)))),w=a.lazy((()=>Promise.all([t.e(1774),t.e(2090)]).then(t.bind(t,42090)))),k=a.lazy((()=>t.e(5598).then(t.bind(t,15598)))),I=a.lazy((()=>Promise.all([t.e(7529),t.e(6270),t.e(2879)]).then(t.bind(t,99154)))),f=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(7529),t.e(6270),t.e(9483)]).then(t.bind(t,81750)))),D=a.lazy((()=>Promise.all([t.e(1774),t.e(9731)]).then(t.bind(t,9731)))),z=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(1774),t.e(7261)]).then(t.bind(t,56094)))),y=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(1774),t.e(3409)]).then(t.bind(t,9159)))),F=a.lazy((()=>Promise.all([t.e(6390),t.e(622),t.e(1774),t.e(5111)]).then(t.bind(t,9105)))),T=a.lazy((()=>Promise.all([t.e(1774),t.e(3813)]).then(t.bind(t,73813)))),U=a.lazy((()=>t.e(441).then(t.bind(t,60441)))),C=a.lazy((()=>t.e(7970).then(t.bind(t,27970)))),v=a.lazy((()=>Promise.all([t.e(6390),t.e(622),t.e(1774),t.e(5881)]).then(t.bind(t,12785)))),W=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(1395),t.e(9573)]).then(t.bind(t,58889)))),N=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(1395),t.e(7241)]).then(t.bind(t,7092)))),L=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(1395),t.e(8572)]).then(t.bind(t,8572)))),_=a.lazy((()=>Promise.all([t.e(1395),t.e(4843)]).then(t.bind(t,24843)))),E=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(1395),t.e(452)]).then(t.bind(t,40038)))),M=a.lazy((()=>Promise.all([t.e(1774),t.e(1340)]).then(t.bind(t,1340)))),R=a.lazy((()=>t.e(2841).then(t.bind(t,12841)))),H=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(1395),t.e(7529),t.e(6270),t.e(2524)]).then(t.bind(t,34280)))),X=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(1395),t.e(7709)]).then(t.bind(t,50926)))),A=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(1774),t.e(1917)]).then(t.bind(t,5309)))),B=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(1774),t.e(460)]).then(t.bind(t,36282)))),O=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(6390),t.e(622),t.e(1774),t.e(3370)]).then(t.bind(t,18870)))),Q=a.lazy((()=>Promise.all([t.e(510),t.e(6119),t.e(7529),t.e(6270),t.e(8008)]).then(t.bind(t,93713)))),Z=a.lazy((()=>t.e(6167).then(t.bind(t,86167)))),J=(0,s.componentWillAppendToBody)((e=>{let{children:n}=e;return n})),V=p.ZQ?r.TQ:p.ig?r.K$:p.bX?r._X:r.oH,q=p.ZQ?r.z8:p.ig?r.EM:p.aL?r._X:r.rV,$=a.memo((e=>{let{renderId:n,wall:t,reviewFilters:s,webFilters:l,postData:i,adjustWidth:r,languageSetting:d,clickToShowPopUp:h,cardNumber:u,onClickToCTA:Z,postSizeInPx:J,onClickPopUpSlider:V,parentID:q,keyRender:$,containerSize:K,heightUpdate:Y}=e;const G=!i.hasMoreData[0]||0!=i.hasMoreData[0].hasMoreData&&(!i.hasMoreData[i.appendData.networkID]||i.hasMoreData[i.appendData.networkID].hasMoreData),ee={...i,reviewFilters:s,webFilters:l,hasMoreData:G,wall:t,adjustWidth:r,languageSetting:d,clickToShowPopUp:h,onClickToCTA:Z,onClickPopUpSlider:V,keyRender:$,containerSize:K,heightUpdate:Y};switch(t.Personalization.widgetTheme){case 20:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(b,{...ee})}):null;case 5:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(g,{...ee})}):null;case 3:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(x,{...ee})}):null;case 4:return r?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(j,{...ee,cardNumber:u,postSizeInPx:J})," "]}):null;case 19:case 59:case 83:return r?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(m,{...ee})," "]}):null;case 50:return p.ig?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(w,{...ee,cardNumber:u,renderId:n,postSizeInPx:J})}):(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(S,{...ee,cardNumber:u,renderId:n,postSizeInPx:J})});case 52:case 79:return p.ZQ||p.Jx&&(0,o.mD)(79)?r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(b,{...ee})}):null:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(z,{...ee})});case 16:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(F,{...ee,postSizeInPx:J,onClickPopUpSlider:V,parentID:q})});case 55:case 81:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(D,{...ee,cardNumber:parseInt(u),onClickPopUpSlider:V,parentID:q})});case 49:case 53:case 85:return p.ig?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(k,{...ee,cardNumber:u,renderId:n,postSizeInPx:J})}):(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(P,{...ee})});case 47:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(T,{...ee,cardNumber:u,onClickPopUpSlider:V,renderId:n,parentID:q})});case 54:case 80:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(v,{...ee,onClickPopUpSlider:V,renderId:n,parentID:q})});case 6:case 61:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(I,{...ee,onClickPopUpSlider:V,renderId:n,parentID:q})});case 62:return p.ig?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(f,{...ee,cardNumber:u,onClickPopUpSlider:V,renderId:n,parentID:q})}):p.bX?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(W,{...ee,onClickPopUpSlider:V,parentID:q})}):"";case 57:case 84:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(U,{...ee})});case 58:case 82:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(C,{...ee})});case 60:case 56:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(y,{...ee,onClickPopUpSlider:V,parentID:q})});case 63:return r?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(L,{...ee,onClickPopUpSlider:V,parentID:q})}):null;case 64:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(N,{cardNumber:u,...ee,onClickPopUpSlider:V,parentID:q})});case 65:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(_,{...ee,onClickPopUpSlider:V,parentID:q,cardNumber:u,postSizeInPx:J})});case 78:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(E,{...ee,onClickPopUpSlider:V,parentID:q})});case 66:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(X,{...ee,onClickPopUpSlider:V,parentID:q})});case 67:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(R,{...ee,onClickPopUpSlider:V,parentID:q,cardNumber:u,postSizeInPx:J})});case 68:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(M,{...ee,onClickPopUpSlider:V,parentID:q,cardNumber:u,renderId:n,postSizeInPx:J})});case 69:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(H,{...ee,onClickPopUpSlider:V,parentID:q})});case 74:case 76:case 77:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(A,{...ee,onClickPopUpSlider:V,parentID:q})});case 70:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(B,{...ee,onClickPopUpSlider:V,parentID:q,renderId:n})});case 71:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:p.aL?(0,c.jsx)(F,{...ee,postSizeInPx:J,onClickPopUpSlider:V,parentID:q}):(0,c.jsx)(O,{...ee,onClickPopUpSlider:V,postSizeInPx:J,parentID:q})});case 73:return(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(Q,{...ee,onClickPopUpSlider:V,parentID:q})});default:return(0,c.jsx)(c.Fragment,{})}}));class K extends a.PureComponent{constructor(){super(...arguments),this.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,adjustWidth:0,cardNumber:0,postSizeInPx:0,isLoaded:!1,currentIndex:-1,height:0},this.heightUpdate=()=>{if(!p.aL){const e=e=>(document.querySelector(e)||{}).clientHeight||0,n=e(".tb_wall_header__"),t=window.editor?e("#kt_header"):0,a=e(".ti_container");this.setState({height:n+t+a})}},this.autoLoadEditorScrollData=e=>{const{wall:n,postData:t,loaderData:a}=this.props,s=n.ThemeRule.numberOfPosts;let l=document.getElementsByClassName("wall-editor");if(1==n.Personalization.autoScrollStatus&&V.includes(n.Personalization.widgetTheme)&&l.length>0){let e=l[0];if(document.body.scrollHeight+e.scrollTop>=e.scrollHeight-10&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,t.appendData.networkID,t.appendData.after,t.appendData.heightEvent)}}},this.autoLoadScrollData=e=>{const{wall:n,postData:t,loaderData:a}=this.props,s=n.ThemeRule.numberOfPosts,l=document.body,i=document.documentElement;if(1===n.Personalization.autoScrollStatus&&V.includes(n.Personalization.widgetTheme)){const e=Math.max(l.scrollHeight,l.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);if(window.innerHeight+window.pageYOffset>=parseInt(e)-parseInt(50)&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,t.appendData.networkID,t.appendData.after,t.appendData.heightEvent)}}},this.onResponsiveTheme=e=>{const{wall:n}=this.props;let{windowWidth:t}=this.state;t=2===e?t+165:t;let{adjustWidth:a,cardNumber:s}=(0,o.X8)(t,n);a=(100/t*a).toFixed(2),this.setState({adjustWidth:a,cardNumber:s,postSizeInPx:(0,o.X8)(t,n)},(()=>this.heightUpdate()))},this.onClickToShowPopup=(e,n)=>t=>{t.stopPropagation(),this.onLoadPopUp(e,n)},this.onClickPopUpSlider=(e,n)=>this.onLoadPopUp(e,n),this.onLoadPopUp=(e,n)=>{var t;const{wall:a,languageSetting:s,postData:l}=this.props,r="tagembed"==(null===a||void 0===a||null===(t=a.User)||void 0===t?void 0:t.userDatabaseType);if(r||p.ig||!(i.tq&&!a.Personalization.mobilePopup||r&&a.Personalization.mobilePopup&&""!==n.link)){let t=l.postData.map((e=>l.completeDataObject[e])).filter((e=>!String(e.id).includes("free_add_"))),i=(0,o.E6)(t,n.id,e);if(2===a.Personalization.postFeatured){if("undefined"==n.link||""==n.link)return!1;window.open(n.link,"_blank")}else 3===a.Personalization.postFeatured?window.open(a.Personalization.customUrl,"_blank"):1===a.Personalization.postFeatured&&this.props.showPopUP({type:"post",card:n,idArray:t,index:i,viewOnText:s.viewOnText,shareText:s.shareText,personalization:a.Personalization,imgData:o.CC,ThemeRule:a.ThemeRule,wall:a})}else{if("undefined"==n.link)return!1;window.open(n.link,"_blank")}const c={feed:n.feedId,post:n.referenceId?n.referenceId:n.id},h={wallId:a.Wall.id,userId:a.Wall.owner,feedId:n.feedId,postId:n.id},u={action:2,wall:a.Wall.id,feed:n.feedId,post:n.referenceId?n.referenceId:n.id,type:3,owner:a.Wall.owner};(0,d.S5)(p.ZQ?h:p.nX?u:{action:2,wall:a.Wall.id,...c,owner:a.Wall.owner}),(0,d.Fv)("Tagbox","popupclick_","popup",n.link)},this.loadPopUpWithTimer=()=>{const{currentIndex:e}=this.state,{postData:{postData:n,completeDataObject:t},wall:{ThemeRule:{timeForPopup:a}}}=this.props,s=0===a?5e3:1e3*a;let l=e+1;if(l>=n.length&&(l=0),!isNaN(l)&&n.length>0){const e=n.map((e=>t[e]));this.setState({currentIndex:l}),this.togglePopUpVisibility(l,e[l],s)}},this.togglePopUpVisibility=(e,n,t)=>{this.onLoadPopUp(e,n),setTimeout((()=>{this.props.closePopUP(),setTimeout((()=>{this.loadPopUpWithTimer()}),t)}),t)},this.onClickToCTA=e=>{const{wall:n}=this.props;p.ZQ||(0,d.S5)({action:2,wall:n.Wall.id,type:1,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:n.Wall.owner}),(0,d.Fv)("Tagbox","ctaClick","cta",e.cta&&e.cta.url?e.cta.url:"")}}componentWillMount(){const{renderId:e}=this.props.renderId;this.setState({windowWidth:e&&document.getElementById(e)?document.getElementById(e).clientWidth:window.innerWidth})}componentDidMount(){const{renderId:e}=this.props.renderId;if(this.onResponsiveTheme(),p.bX&&!p.P2&&!window.location.href.includes("onsite-upload")){const{wall:{ThemeRule:{timeForPopup:e},Personalization:n}}=this.props,t=0===e?5e3:1e3*e;1==n.postFeatured&&setTimeout((()=>this.loadPopUpWithTimer()),t)}if(window.addEventListener&&window.addEventListener("resize",(()=>{var n;this.setState({windowWidth:e&&document.getElementById(e)?null===(n=document.getElementById(e))||void 0===n?void 0:n.clientWidth:window.innerWidth,windowHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),window.editor){let e=document.getElementsByClassName("wall-editor");e.length>0&&e[0].addEventListener("scroll",this.autoLoadEditorScrollData)}else window.addEventListener&&window.addEventListener("scroll",this.autoLoadScrollData);setTimeout((()=>{this.setState({isLoaded:!0})}),1e3),p.ig&&!p.Jc&&p.bX&&(0,o.ad)()}componentWillReceiveProps(e){e!=this.props&&p.Jc&&this.onResponsiveTheme()}render(){var e,n,t,s;const{wall:l,languageSetting:i,postData:r,containerSize:o,brandingNetworks:d,parentID:m}=this.props;window.onResponsiveTheme=this.onResponsiveTheme;const{isLoaded:x,height:g}=this.state,b=!p.ZQ||58!=l.Personalization.widgetTheme&&57!=l.Personalization.widgetTheme;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"tb_theme_container ".concat(p.bX&&!p.aL?"tb_wall_container":""),style:{height:p.bX&&!p.aL?"calc(100vh - ".concat(g,"px)"):null},children:[r.isFreeAdsStatus&&!p.ig&&b&&!p.bX&&(null===r||void 0===r||null===(e=r.completeData)||void 0===e?void 0:e.length)>0?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(u,{containerSize:o,languageSetting:i,brandingNetworks:d,wallId:l.Wall.id,themeID:l.Personalization.widgetTheme,user:l.User.userDatabaseType})," "]}):null,(0,c.jsx)($,{...this.props,...this.state,clickToShowPopUp:this.onClickToShowPopup,onClickToCTA:this.onClickToCTA,onClickPopUpSlider:this.onClickPopUpSlider,parentID:m,onLoadPopUp:this.onLoadPopUp,...p.bX&&{heightUpdate:this.heightUpdate,key:null===r||void 0===r||null===(n=r.postData)||void 0===n?void 0:n.length}}),r.isFreeAdsStatus&&p.ig&&b&&(null===r||void 0===r||null===(t=r.completeData)||void 0===t?void 0:t.length)>0?(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(u,{containerSize:o,languageSetting:i,brandingNetworks:d,wallId:l.Wall.id,themeID:l.Personalization.widgetTheme})," "]}):null,x&&1===l.Personalization.loadMoreStatus&&q.includes(l.Personalization.widgetTheme)?(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(h,{languageSetting:i,wall:l,appendData:r.appendData,postData:r,isBranding:!(!r.isFreeAdsStatus||!p.ig)})}):null,p.bX&&null!==l&&void 0!==l&&null!==(s=l.Personalization)&&void 0!==s&&s.interactive&&!p.P2?(0,c.jsx)(J,{children:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(Z,{})})}):null]})})}}const Y=(0,l.$j)((e=>({loaderData:e.loaderData,renderId:e.renderId})),(e=>({showPopUP:n=>e((0,d.Bm)(n)),getDataNextSteps:(n,t,a,s,l,i,r)=>e((0,d.Sx)(n,t,a,s,l,i,r)),closePopUP:()=>e((0,d.zj)())})))(K)}}]);