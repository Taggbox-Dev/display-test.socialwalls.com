"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4355],{44355:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(47313),i=n(43635),s=n(43411),r=n(17739),l=n(98501),o=n(35179),c=n(51500),d=n(46417);const g=a.lazy((()=>n.e(7535).then(n.bind(n,37535)))),u=a.lazy((()=>n.e(6429).then(n.bind(n,16429)))),h=a.lazy((()=>n.e(1027).then(n.bind(n,21027)))),p=a.lazy((()=>n.e(1819).then(n.bind(n,61819)))),m=a.lazy((()=>n.e(8534).then(n.bind(n,18534)))),b=a.lazy((()=>Promise.all([n.e(7914),n.e(589)]).then(n.bind(n,66538))));class k extends a.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.onLoadSpotLight=()=>{if(o.bX&&!o.P2){const{postData:t}=this.props;if(t.completeDataObject&&Object.keys(t.completeDataObject).length>0){var e=null;Object.entries(t.completeDataObject).forEach((t=>{let[n,a]=t;1==(null===a||void 0===a?void 0:a.highlight)&&null==e&&(e=a)})),e&&Object.keys(e).length>0&&(0,c.Gh)(e)}}},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef()}componentDidMount(){(0,r.gz)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}}),this.onLoadSpotLight()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){var e;let t=document.querySelector(".tb_app_container"),n=r.b8?r.b8:null===t||void 0===t||null===(e=t.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:n})}render(){var e,t,n,i,s,c,k,f;const{wall:j,reviewFilters:v,webFilters:S,postData:B,languageSetting:w,filter_tags:x,spotlight:z}=this.props,_=!!(j.Banner&&Object.keys(j.Banner).length>0&&(1===j.Banner.status&&1===j.Banner.banner_position||1===j.BannerImage.status||"1"===j.Banner.banner_position)),D=!!(j.Banner&&Object.keys(j.Banner).length>0&&(1===j.Banner.status&&2===j.Banner.banner_position||"2"===j.Banner.banner_position)),I=o.ZQ?![55,60,16,47,57].includes(j.Personalization.widgetTheme):![55,52,60,16,47,57,61].includes(j.Personalization.widgetTheme),y=!!(!o.bX&&j.Banner&&Object.keys(j.Banner).length>0&&1===j.Banner.status&&6==j.Banner.bannerType&&0===j.Personalization.filterStatus&&57!=j.Personalization.widgetTheme),T=o.ZQ?1===j.Personalization.filterStatus:!!(S&&S.length>1),P=!!(x&&x.length>0),R=!(!o.bX||!z.status);let C=""!=S&&S&&S.length>0?S.map((e=>{let{Network:t}=e;return t.id})):null;!o.ig&&null!==j&&void 0!==j&&null!==(e=j.Background)&&void 0!==e&&e.image&&j.Background.image.includes(l.ho)&&(j.Background.image=String(j.Background.image).replace(l.lO,""));const F=0===(null===j||void 0===j||null===(t=j.Background)||void 0===t?void 0:t.transparent)||null!==j&&void 0!==j&&null!==(n=j.Background)&&void 0!==n&&n.image&&o.ZQ?{backgroundImage:null!==j&&void 0!==j&&null!==(i=j.Background)&&void 0!==i&&i.image?"url(".concat(j.Background.image,")"):"",backgroundColor:null===j||void 0===j||null===(s=j.Background)||void 0===s?void 0:s.color}:null;return(0,d.jsxs)("div",{className:"tb_app_container ".concat(R?"tb_spotlight_ac":""),style:{minHeight:o.P2?[47,16,49,55,60,52].includes(j.Personalization.widgetTheme)?"100%":"".concat(this.props.postHeight,"px"):null},ref:this.containerRef,children:[o.bX&&!o.aL&&1===(null===(c=j.CustomTicker)||void 0===c?void 0:c.status)&&1==j.CustomTicker.ticker_position?(0,d.jsx)(h,{CustomTicker:j.CustomTicker,UgcSettings:j.UgcSettings}):null,_&&!R?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(g,{Banner:j.Banner,BannerImage:j.BannerImage,LogoImage:j.LogoImage})]}):"",(0,d.jsxs)("div",{className:"tb_app_wrapper",style:F,children:[y&&_?(0,d.jsx)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(u,{reviewFilters:v,appendData:B.appendData,wall:j,languageSetting:w,postData:B})}):null,null!==j&&void 0!==j&&null!==(k=j.UserRule)&&void 0!==k&&k.on_site_upload&&j.UgcSettings.onsite_status||o.nX&&j.UgcSettings.onsite_status&&(o.Jx||o.ig&&!(0,r.mD)(50))?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(b,{UgcSettings:j.UgcSettings,id:j.Wall.id,tagShopWallId:j.Wall.wallId})," "]}):null,!o.bX&&I&&(T||P)?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(p,{type:j.Personalization.filter_type,webFilters:S,filter_tags:x,appendData:B.appendData,wall:j,languageSetting:w,postData:B})]}):"",R?null:(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(m,{...this.props,brandingNetworks:C,containerSize:this.state.containerSize,parentID:this.state.parentID})]}),y&&D?(0,d.jsx)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(u,{reviewFilters:v,appendData:B.appendData,wall:j,languageSetting:w,postData:B})}):null]}),D&&!R?(0,d.jsxs)(a.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(g,{Banner:j.Banner,BannerImage:j.BannerImage,LogoImage:j.LogoImage})]}):"",o.bX&&!o.aL&&1===(null===(f=j.CustomTicker)||void 0===f?void 0:f.status)&&2==j.CustomTicker.ticker_position?(0,d.jsx)(h,{CustomTicker:j.CustomTicker,UgcSettings:j.UgcSettings}):null]})}}const f=(0,s.$j)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId}}return{renderId:e.renderId}}),(e=>({managePostHeight:t=>e((0,i.B0)(t))})))(k)}}]);