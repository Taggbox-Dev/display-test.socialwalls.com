"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[6659],{778:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(66345),a=r(80415),l=r(44414);const s=e=>{var t;let{isLink:r,wall:s}=e;const n="tagembed"==(null===s||void 0===s||null===(t=s.User)||void 0===t?void 0:t.userDatabaseType)||a.fZ,i=n?"tagembed.svg":o.HY?"tagshop.svg":o.aD?"socialwalls.svg":"tagbox-widget.svg";return(0,l.jsx)("div",{className:"tb_error_page_logo",children:(0,l.jsx)("a",{href:r||`${n?"https://tagembed.com/":a.iP}`,target:"_blank",className:"tb_error_page_logo_ico",style:{backgroundImage:`url(${a.th}/media/logo/${i})`},children:" "})})}},56659:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var o=r(778),a=r(88740),l=r(66345),s=r(76506),n=r(44414);const i=e=>{var t,r;let{editor:o,error_code:a,error:i}=e;return(0,n.jsx)("div",{className:"tb_error_page_actions",children:(0,n.jsx)("div",{className:"tb_error_action_list",children:l.aD?o&&(null===i||void 0===i||null===(t=i.button)||void 0===t||null===(r=t.text)||void 0===r?void 0:r.split(",").map(((e,t)=>(0,n.jsx)("button",{onClick:()=>(0,s.um)(e.replace(/\s+/g,"")),className:"tb_error_btn_primary",style:{marginLeft:0!==t?"10px":"0px"},children:e.trim()},t)))):o||l.bU?207===a||213===a?(0,n.jsx)("button",{onClick:()=>(0,s.um)(5),className:"tb_error_btn_primary",children:207===a?"Moderation":"Update Now"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>(0,s.um)(2),className:"tb_error_btn_primary",style:{marginRight:"10px"},children:"Add Another Feed"}),(0,n.jsx)("button",{onClick:()=>(0,s.um)(1),className:"loadDemoWall tb_error_btn_secondary",children:"Show Demo Posts"})]}):(0,n.jsx)("a",{href:l.Io,target:"_blank",className:"tb_error_btn_primary",children:"Add Another Feed"})})})},d=e=>{let{title:t,description:r,error_code:l,wall:s,error:d}=e,c=!!window.editor||(window.location.pathname.includes("/editor")||window.location.href.includes("editor=true"));return(0,n.jsxs)("div",{className:"tb_error_page_wrapper",children:[(0,n.jsxs)("div",{className:"tb_error_content",children:[(0,n.jsx)("div",{className:"tb_error_title",children:t}),(0,n.jsx)("div",{className:"tb_error_des",children:(0,a.Ay)(r)}),(0,n.jsx)(i,{editor:c,wall:s,error_code:l,error:d})]}),c?null:(0,n.jsx)(o.A,{wall:s})]})}},76506:(e,t,r)=>{r.d(t,{C9:()=>g,Cq:()=>b,HI:()=>m,Ph:()=>x,TW:()=>j,Uy:()=>c,fF:()=>w,hZ:()=>_,hz:()=>u,p5:()=>f,pj:()=>y,sl:()=>v,um:()=>h,wG:()=>p});var o=r(66345),a=r(80415),l=r(296),s=r(86961);let n=[],i=!1;const d=new Headers({"Content-Type":"application/json",Authorization:`Bearer ${o.$x}`,Productdomain:o.QR}),c=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},h=e=>{var t;if(o.aD)return window.parent.postMessage(e,"*");const r={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=r[e])||void 0===t||t.call(r)},m=e=>{try{n.push(e)}catch(t){console.log(t)}},u=e=>e&&""!==e&&!e.includes("ui-avatars"),b=e=>{if(!e)return"0 Byte";const t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},g=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,w=e=>{const t=Date.now()-1e3*e;if(t<6e4)return"just now";const r=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((e=>{let{ms:r}=e;return t>=r})),o=Math.floor(t/r.ms);return`${o} ${r.label}${o>1?"s":""} ago`},_=()=>[`${a.om}`,"Website Widget"],p=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",v=(["localhost","widget","wall_id="].every((e=>(0,o.vq)(e)))||(o.MH||[`${o.Xg}.${o.IF}`,`${o.Xg}${o.t6}${o.IF}`,`${o.Xg}s.${o.IF}`].some((e=>(0,o.vq)(e)))||o.HY),e=>{const t=Math.floor(Math.log10(e)/3)||0;return t?+(e/Math.pow(1e3,t)).toFixed(0)+["","K","M","B","T"][t]:e}),x=e=>o.MH?e:atob(e),f=(e,t,r)=>e&&e.length>0?e.findIndex((e=>e.id===t)):r,y=()=>{try{const{wall:e}=l.A.getState().appData,{webId:t,wallId:r,ownerId:a}=e.ThemeInfo;i||(window.addEventListener("beforeunload",(()=>{if(0===n.length)return;const e=n.reduce(((e,t)=>e+t),0);e>0?fetch(o.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==s.Ex&&void 0!==s.Ex&&s.Ex.includes("website")?"website":"wall",playCount:n.length,wall:o.HY?t:r,playTime:e,owner:a}),keepalive:!0}).finally((()=>(n=[],i=!1))):(n=[],i=!1)})),i=!0)}catch(e){console.error(e)}},j=e=>new Promise(((t,r)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>r(new Error(`Image loading error: ${e.message}`)),src:e})))}}]);