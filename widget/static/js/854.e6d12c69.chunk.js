"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[854],{20854:(e,a,l)=>{l.r(a),l.d(a,{addScript:()=>I,default:()=>C,isEditor:()=>L,onLoad:()=>A});var t=l(89379),n=l(9950),s=l(73068),r=l(15255),o=l(73878),i=l(80415),d=l(52867),h=l(66345),p=l(14478),c=l(87988),u=l.n(c),w=l(44414);const j=n.lazy((()=>l.e(8689).then(l.bind(l,88689)))),m=n.lazy((()=>l.e(5505).then(l.bind(l,25505)))),g=n.lazy((()=>Promise.all([l.e(2772),l.e(4674)]).then(l.bind(l,84674)))),x=n.lazy((()=>l.e(9468).then(l.bind(l,69468)))),b=n.lazy((()=>l.e(2665).then(l.bind(l,92665)))),D=n.lazy((()=>Promise.all([l.e(804),l.e(8615),l.e(8940),l.e(1209),l.e(3464),l.e(2433)]).then(l.bind(l,13147)))),f=n.lazy((()=>Promise.all([l.e(804),l.e(8940),l.e(1209),l.e(8389),l.e(3464),l.e(4877)]).then(l.bind(l,64877)))),k=n.lazy((()=>l.e(9563).then(l.bind(l,79563)))),S=n.lazy((()=>l.e(495).then(l.bind(l,20495)))),y=n.lazy((()=>l.e(5600).then(l.bind(l,5600)))),F=n.lazy((()=>l.e(8813).then(l.bind(l,88813)))),v=n.lazy((()=>l.e(2833).then(l.bind(l,82833)))),U=n.lazy((()=>l.e(2902).then(l.bind(l,82902)))),P=n.lazy((()=>l.e(5002).then(l.bind(l,85002)))),E=n.lazy((()=>Promise.all([l.e(8092),l.e(804),l.e(8615),l.e(6002),l.e(8370)]).then(l.bind(l,66937)))),z=n.lazy((()=>l.e(8768).then(l.bind(l,48768)))),I=e=>{const a=document.createElement("script");a.src=e,a.defer=!0,document.head.appendChild(a)},L=!!window.isEditor,A=()=>{window.jQuery||I("".concat(i.M$,"/js/jquery.min.js?ver=1")),I("".concat(i.M$,"/js/slackdown.js?ver=1"))},M=e=>!e.loader||null==e.loader.loader||null!=e.error.errorWithMessage||e.error.planLimit&&!h.HY?!h.HY&&(e.error.errorWithMessage||e.error.planLimit||e.error.themeError)?(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(m,(0,t.A)({},e))}):null:(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(j,(0,t.A)({},e))}),W=(0,s.componentWillAppendToBody)((e=>{let{children:a}=e;return a})),O=e=>{let{appData:a}=e;const l=!!(a.wall.UserDetail&&Object.keys(a.wall.UserDetail).length>0);let t=""!=a.webFilters&&a.webFilters?a.webFilters.map((e=>{let{networkId:a}=e;return a})):null;const n=!(!l||a.wall.UserDetail.planId.includes("53"))||!!(h.uS&&a.wall.refere&&Object.keys(a.wall.refere).length>0),s=h.HY&&a.wall.User.referePageLink?a.wall.User.referePageLink:h.uS?a.wall.refere.referePageLink:(0,d.hZ)(t,a.wallID)[0],r=h.HY&&a.wall.User.referePage?a.wall.User.referePage:h.uS?a.wall.refere.referePage:(0,d.hZ)(t,a.wallID)[1];return n?(0,w.jsx)("a",{href:s,target:"_blank",style:{display:"none"},"aria-label":r,children:r}):null};class R extends n.Component{constructor(){super(...arguments),this.state={errorData:null,render:""},this.onLoadEditor=()=>{if(h.IU)try{window.addEventListener("message",this.handleMessage)}catch(e){console.log("error",e)}else window.location.href.includes("addfeedload=load")&&window.addEventListener("message",this.addFeedReloadTheme)},this.handleMessage=e=>{const{type:a,data:l}=e.data;if("reloadWebsite"==a){const e=JSON.parse(l);console.warn("payload 1",e),this.setState({render:(0,r.A)()});const{onUpdateEditor:a}=this.props;a(e)}},this.addFeedReloadTheme=e=>{const{type:a,data:l}=e.data;if("reloadTheme"==a){const{onUpdateEditor:e}=this.props;e(l)}}}componentWillMount(){h.aD&&(u().init(),l.e(7556).then(l.bind(l,67556)))}componentDidMount(){setTimeout((()=>A()),200),this.onLoadEditor()}componentDidUpdate(e,a){var l,t,n;let s=null===(l=e.appData.wall)||void 0===l||null===(t=l.Personalization)||void 0===t?void 0:t.demoWall;var r;(null===(n=e.appData.error)||void 0===n?void 0:n.themeError)!==a.errorData&&(this.setState({errorData:null===(r=e.appData.error)||void 0===r?void 0:r.themeError}),"function"===typeof window.onSetErrorCode&&null!==this.state.errorData&&window.onSetErrorCode(this.state.errorData,s))}componentWillUnmount(){h.IU?window.removeEventListener("message",this.handleMessage):window.location.href.includes("addfeedload=load")&&window.removeEventListener("message",this.addFeedReloadTheme)}render(){var e,a,l;const{appData:s,modalPop:r,spotlight:o}=this.props,{render:i}=this.state,p=!!(s&&s.wall&&Object.keys(s.wall).length>0&&s.wall.UserDetail&&Object.keys(s.wall.UserDetail).length>0),c=!(!h.aD||!o.status);return(0,w.jsx)(w.Fragment,{children:!h.aD||window.location.href.includes("onsite-upload")||1!=s.isStudio||d.dm||L||window.location.href.includes("editor=1")?(0,w.jsxs)(w.Fragment,{children:[h.Vn?null:(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(U,{})}),s&&s.wall&&Object.keys(s.wall).length>0&&!window.location.href.includes("onsite-upload")?(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(g,{wall:s.wall})}):null,r.onSiteIsShowPopUp&&null!==s&&void 0!==s&&s.wall?(0,w.jsxs)(W,{children:["  ",(0,w.jsxs)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[" ",h.aD?(0,w.jsx)(z,{wall:null===s||void 0===s?void 0:s.wall,wallId:null===s||void 0===s||null===(e=s.wall)||void 0===e||null===(a=e.Wall)||void 0===a?void 0:a.id,feeds:null===s||void 0===s?void 0:s.feeds,isFreeAdsStatus:s.postData.isFreeAdsStatus}):(0,w.jsx)(x,{})," "]})," "]}):null,(0,n.createElement)(M,(0,t.A)((0,t.A)({},s),{},{key:i,keyRender:i,spotlight:o})),p&&s.wall.UserDetail.planId.includes("53")&&!h.aD?(0,w.jsxs)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[(0,w.jsx)(S,{appData:s})," "]}):null,null!==s&&void 0!==s&&null!==(l=s.postData)&&void 0!==l&&l.isFreeAdsStatus?(0,w.jsxs)(W,{children:[(0,w.jsxs)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[(0,w.jsx)(y,{appData:s})," "]}),window.location.href.includes("editor=1")?"":(0,w.jsxs)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[(0,w.jsx)(F,{appData:s})," "]})]}):null,!c&&r.isShowPopUp?h.HY&&(0,d.qs)()?(0,w.jsxs)(W,{children:[" ",(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(f,{wall:s.wall,data:r.data,languageSetting:s.languageSetting,networkData:s.networkData,postData:s.postData,brandingNetworks:""!=s.webFilters&&s.webFilters?s.webFilters.map((e=>{let{networkId:a}=e;return a})):null})})," "]}):(0,w.jsxs)(W,{children:[" ",(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(D,{wall:s.wall,isShowPopUp:r.isShowPopUp,data:r.data,languageSetting:s.languageSetting,networkData:s.networkData,postData:s.postData,brandingNetworks:""!=s.webFilters&&s.webFilters?s.webFilters.map((e=>{let{networkId:a}=e;return a})):null},r.isShowPopUp)})," "]}):null,h.aD&&!c&&s.announcements?(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(P,{announcements:s.announcements})}):null,r.reportStatus&&h.yR?(0,w.jsxs)(W,{children:[" ",(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(k,{item:r.reportData,wall:s.wall})})," "]}):null,r.shareStatus&&h.yR?(0,w.jsxs)(W,{children:[" ",(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(b,{postLink:r.shareData.link,userName:r.shareData.author.name})})," "]}):null,s&&s.wall&&Object.keys(s.wall).length>0&&h.yR?(0,w.jsx)(W,{children:(0,w.jsx)(O,{appData:s})}):null,c?(0,w.jsx)(n.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(E,{itemData:o.data,wall:s.wall})}):null]}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(v,{wallID:s.wallID})})})}}const C=(0,o.Ng)((e=>({appData:e.appData,modalPop:e.modalPop,spotlight:e.spotlight})),(e=>({onUpdateEditor:a=>e((0,p.qI)(a))})))(R)}}]);