"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8120,8728],{50741:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var s=i(9950),o=i(31208),n=i(17857),l=i(66345),r=i(78262),a=i(3720),c=i(15537),d=i(68120),h=i(44414);const p=e=>{let{Post:t,ThemeStyle:i,index:s,inView:o,wallID:n}=e;const p=!t.hotspot,u=!(![3,5].includes(t.type)||1!=i.autoPlay),m=!(!i.interactive||!l.Vn),S=l.aD&&l.Vn?1===i.autoPlay:l.aD;return(0,h.jsxs)("div",{className:"tb_px_media_wrap",children:[l.Vn?(0,h.jsx)(c.default,{Post:t,IconClass:"tb_px_media_icon",show:p,hideVideo:i.autoPlay}):null,u?(0,h.jsx)(a.A,{VideoClass:"tb_px_video",Post:t,size:!1,isCover:!0,controls:!1,autoPlay:S,muted:!0,observer:!0,index:s,inView:o}):(0,h.jsx)(r.A,{ImageClass:"tb_px_image",Post:t,size:!1,hotspot:!1,blurBG:l.HY,observer:!0,index:s,inView:o}),m?(0,h.jsx)(d.default,{Post:t,ThemeStyle:i,wallID:n,interactiveCount:i.interactiveCount}):null]})};var u=i(56071);const m=e=>{let{postSize:t,clickToShowPopUp:i,index:s,ThemeStyle:o,CardStyle:l,Post:r,ThemeInfo:a}=e;const c=1!==r.type;return(0,h.jsx)(u.A,{children:e=>{var d,u;let{ref:m,inView:S}=e;return(0,h.jsx)("div",{ref:m,style:{width:`${t}%`,padding:l.style.padding/2,opacity:S?1:0,transition:S?"opacity .5s ease-in-out":""},className:"tb_px_post_wrapper",role:"article","area-label":null===r||void 0===r||null===(d=r.content)||void 0===d?void 0:d.text,"post-id":r.referenceId?r.referenceId:r.id,"feed-id":r.feedId,children:(0,h.jsx)("div",{id:`tb_w_c_id-${r.id}`,"tb-network":r.networkId,"post-id":r.referenceId||r.id,"feed-id":r.feedId,tabIndex:"0","area-label":null===r||void 0===r||null===(u=r.content)||void 0===u?void 0:u.text,role:"article",children:(0,h.jsxs)("div",{className:"tb_px_post_in",onClick:i(s,r),role:"button","aria-label":"open detail modal for post",tabIndex:"0",children:[c?(0,h.jsx)(p,{Post:r,CardStyle:l,ThemeStyle:o,ThemeInfo:a,index:s,inView:S}):null,(0,h.jsx)("div",{className:"tb_px_contant_wrapper",children:(0,h.jsx)(n.A,{className:"tb_px",Post:r,CardStyle:l,ThemeStyle:o,mediaType:c,ThemeInfo:a,inView:S})})]})})})}})};var S=i(52867),v=i(81234);class x extends s.PureComponent{render(){const{postData:e,completeDataObject:t,CardStyle:i,ThemeStyle:s,ThemeInfo:n,clickToShowPopUp:l,onClickToCTA:r,onClickPopUpSlider:a,containerSize:c}=this.props,d=(i.minimumWidth||200)+20,p=(0,S.Ci)(c.width,s.column,d),u=(0,S.Cv)(c.width,p);return(0,h.jsx)(v.A,{...this.props,children:(0,h.jsx)(o.A,{className:"tb_px_post_container my-masonry-grid",breakpointCols:s.column.desktop?s.column.desktop:Math.floor(window.innerWidth/d),children:e&&e.length>0&&e.map(((e,o)=>{const c=t[e];return(0,h.jsx)(m,{postSize:u,clickToShowPopUp:l,onClickToCTA:r,onClickPopUpSlider:a,Post:c,index:o,CardStyle:i,ThemeStyle:s,ThemeInfo:n},o)}))})})}}const y=x},68120:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var s=i(9950),o=i(78213),n=(i(83658),i(44414));class l extends s.PureComponent{constructor(){super(...arguments),this.state={like:!1},this.onClickLike=e=>{e.stopPropagation(),this.setState((e=>({like:!e.like})),this.onLikeSave)},this.onLikeSave=()=>{const{Post:e,wallID:t,interactiveCount:i}=this.props,{like:s}=this.state,n=`intractivelike${t}`,l=JSON.parse(localStorage.getItem(n)||"[]");if(!s)return;const r={postId:e.id,action:"prepand",wallId:t};(0,o.lh)(r).then((()=>{const o=s?[...l,{count:i+1,cardId:e.id,wallID:t}]:l.filter((t=>t.cardId!==e.id));localStorage.setItem(n,JSON.stringify(o))})).catch((()=>{}))}}componentDidMount(){const{Post:e,wallID:t}=this.props;JSON.parse(localStorage.getItem(`intractivelike${t}`)||"[]").some((t=>t.cardId==e.id))&&this.setState({like:!0})}render(){const{like:e}=this.state,{Post:t,likeClass:i}=this.props;return(0,n.jsx)("div",{className:`tb_like_ico${e?" tb_animate":""} ${i}`,onClick:this.onClickLike,"data-postid":t.id,children:(0,n.jsx)("div",{className:"tb__icon tb-"+(e?"heart":"heart-outline"),children:(0,n.jsx)("div",{})})})}}const r=l},81234:(e,t,i)=>{i.d(t,{A:()=>r});var s=i(9950),o=i(66345),n=i(44414);class l extends s.Component{constructor(e){super(e),this.updateHeight=()=>{const e=document.querySelector(".tb_theme_container");e&&this.setState({containerHeight:e.clientHeight})},this.startScrolling=()=>{const e=Math.max(20,parseInt(this.props.ThemeStyle.scrollSpeed/5));this.scrollTimeout=setTimeout((()=>{this.setState({isScrollPaused:!1}),this.scrollInterval=setInterval(this.autoScroll,e)}),2e3)},this.autoScroll=()=>{const e=this.containerRef.current,{containerHeight:t,isScrollPaused:i}=this.state;if(!e||i||this.isScrolling)return;const s=e.scrollHeight-t-5;if(e.scrollTop<s)e.scrollTop+=1;else{this.isScrolling=!0;const t=e.querySelector(".tb_theme_wrapper")||e;t.style.opacity="0.5",t.style.transition="opacity 0.3s ease",this.scrollTimeout=setTimeout((()=>{e.scrollTop=0,t.style.opacity="1",t.style.transition="opacity 0.3s ease",this.scrollTimeout=setTimeout((()=>{t.style.transition="",this.isScrolling=!1}),800)}),2800)}},this.state={containerHeight:0,isScrollPaused:!1},this.containerRef=s.createRef(),this.isScrolling=!1,this.scrollInterval=null,this.scrollTimeout=null}componentDidMount(){o.Vn||(this.updateHeight(),this.startScrolling(),window.addEventListener("resize",this.updateHeight))}componentDidUpdate(e,t){0!==t.containerHeight||o.Vn||this.updateHeight()}componentWillUnmount(){o.Vn||(clearInterval(this.scrollInterval),clearTimeout(this.scrollTimeout),window.removeEventListener("resize",this.updateHeight))}render(){const{containerHeight:e}=this.state;return e||o.Vn?(0,n.jsx)("div",{className:!o.Vn&&"scrollable-theme",style:{height:e},ref:this.containerRef,children:this.props.children}):null}}const r=(0,s.memo)(l)},83658:()=>{}}]);