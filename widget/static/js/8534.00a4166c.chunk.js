"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8534],{18534:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ne});var a=t(47313),l=t(83773),i=t(43411),s=t(34862),o=t(98501),r=t(17739),d=t(43635),p=t(35179),c=t(16031),h=t.n(c),u=t(31172),m=t(46417);const x=a.lazy((()=>t.e(8257).then(t.bind(t,28257)))),g=a.lazy((()=>t.e(3779).then(t.bind(t,3779)))),w=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1395),t.e(752),t.e(2817)]).then(t.bind(t,16977)))),j=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(1395),t.e(752),t.e(5452)]).then(t.bind(t,29146)))),P=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1395),t.e(752),t.e(3765)]).then(t.bind(t,71325)))),S=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1395),t.e(752),t.e(4119)]).then(t.bind(t,18017)))),b=a.lazy((()=>t.e(271).then(t.bind(t,30271)))),k=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(752),t.e(1284)]).then(t.bind(t,95136)))),f=a.lazy((()=>Promise.all([t.e(6119),t.e(6390),t.e(622),t.e(1395),t.e(752),t.e(9856)]).then(t.bind(t,12465)))),I=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(1774),t.e(8581),t.e(7914),t.e(752),t.e(5960)]).then(t.bind(t,91744)))),z=a.lazy((()=>t.e(5598).then(t.bind(t,15598)))),D=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(7529),t.e(6270),t.e(752),t.e(117)]).then(t.bind(t,99154)))),T=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(7529),t.e(6270),t.e(9483)]).then(t.bind(t,81750)))),F=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(1774),t.e(8581),t.e(752),t.e(4240)]).then(t.bind(t,76254)))),y=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1774),t.e(7261)]).then(t.bind(t,56094)))),U=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(1774),t.e(3409)]).then(t.bind(t,9159)))),C=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1774),t.e(752),t.e(8030)]).then(t.bind(t,9105)))),v=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1774),t.e(752),t.e(5801)]).then(t.bind(t,94594)))),W=a.lazy((()=>t.e(441).then(t.bind(t,60441)))),L=a.lazy((()=>t.e(7970).then(t.bind(t,27970)))),N=a.lazy((()=>Promise.all([t.e(6390),t.e(622),t.e(1774),t.e(5881)]).then(t.bind(t,12785)))),_=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1395),t.e(752),t.e(3365)]).then(t.bind(t,58889)))),E=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1395),t.e(7241)]).then(t.bind(t,7092)))),R=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(1395),t.e(752),t.e(964)]).then(t.bind(t,8572)))),M=a.lazy((()=>Promise.all([t.e(1395),t.e(4843)]).then(t.bind(t,24843)))),H=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1395),t.e(752),t.e(2080)]).then(t.bind(t,40038)))),X=a.lazy((()=>Promise.all([t.e(1774),t.e(1340)]).then(t.bind(t,1340)))),A=a.lazy((()=>t.e(2841).then(t.bind(t,12841)))),Q=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(1395),t.e(7529),t.e(6270),t.e(752),t.e(7918)]).then(t.bind(t,34280)))),Z=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1395),t.e(7709)]).then(t.bind(t,50926)))),B=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1774),t.e(1917)]).then(t.bind(t,5309)))),O=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1774),t.e(752),t.e(2536)]).then(t.bind(t,36282)))),V=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(6390),t.e(622),t.e(1774),t.e(8581),t.e(752),t.e(7141)]).then(t.bind(t,18870)))),q=a.lazy((()=>Promise.all([t.e(6119),t.e(510),t.e(7529),t.e(6270),t.e(752),t.e(5950)]).then(t.bind(t,93713)))),J=a.lazy((()=>t.e(6167).then(t.bind(t,86167)))),$=(0,l.componentWillAppendToBody)((e=>{let{children:n}=e;return n})),K=p.ZQ?o.TQ:p.ig?o.K$:p.bX?o._X:o.oH,Y=p.ZQ?o.z8:p.ig?o.EM:p.aL?o._X:o.rV,G=a.memo((e=>{var n;let{renderId:t,wall:l,reviewFilters:i,webFilters:s,postData:o,adjustWidth:r,languageSetting:d,clickToShowPopUp:c,cardNumber:h,onClickToCTA:u,postSizeInPx:x,onClickPopUpSlider:g,parentID:J,keyRender:$,containerSize:K,heightUpdate:Y}=e;const G=!o.hasMoreData[0]||0!=o.hasMoreData[0].hasMoreData&&(!o.hasMoreData[o.appendData.networkID]||o.hasMoreData[o.appendData.networkID].hasMoreData),ee={...o,reviewFilters:i,webFilters:s,hasMoreData:G,wall:l,adjustWidth:r,languageSetting:d,clickToShowPopUp:c,onClickToCTA:u,onClickPopUpSlider:g,keyRender:$,containerSize:K,heightUpdate:Y};switch(console.log(l,"wallwallwallwalljkldjflksdklfj-222222",null===l||void 0===l||null===(n=l.Personalization)||void 0===n?void 0:n.widgetTheme),l.Personalization.widgetTheme){case 20:return r?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(S,{...ee})}):null;case 5:return r?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(P,{...ee})}):null;case 3:return r?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(j,{...ee})}):null;case 4:return r?(0,m.jsxs)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:[(0,m.jsx)(b,{...ee,cardNumber:h,postSizeInPx:x})," "]}):null;case 19:case 59:return r?(0,m.jsxs)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:[(0,m.jsx)(w,{...ee})," "]}):null;case 50:return p.ig?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(I,{...ee,cardNumber:h,renderId:t,postSizeInPx:x})}):(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(f,{...ee,cardNumber:h,renderId:t,postSizeInPx:x})});case 52:return p.ZQ?r?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(S,{...ee})}):null:(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(y,{...ee})});case 16:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(C,{...ee,postSizeInPx:x,onClickPopUpSlider:g,parentID:J})});case 55:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(F,{...ee,cardNumber:parseInt(h),onClickPopUpSlider:g,parentID:J})});case 49:case 53:return p.ig?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(z,{...ee,cardNumber:h,renderId:t,postSizeInPx:x})}):(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(k,{...ee})});case 47:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(v,{...ee,onClickPopUpSlider:g,renderId:t,parentID:J})});case 54:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(N,{...ee,onClickPopUpSlider:g,renderId:t,parentID:J})});case 6:case 61:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(D,{...ee,onClickPopUpSlider:g,renderId:t,parentID:J})});case 62:return p.ig?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(T,{...ee,cardNumber:h,onClickPopUpSlider:g,renderId:t,parentID:J})}):p.bX?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(_,{...ee,onClickPopUpSlider:g,parentID:J})}):"";case 57:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(W,{...ee})});case 58:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(L,{...ee})});case 60:case 56:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(U,{...ee,onClickPopUpSlider:g,parentID:J})});case 63:return r?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(R,{...ee,onClickPopUpSlider:g,parentID:J})}):null;case 64:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(E,{cardNumber:h,...ee,onClickPopUpSlider:g,parentID:J})});case 65:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(M,{...ee,onClickPopUpSlider:g,parentID:J,cardNumber:h,postSizeInPx:x})});case 78:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(H,{...ee,onClickPopUpSlider:g,parentID:J})});case 66:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(Z,{...ee,onClickPopUpSlider:g,parentID:J})});case 67:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(A,{...ee,onClickPopUpSlider:g,parentID:J,cardNumber:h,postSizeInPx:x})});case 68:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(X,{...ee,onClickPopUpSlider:g,parentID:J,cardNumber:h,renderId:t,postSizeInPx:x})});case 69:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(Q,{...ee,onClickPopUpSlider:g,parentID:J})});case 74:case 76:case 77:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(B,{...ee,onClickPopUpSlider:g,parentID:J})});case 70:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(O,{...ee,onClickPopUpSlider:g,parentID:J,renderId:t})});case 71:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:p.aL?(0,m.jsx)(C,{...ee,postSizeInPx:x,onClickPopUpSlider:g,parentID:J}):(0,m.jsx)(V,{...ee,onClickPopUpSlider:g,postSizeInPx:x,parentID:J})});case 73:return(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(q,{...ee,onClickPopUpSlider:g,parentID:J})});default:return(0,m.jsx)(m.Fragment,{})}}));class ee extends a.PureComponent{constructor(){super(...arguments),this.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,adjustWidth:0,cardNumber:0,postSizeInPx:0,isLoaded:!1,currentIndex:-1,height:0,updatedValue:0},this.heightUpdate=()=>{if(!p.aL){const e=e=>(document.querySelector(e)||{}).clientHeight||0,n=e(".tb_wall_header__"),t=window.editor?e("#kt_header"):0,a=e(".ti_container");this.setState({height:n+t+a})}},this.autoLoadEditorScrollData=e=>{const{wall:n,postData:t,loaderData:a}=this.props,l=n.ThemeRule.numberOfPosts;let i=document.getElementsByClassName("wall-editor");if(1==n.Personalization.autoScrollStatus&&K.includes(n.Personalization.widgetTheme)&&i.length>0){let e=i[0];if(document.body.scrollHeight+e.scrollTop>=e.scrollHeight-10&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,l,t.appendData.networkID,t.appendData.after,t.appendData.heightEvent)}}},this.autoLoadScrollData=e=>{const{wall:n,postData:t,loaderData:a}=this.props,l=n.ThemeRule.numberOfPosts,i=document.body,s=document.documentElement;if(1===n.Personalization.autoScrollStatus&&K.includes(n.Personalization.widgetTheme)){const e=Math.max(i.scrollHeight,i.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight);if(window.innerHeight+window.pageYOffset>=parseInt(e)-parseInt(50)&&(!a||!a.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,l,t.appendData.networkID,t.appendData.after,t.appendData.heightEvent)}}},this.onResponsiveTheme=(e,n)=>{const{wall:t}=this.props;let{windowWidth:a}=this.state;a=2===e?a+165:a;let{adjustWidth:l,cardNumber:i}=(0,r.X8)(a,n||t);l=(100/a*l).toFixed(2),this.setState({adjustWidth:l,cardNumber:i,postSizeInPx:(0,r.X8)(a,n||t)},(()=>this.heightUpdate()))},this.onClickToShowPopup=(e,n)=>t=>{t.stopPropagation(),this.onLoadPopUp(e,n)},this.onClickPopUpSlider=(e,n)=>this.onLoadPopUp(e,n),this.onLoadPopUp=(e,n)=>{const{wall:t,languageSetting:a,postData:l}=this.props;if(p.P2&&!p.ZQ&&!p.ig&&(s.tq&&!t.Personalization.mobilePopup||p.ZQ&&t.Personalization.mobilePopup&&""!==n.link)){if("undefined"==n.link)return!1;window.open(n.link,"_blank")}else{let i=l.postData.map((e=>l.completeDataObject[e])).filter((e=>!String(e.id).includes("free_add_"))),s=(0,r.E6)(i,n.id,e);if(2===t.Personalization.postFeatured||p.ZQ&&1==t.Personalization.mobilePopup){if("undefined"==n.link||""==n.link)return!1;window.open(n.link,"_blank")}else if(3===t.Personalization.postFeatured)window.open(t.Personalization.customUrl,"_blank");else{const e=u.parse(window.location.search);(null===e||void 0===e||!e.preview||null!==e&&void 0!==e&&e.embed)&&1===t.Personalization.postFeatured&&this.props.showPopUP({type:"post",card:n,idArray:i,index:s,viewOnText:a.viewOnText,shareText:a.shareText,personalization:t.Personalization,imgData:r.CC,ThemeRule:t.ThemeRule,wall:t})}}const i={feed:n.feedId,post:n.referenceId?n.referenceId:n.id},o={wallId:t.Wall.id,userId:t.Wall.owner,feedId:n.feedId,postId:n.id},c={action:2,wall:t.Wall.id,feed:n.feedId,post:n.referenceId?n.referenceId:n.id,type:3,owner:t.Wall.owner};(0,d.S5)(p.ZQ?o:p.nX?c:{action:2,wall:t.Wall.id,...i,owner:t.Wall.owner}),(0,d.Fv)("Tagbox","popupclick_","popup",n.link)},this.loadPopUpWithTimer=()=>{const{currentIndex:e}=this.state,{postData:{postData:n,completeDataObject:t},wall:{ThemeRule:{timeForPopup:a}}}=this.props,l=void 0==a||0===a?5e3:1e3*a;let i=e+1;if(i>=n.length&&(i=0),!isNaN(i)&&n.length>0){const e=n.map((e=>t[e]));this.setState({currentIndex:i}),this.togglePopUpVisibility(i,e[i],l)}},this.togglePopUpVisibility=(e,n,t)=>{this.onLoadPopUp(e,n),r.i9.push(setTimeout((()=>{this.props.closePopUP(),r.i9.push(setTimeout((()=>{this.loadPopUpWithTimer()}),t))}),t))},this.onClickToCTA=e=>{const{wall:n}=this.props;p.ZQ||(0,d.S5)({action:2,wall:n.Wall.id,type:1,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:n.Wall.owner}),(0,d.Fv)("Tagbox","ctaClick","cta",e.cta&&e.cta.url?e.cta.url:"")}}componentWillMount(){const{renderId:e}=this.props.renderId;this.setState({windowWidth:e&&document.getElementById(e)?document.getElementById(e).clientWidth:window.innerWidth})}componentDidMount(){const{renderId:e}=this.props.renderId;if(this.onResponsiveTheme(),p.bX&&!p.P2&&!window.location.href.includes("onsite-upload")){const{wall:{ThemeRule:{timeForPopup:e},Personalization:n}}=this.props,t=void 0==e||0===e?5e3:1e3*e;1==n.postFeatured&&setTimeout((()=>this.loadPopUpWithTimer()),t)}if(window.addEventListener&&window.addEventListener("resize",(()=>{this.setState({windowWidth:e?document.getElementById(e).clientWidth:window.innerWidth,windowHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),window.editor){let e=document.getElementsByClassName("wall-editor");e.length>0&&e[0].addEventListener("scroll",this.autoLoadEditorScrollData)}else window.addEventListener&&window.addEventListener("scroll",this.autoLoadScrollData);r.i9.push(setTimeout((()=>{this.setState({isLoaded:!0})}),1e3)),p.ig&&!p.Jc&&p.bX&&(0,r.ad)()}componentWillReceiveProps(e){e==this.props||p.Jc||this.onResponsiveTheme(),h().isEqual(e,this.props)||this.onResponsiveTheme(!1,e.wall)}componentDidUpdate(e,n){window.location.href.includes("addfeedload=load")&&n.updatedValue!=this.props.wall.Personalization.widgetTheme&&this.setState({updatedValue:this.props.wall.Personalization.widgetTheme},(()=>this.onResponsiveTheme()))}render(){var e,n,t;const{wall:l,languageSetting:i,postData:s,containerSize:o,brandingNetworks:r,parentID:d}=this.props;window.onResponsiveTheme=this.onResponsiveTheme;const{isLoaded:c,height:h}=this.state,u=!p.ZQ||58!=l.Personalization.widgetTheme&&57!=l.Personalization.widgetTheme;return console.log(l,"wallwallwallwalljkldjflksdklfj-111111111",null===l||void 0===l||null===(e=l.Personalization)||void 0===e?void 0:e.widgetTheme),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"tb_theme_container ".concat(p.aL?"":"tb_wall_container"),style:p.aL?null:{height:p.aL?"auto":"calc(100vh - ".concat(h,"px)")},children:[s.isFreeAdsStatus&&!p.ig&&u&&!p.bX?(0,m.jsxs)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:[(0,m.jsx)(g,{containerSize:o,languageSetting:i,brandingNetworks:r,wallId:l.Wall.id,themeID:l.Personalization.widgetTheme})," "]}):null,(0,a.createElement)(G,{...this.props,...this.state,clickToShowPopUp:this.onClickToShowPopup,onClickToCTA:this.onClickToCTA,onClickPopUpSlider:this.onClickPopUpSlider,parentID:d,onLoadPopUp:this.onLoadPopUp,heightUpdate:this.heightUpdate,key:null===s||void 0===s||null===(n=s.postData)||void 0===n?void 0:n.length}),s.isFreeAdsStatus&&p.ig&&u?(0,m.jsxs)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:[(0,m.jsx)(g,{containerSize:o,languageSetting:i,brandingNetworks:r,wallId:l.Wall.id,themeID:l.Personalization.widgetTheme})," "]}):null,p.aL&&1===l.Personalization.loadMoreStatus&&Y.includes(l.Personalization.widgetTheme)?(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(x,{languageSetting:i,wall:l,appendData:s.appendData,postData:s,isBranding:!(!s.isFreeAdsStatus||!p.ig)})}):null,p.bX&&null!==l&&void 0!==l&&null!==(t=l.Personalization)&&void 0!==t&&t.interactive&&!p.P2?(0,m.jsx)($,{children:(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)(J,{})})}):null]})})}}const ne=(0,i.$j)((e=>({loaderData:e.loaderData,renderId:e.renderId})),(e=>({showPopUP:n=>e((0,d.Bm)(n)),getDataNextSteps:(n,t,a,l,i,s,o)=>e((0,d.Sx)(n,t,a,l,i,s,o)),closePopUP:()=>e((0,d.zj)())})))(ee)}}]);