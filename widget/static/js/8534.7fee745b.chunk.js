"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[8534],{18534:(e,n,a)=>{a.r(n),a.d(n,{default:()=>K});var t=a(47313),s=a(43411),l=a(34862),i=a(98501),r=a(17739),o=a(40475),d=a(35179),p=a(46417);const c=t.lazy((()=>a.e(8257).then(a.bind(a,28257)))),h=t.lazy((()=>a.e(3779).then(a.bind(a,3779)))),u=t.lazy((()=>a.e(7209).then(a.bind(a,67209)))),m=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1395),a.e(6158),a.e(2817)]).then(a.bind(a,16977)))),x=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(1395),a.e(6158),a.e(5452)]).then(a.bind(a,29146)))),j=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1395),a.e(6158),a.e(3765)]).then(a.bind(a,71325)))),b=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1395),a.e(6158),a.e(4119)]).then(a.bind(a,18017)))),g=t.lazy((()=>a.e(271).then(a.bind(a,30271)))),S=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(6158),a.e(2314)]).then(a.bind(a,95136)))),P=t.lazy((()=>Promise.all([a.e(6119),a.e(6390),a.e(1395),a.e(6158),a.e(1960)]).then(a.bind(a,12465)))),w=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(1774),a.e(7914),a.e(6158),a.e(5672),a.e(16)]).then(a.bind(a,91744)))),k=t.lazy((()=>a.e(5598).then(a.bind(a,15598)))),f=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(7529),a.e(6270),a.e(6158),a.e(1440)]).then(a.bind(a,99154)))),I=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(7529),a.e(6270),a.e(5555)]).then(a.bind(a,81750)))),D=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(1774),a.e(6158),a.e(5672),a.e(82)]).then(a.bind(a,76254)))),z=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1774),a.e(3541)]).then(a.bind(a,56094)))),F=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(1774),a.e(9159)]).then(a.bind(a,9159)))),y=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1774),a.e(6158),a.e(7694)]).then(a.bind(a,9105)))),T=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1774),a.e(6158),a.e(8635)]).then(a.bind(a,94594)))),C=t.lazy((()=>a.e(441).then(a.bind(a,60441)))),U=t.lazy((()=>a.e(7970).then(a.bind(a,27970)))),W=t.lazy((()=>Promise.all([a.e(6390),a.e(1774),a.e(5881)]).then(a.bind(a,12785)))),N=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1395),a.e(6158),a.e(6531)]).then(a.bind(a,63169)))),v=t.lazy((()=>a.e(2569).then(a.bind(a,92569)))),L=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(1395),a.e(7667)]).then(a.bind(a,87667)))),E=t.lazy((()=>Promise.all([a.e(1395),a.e(3387)]).then(a.bind(a,94568)))),M=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1395),a.e(6158),a.e(5949)]).then(a.bind(a,68520)))),R=t.lazy((()=>a.e(411).then(a.bind(a,10411)))),_=t.lazy((()=>a.e(191).then(a.bind(a,40191)))),H=t.lazy((()=>Promise.all([a.e(7529),a.e(6270),a.e(2524)]).then(a.bind(a,34280)))),X=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1395),a.e(1614)]).then(a.bind(a,13395)))),O=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1774),a.e(7275)]).then(a.bind(a,5309)))),Q=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1774),a.e(6158),a.e(4903)]).then(a.bind(a,98188)))),A=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(6390),a.e(1774),a.e(6158),a.e(5672),a.e(9591)]).then(a.bind(a,6778)))),Z=t.lazy((()=>Promise.all([a.e(6119),a.e(510),a.e(7529),a.e(6270),a.e(6158),a.e(4814)]).then(a.bind(a,50620)))),B=t.lazy((()=>a.e(6167).then(a.bind(a,86167)))),V=d.ZQ?i.TQ:d.ig?i.K$:d.bX?i._X:i.oH,J=d.ZQ?i.z8:d.ig?i.EM:d.bX?i._X:i.rV,$=t.memo((e=>{let{renderId:n,wall:a,reviewFilters:s,webFilters:l,postData:i,adjustWidth:r,languageSetting:o,clickToShowPopUp:c,cardNumber:h,onClickToCTA:u,postSizeInPx:B,onClickPopUpSlider:V,parentID:J,keyRender:$,containerSize:q}=e;const K=!i.hasMoreData[0]||0!=i.hasMoreData[0].hasMoreData&&(!i.hasMoreData[i.appendData.networkID]||i.hasMoreData[i.appendData.networkID].hasMoreData),Y={...i,reviewFilters:s,webFilters:l,hasMoreData:K,wall:a,adjustWidth:r,languageSetting:o,clickToShowPopUp:c,onClickToCTA:u,onClickPopUpSlider:V,keyRender:$,containerSize:q};switch(a.Personalization.widgetTheme){case 20:return r?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(b,{...Y})}):null;case 5:return r?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(j,{...Y})}):null;case 3:return r?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(x,{...Y})}):null;case 4:return r?(0,p.jsxs)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[(0,p.jsx)(g,{...Y,cardNumber:h,postSizeInPx:B})," "]}):null;case 19:case 59:return r?(0,p.jsxs)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[(0,p.jsx)(m,{...Y})," "]}):null;case 50:return d.ig?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(w,{...Y,cardNumber:h,renderId:n,postSizeInPx:B})}):(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(P,{...Y,cardNumber:h,renderId:n,postSizeInPx:B})});case 52:return d.ZQ?r?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(b,{...Y})}):null:(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(z,{...Y})});case 16:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(y,{...Y,postSizeInPx:B,onClickPopUpSlider:V,parentID:J})});case 55:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(D,{...Y,cardNumber:parseInt(h),onClickPopUpSlider:V,parentID:J})});case 49:case 53:return d.ig?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(k,{...Y,cardNumber:h,renderId:n,postSizeInPx:B})}):(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(S,{...Y})});case 47:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(T,{...Y,onClickPopUpSlider:V,renderId:n,parentID:J})});case 54:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(W,{...Y,onClickPopUpSlider:V,renderId:n,parentID:J})});case 6:case 61:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(f,{...Y,onClickPopUpSlider:V,renderId:n,parentID:J})});case 62:return d.ig?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(I,{...Y,cardNumber:h,onClickPopUpSlider:V,renderId:n,parentID:J})}):d.bX?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(N,{...Y,onClickPopUpSlider:V,parentID:J})}):"";case 57:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(C,{...Y})});case 58:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(U,{...Y})});case 60:case 56:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(F,{...Y,onClickPopUpSlider:V,parentID:J})});case 63:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(L,{...Y,onClickPopUpSlider:V,parentID:J})});case 64:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(v,{cardNumber:h,...Y,onClickPopUpSlider:V,parentID:J})});case 65:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(E,{...Y,onClickPopUpSlider:V,parentID:J,cardNumber:h,postSizeInPx:B})});case 78:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(M,{...Y,onClickPopUpSlider:V,parentID:J})});case 66:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(X,{...Y,onClickPopUpSlider:V,parentID:J})});case 67:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(_,{...Y,onClickPopUpSlider:V,parentID:J,cardNumber:h,postSizeInPx:B})});case 68:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(R,{...Y,onClickPopUpSlider:V,parentID:J,cardNumber:h,renderId:n,postSizeInPx:B})});case 69:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(H,{...Y,onClickPopUpSlider:V,parentID:J})});case 74:case 76:case 77:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(O,{...Y,onClickPopUpSlider:V,parentID:J})});case 70:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(Q,{...Y,onClickPopUpSlider:V,parentID:J,renderId:n})});case 71:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(A,{...Y,onClickPopUpSlider:V,postSizeInPx:B,parentID:J})});case 73:return(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(Z,{...Y,onClickPopUpSlider:V,parentID:J})});default:return(0,p.jsx)(p.Fragment,{})}}));class q extends t.PureComponent{constructor(){super(...arguments),this.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,adjustWidth:0,cardNumber:0,postSizeInPx:0,isLoaded:!1,currentIndex:-1},this.autoLoadEditorScrollData=e=>{const{wall:n,postData:a,loaderData:t}=this.props,s=n.ThemeRule.numberOfPosts;let l=document.getElementsByClassName("wall-editor");if(1==n.Personalization.autoScrollStatus&&V.includes(n.Personalization.widgetTheme)&&l.length>0){let e=l[0];if(document.body.scrollHeight+e.scrollTop>=e.scrollHeight-10&&(!t||!t.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,a.appendData.networkID,a.appendData.after,a.appendData.heightEvent)}}},this.autoLoadScrollData=e=>{const{wall:n,postData:a,loaderData:t}=this.props,s=n.ThemeRule.numberOfPosts,l=document.body,i=document.documentElement;if(1===n.Personalization.autoScrollStatus&&V.includes(n.Personalization.widgetTheme)){const e=Math.max(l.scrollHeight,l.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);if(window.innerHeight+window.pageYOffset>=parseInt(e)-parseInt(50)&&(!t||!t.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(n.Wall.id,e,s,a.appendData.networkID,a.appendData.after,a.appendData.heightEvent)}}},this.onResponsiveTheme=e=>{const{wall:n}=this.props;let{windowWidth:a}=this.state;a=2===e?a+165:a;let{adjustWidth:t,cardNumber:s}=(0,r.X8)(a,n);t=(100/a*t).toFixed(2),this.setState({adjustWidth:t,cardNumber:s,postSizeInPx:(0,r.X8)(a,n)})},this.onClickToShowPopup=(e,n)=>a=>{a.stopPropagation(),this.onLoadPopUp(e,n)},this.onClickPopUpSlider=(e,n)=>this.onLoadPopUp(e,n),this.onLoadPopUp=(e,n)=>{const{wall:a,languageSetting:t,postData:s}=this.props;if(d.ZQ||d.ig||!(l.tq&&!a.Personalization.mobilePopup||d.ZQ&&a.Personalization.mobilePopup&&""!==n.link)){let l=s.postData.map((e=>s.completeDataObject[e])).filter((e=>!String(e.id).includes("free_add_"))),i=(0,r.E6)(l,n.id,e);if(2===a.Personalization.postFeatured||d.ZQ&&1==a.Personalization.mobilePopup){if("undefined"==n.link||""==n.link)return!1;window.open(n.link,"_blank")}else 3===a.Personalization.postFeatured?window.open(a.Personalization.customUrl,"_blank"):1===a.Personalization.postFeatured&&this.props.showPopUP({type:"post",card:n,idArray:l,index:i,viewOnText:t.viewOnText,shareText:t.shareText,personalization:a.Personalization,imgData:r.CC,ThemeRule:a.ThemeRule,wall:a})}else{if("undefined"==n.link)return!1;window.open(n.link,"_blank")}const i={feed:n.feedId,post:n.referenceId?n.referenceId:n.id},p={wallId:a.Wall.id,userId:a.Wall.owner,feedId:n.feedId,postId:n.id},c={action:2,wall:a.Wall.id,feed:n.feedId,post:n.referenceId?n.referenceId:n.id,type:3,owner:a.Wall.owner};(0,o.S5)(d.ZQ?p:d.nX?c:{action:2,wall:a.Wall.id,...i,owner:a.Wall.owner}),(0,o.Fv)("Tagbox","popupclick_","popup",n.link)},this.loadPopUpWithTimer=()=>{const{currentIndex:e}=this.state,{postData:{postData:n,completeDataObject:a},wall:{ThemeRule:{timeForPopup:t}}}=this.props,s=0===t?5e3:1e3*t;let l=e+1;if(l>=n.length&&(l=0),!isNaN(l)){const e=n.map((e=>a[e]));this.setState({currentIndex:l}),this.togglePopUpVisibility(l,e[l],s)}},this.togglePopUpVisibility=(e,n,a)=>{this.onLoadPopUp(e,n),setTimeout((()=>{this.props.closePopUP(),setTimeout((()=>{this.loadPopUpWithTimer()}),a)}),a)},this.onClickToCTA=e=>{const{wall:n}=this.props;d.ZQ||(0,o.S5)({action:2,wall:n.Wall.id,type:1,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:n.Wall.owner}),(0,o.Fv)("Tagbox","ctaClick","cta",e.cta&&e.cta.url?e.cta.url:"")}}componentWillMount(){const{renderId:e}=this.props.renderId;this.setState({windowWidth:e&&document.getElementById(e)?document.getElementById(e).clientWidth:window.innerWidth})}componentDidMount(){const{renderId:e}=this.props.renderId;if(this.onResponsiveTheme(),d.bX&&!d.P2&&this.loadPopUpWithTimer(),window.addEventListener&&window.addEventListener("resize",(()=>{this.setState({windowWidth:e?document.getElementById(e).clientWidth:window.innerWidth,windowHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),window.editor){let e=document.getElementsByClassName("wall-editor");e.length>0&&e[0].addEventListener("scroll",this.autoLoadEditorScrollData)}else window.addEventListener&&window.addEventListener("scroll",this.autoLoadScrollData);setTimeout((()=>{this.setState({isLoaded:!0})}),1e3),d.ig&&!d.Jc&&(0,r.ad)()}componentWillReceiveProps(e){e!=this.props&&d.Jc&&this.onResponsiveTheme()}render(){const{wall:e,languageSetting:n,postData:a,containerSize:s,brandingNetworks:l,parentID:i}=this.props;window.onResponsiveTheme=this.onResponsiveTheme;const{isLoaded:r}=this.state,o=!d.ZQ||58!=e.Personalization.widgetTheme&&57!=e.Personalization.widgetTheme;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"tb_theme_container ".concat(d.aL?"":"tb_wall_container"),children:[a.isFreeAdsStatus&&!d.ig&&o&&!d.bX?(0,p.jsxs)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[(0,p.jsx)(h,{containerSize:s,languageSetting:n,brandingNetworks:l,wallId:e.Wall.id,themeID:e.Personalization.widgetTheme})," "]}):null,(0,p.jsx)($,{...this.props,...this.state,clickToShowPopUp:this.onClickToShowPopup,onClickToCTA:this.onClickToCTA,onClickPopUpSlider:this.onClickPopUpSlider,parentID:i,onLoadPopUp:this.onLoadPopUp}),a.isFreeAdsStatus&&d.ig&&o?(0,p.jsxs)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:[(0,p.jsx)(h,{containerSize:s,languageSetting:n,brandingNetworks:l,wallId:e.Wall.id,themeID:e.Personalization.widgetTheme})," "]}):null,!d.bX&&r&&1===e.Personalization.loadMoreStatus&&J.includes(e.Personalization.widgetTheme)?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(c,{languageSetting:n,wall:e,appendData:a.appendData,postData:a,isBranding:!(!a.isFreeAdsStatus||!d.ig)})}):null,a&&a.completeDataObject?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(u,{completeDataObject:a.completeDataObject,postData:a.postData})}):"",d.bX?(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(B,{})}):null]})})}}const K=(0,s.$j)((e=>({loaderData:e.loaderData,renderId:e.renderId})),(e=>({showPopUP:n=>e((0,o.Bm)(n)),getDataNextSteps:(n,a,t,s,l,i,r)=>e((0,o.Sx)(n,a,t,s,l,i,r)),closePopUP:()=>e((0,o.zj)())})))(q)}}]);