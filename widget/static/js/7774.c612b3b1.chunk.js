"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7774],{77774:(e,l,a)=>{a.r(l),a.d(l,{addScript:()=>z,default:()=>T,isEditor:()=>L,onLoad:()=>I});var t=a(47313),n=a(83773),r=a(95162),s=a(43411),o=a(98501),i=a(17739),d=a(35179),c=a(43635),h=a(92789),p=a.n(h),w=a(46417);const u=t.lazy((()=>a.e(4355).then(a.bind(a,44355)))),j=t.lazy((()=>a.e(3032).then(a.bind(a,53032)))),m=t.lazy((()=>Promise.all([a.e(182),a.e(5807)]).then(a.bind(a,75807)))),g=t.lazy((()=>a.e(9031).then(a.bind(a,9031)))),b=t.lazy((()=>a.e(8454).then(a.bind(a,28454)))),x=t.lazy((()=>Promise.all([a.e(6390),a.e(622),a.e(7529),a.e(6270),a.e(2198),a.e(6451)]).then(a.bind(a,417)))),f=t.lazy((()=>Promise.all([a.e(6390),a.e(7529),a.e(6270),a.e(7373),a.e(2198),a.e(2104)]).then(a.bind(a,52104)))),k=t.lazy((()=>a.e(339).then(a.bind(a,10339)))),D=t.lazy((()=>a.e(3607).then(a.bind(a,43607)))),y=t.lazy((()=>a.e(7029).then(a.bind(a,87029)))),S=t.lazy((()=>a.e(6105).then(a.bind(a,56105)))),v=t.lazy((()=>a.e(1174).then(a.bind(a,71174)))),F=t.lazy((()=>a.e(2579).then(a.bind(a,92579)))),P=t.lazy((()=>a.e(7958).then(a.bind(a,57958)))),E=t.lazy((()=>Promise.all([a.e(510),a.e(6390),a.e(622),a.e(5171),a.e(9605)]).then(a.bind(a,22990)))),U=t.lazy((()=>a.e(3807).then(a.bind(a,33807)))),z=e=>{const l=document.createElement("script");l.src=e,l.defer=!0,document.head.appendChild(l)},L=!!window.isEditor,I=()=>{window.jQuery||z("".concat(o.Mp,"/js/jquery.min.js?ver=1")),z("".concat(o.Mp,"/js/slackdown.js?ver=1"))},M=e=>{var l;return e.loader&&null!=e.loader.loader&&null==e.error.errorWithMessage&&(!e.error.planLimit||d.ig)&&(null==e.error.themeError||Object.keys(e.error.themeError).length>0&&0==e.error.themeError.error_code||1===(null===(l=e.wall)||void 0===l?void 0:l.Personalization.demoWall))?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(u,{...e})}):!d.ig&&(e.error.errorWithMessage||e.error.planLimit||e.error.themeError)?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(j,{...e})}):null},W=(0,n.componentWillAppendToBody)((e=>{let{children:l}=e;return l})),O=e=>{let{appData:l}=e;const a=!!(l.wall.UserDetail&&Object.keys(l.wall.UserDetail).length>0);let t=""!=l.webFilters&&l.webFilters?l.webFilters.map((e=>{let{networkId:l}=e;return l})):null;const n=!(!a||l.wall.UserDetail.planId.includes("53"))||!!(d.ZQ&&l.wall.refere&&Object.keys(l.wall.refere).length>0),r=d.ig&&l.wall.User.referePageLink?l.wall.User.referePageLink:d.ZQ?l.wall.refere.referePageLink:(0,i.$t)(t,l.wallID)[0],s=d.ig&&l.wall.User.referePage?l.wall.User.referePage:d.ZQ?l.wall.refere.referePage:(0,i.$t)(t,l.wallID)[1];return n?(0,w.jsx)("a",{href:r,target:"_blank",style:{display:"none"},"aria-label":s,children:s}):null};class C extends t.Component{constructor(){super(...arguments),this.state={errorData:null,render:""},this.onLoadEditor=()=>{if(d.Jc)try{window.addEventListener("message",this.handleMessage)}catch(e){console.log("error",e)}else window.location.href.includes("addfeedload=load")&&window.addEventListener("message",this.addFeedReloadTheme)},this.handleMessage=e=>{const{type:l,data:a}=e.data;if("reloadWebsite"==l){const e=JSON.parse(a);console.warn("payload 1",e),this.setState({render:(0,r.Z)()});const{onUpdateEditor:l}=this.props;l(e)}},this.addFeedReloadTheme=e=>{const{type:l,data:a}=e.data;if("reloadTheme"==l){const{onUpdateEditor:e}=this.props;e(a)}}}componentWillMount(){d.bX&&(p().init(),a.e(2389).then(a.bind(a,92389)))}componentDidMount(){setTimeout((()=>I()),200),this.onLoadEditor()}componentDidUpdate(e,l){var a,t,n;let r=null===(a=e.appData.wall)||void 0===a||null===(t=a.Personalization)||void 0===t?void 0:t.demoWall;var s;(null===(n=e.appData.error)||void 0===n?void 0:n.themeError)!==l.errorData&&(this.setState({errorData:null===(s=e.appData.error)||void 0===s?void 0:s.themeError}),"function"===typeof window.onSetErrorCode&&null!==this.state.errorData&&window.onSetErrorCode(this.state.errorData,r))}componentWillUnmount(){d.Jc?window.removeEventListener("message",this.handleMessage):window.location.href.includes("addfeedload=load")&&window.removeEventListener("message",this.addFeedReloadTheme)}render(){var e,l,a;const{appData:n,modalPop:r,spotlight:s}=this.props,{render:o}=this.state,c=!!(n&&n.wall&&Object.keys(n.wall).length>0&&n.wall.UserDetail&&Object.keys(n.wall.UserDetail).length>0),h=!(!d.bX||!s.status);return(0,w.jsx)(w.Fragment,{children:!d.bX||window.location.href.includes("onsite-upload")||1!=n.isStudio||i.cy||L||window.location.href.includes("editor=1")?(0,w.jsxs)(w.Fragment,{children:[d.aL?null:(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(F,{})}),n&&n.wall&&Object.keys(n.wall).length>0&&!window.location.href.includes("onsite-upload")?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(m,{wall:n.wall})}):null,r.onSiteIsShowPopUp&&null!==n&&void 0!==n&&n.wall?(0,w.jsxs)(W,{children:["  ",(0,w.jsxs)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[" ",d.bX?(0,w.jsx)(U,{wall:null===n||void 0===n?void 0:n.wall,wallId:null===n||void 0===n||null===(e=n.wall)||void 0===e||null===(l=e.Wall)||void 0===l?void 0:l.id,feeds:null===n||void 0===n?void 0:n.feeds,isFreeAdsStatus:n.postData.isFreeAdsStatus}):(0,w.jsx)(g,{})," "]})," "]}):null,(0,t.createElement)(M,{...n,key:o,keyRender:o,spotlight:s}),c&&n.wall.UserDetail.planId.includes("53")&&!d.bX?(0,w.jsxs)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[(0,w.jsx)(D,{appData:n})," "]}):null,null!==n&&void 0!==n&&null!==(a=n.postData)&&void 0!==a&&a.isFreeAdsStatus?(0,w.jsxs)(W,{children:[(0,w.jsxs)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[(0,w.jsx)(y,{appData:n})," "]}),window.location.href.includes("editor=1")?"":(0,w.jsxs)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[(0,w.jsx)(S,{appData:n})," "]})]}):null,!h&&r.isShowPopUp?d.ig&&(0,i.b)()?(0,w.jsxs)(W,{children:[" ",(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(f,{wall:n.wall,data:r.data,languageSetting:n.languageSetting,networkData:n.networkData,postData:n.postData,brandingNetworks:""!=n.webFilters&&n.webFilters?n.webFilters.map((e=>{let{networkId:l}=e;return l})):null})})," "]}):(0,w.jsxs)(W,{children:[" ",(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(x,{wall:n.wall,isShowPopUp:r.isShowPopUp,data:r.data,languageSetting:n.languageSetting,networkData:n.networkData,postData:n.postData,brandingNetworks:""!=n.webFilters&&n.webFilters?n.webFilters.map((e=>{let{networkId:l}=e;return l})):null},r.isShowPopUp)})," "]}):null,d.bX&&!h&&n.announcements?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(P,{announcements:n.announcements})}):null,r.reportStatus&&d.P2?(0,w.jsxs)(W,{children:[" ",(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(k,{item:r.reportData,wall:n.wall})})," "]}):null,r.shareStatus&&d.P2?(0,w.jsxs)(W,{children:[" ",(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(b,{postLink:r.shareData.link,userName:r.shareData.author.name})})," "]}):null,n&&n.wall&&Object.keys(n.wall).length>0&&d.P2?(0,w.jsx)(W,{children:(0,w.jsx)(O,{appData:n})}):null,h?(0,w.jsx)(t.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(E,{itemData:s.data,wall:n.wall})}):null]}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(v,{wallID:n.wallID})})})}}const T=(0,s.$j)((e=>({appData:e.appData,modalPop:e.modalPop,spotlight:e.spotlight})),(e=>({onUpdateEditor:l=>e((0,c.cD)(l))})))(C)}}]);