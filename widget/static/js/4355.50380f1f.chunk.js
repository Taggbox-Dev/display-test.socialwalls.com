"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4355],{44355:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var a=t(47313),i=t(40475),s=t(43411),r=t(17739),l=t(98501),o=t(35179),g=t(46417);const c=a.lazy((()=>t.e(7535).then(t.bind(t,37535)))),d=a.lazy((()=>t.e(6429).then(t.bind(t,16429)))),u=a.lazy((()=>t.e(1027).then(t.bind(t,21027)))),h=a.lazy((()=>t.e(1819).then(t.bind(t,61819)))),p=a.lazy((()=>t.e(8534).then(t.bind(t,18534)))),m=a.lazy((()=>Promise.all([t.e(7914),t.e(589)]).then(t.bind(t,66538))));class b extends a.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=a.createRef()}componentDidMount(){(0,r.gz)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){var e;let n=document.querySelector(".tb_app_container"),t=r.b8?r.b8:null===n||void 0===n||null===(e=n.parentNode)||void 0===e?void 0:e.id;this.setState({parentID:t})}render(){var e,n;const{wall:t,reviewFilters:i,webFilters:s,postData:b,languageSetting:k,filter_tags:f}=this.props,B=!!(t.Banner&&Object.keys(t.Banner).length>0&&(1===t.Banner.status&&1===t.Banner.banner_position||1===t.BannerImage.status||"1"===t.Banner.banner_position)),S=!!(t.Banner&&Object.keys(t.Banner).length>0&&(1===t.Banner.status&&2===t.Banner.banner_position||"2"===t.Banner.banner_position)),w=o.ZQ?![55,60,16,47,57].includes(t.Personalization.widgetTheme):![55,52,60,16,47,57,61].includes(t.Personalization.widgetTheme),j=!!(t.Banner&&Object.keys(t.Banner).length>0&&1===t.Banner.status&&6==t.Banner.bannerType&&0===t.Personalization.filterStatus&&57!=t.Personalization.widgetTheme),x=o.ZQ?1===t.Personalization.filterStatus:!!(s&&s.length>1),z=!!(f&&f.length>0);let _=""!=s&&s&&s.length>0?s.map((e=>{let{Network:n}=e;return n.id})):null;!o.ig&&t.Background.image&&t.Background.image.includes(l.ho)&&(t.Background.image=String(t.Background.image).replace(l.lO,""));const I=0===t.Background.transparent||t.Background.image&&o.ZQ?{backgroundImage:t.Background.image?"url(".concat(t.Background.image,")"):"",backgroundColor:t.Background.color}:null;return(0,g.jsxs)("div",{className:"tb_app_container",style:{minHeight:o.P2?[47,16,49,55,60,52].includes(t.Personalization.widgetTheme)?"100%":"".concat(this.props.postHeight,"px"):null},ref:this.containerRef,children:[o.bX&&!o.aL&&1===(null===(e=t.CustomTicker)||void 0===e?void 0:e.status)&&1==t.CustomTicker.ticker_position?(0,g.jsx)(u,{CustomTicker:t.CustomTicker,UgcSettings:t.UgcSettings}):null,B?(0,g.jsxs)(a.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(c,{Banner:t.Banner,BannerImage:t.BannerImage,LogoImage:t.LogoImage})]}):"",(0,g.jsxs)("div",{className:"tb_app_wrapper",style:I,children:[j&&B?(0,g.jsx)(a.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:(0,g.jsx)(d,{reviewFilters:i,appendData:b.appendData,wall:t,languageSetting:k,postData:b})}):null,t.UserRule.on_site_upload&&t.UgcSettings.onsite_status||o.nX&&t.UgcSettings.onsite_status&&(o.Jx||o.ig&&!(0,r.mD)(50))?(0,g.jsxs)(a.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(m,{UgcSettings:t.UgcSettings,id:t.Wall.id,tagShopWallId:t.Wall.wallId})," "]}):null,!o.bX&&w&&(x||z)?(0,g.jsxs)(a.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(h,{type:t.Personalization.filter_type,webFilters:s,filter_tags:f,appendData:b.appendData,wall:t,languageSetting:k,postData:b})]}):"",(0,g.jsxs)(a.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(p,{...this.props,brandingNetworks:_,containerSize:this.state.containerSize,parentID:this.state.parentID})]}),j&&S?(0,g.jsx)(a.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:(0,g.jsx)(d,{reviewFilters:i,appendData:b.appendData,wall:t,languageSetting:k,postData:b})}):null]}),S?(0,g.jsxs)(a.Suspense,{fallback:(0,g.jsx)(g.Fragment,{}),children:[" ",(0,g.jsx)(c,{Banner:t.Banner,BannerImage:t.BannerImage,LogoImage:t.LogoImage})]}):"",o.bX&&!o.aL&&1===(null===(n=t.CustomTicker)||void 0===n?void 0:n.status)&&2==t.CustomTicker.ticker_position?(0,g.jsx)(u,{CustomTicker:t.CustomTicker,UgcSettings:t.UgcSettings}):null]})}}const k=(0,s.$j)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId}}return{renderId:e.renderId}}),(e=>({managePostHeight:n=>e((0,i.B0)(n))})))(b)}}]);