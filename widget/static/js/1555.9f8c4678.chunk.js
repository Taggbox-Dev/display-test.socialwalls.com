"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[1555,4463],{173:(t,e,i)=>{i.d(e,{A:()=>r});var s=i(9950),n=i(19015),o=i(66345),a=i(44414);class r extends s.PureComponent{constructor(){super(...arguments),this.onClickData=t=>e=>{const{item:i,wallID:s,ownerId:a}=this.props;e.stopPropagation(),o.uS||(0,n.hq)({type:2,action:2,wall:s,feed:i.feedId,post:i.referenceId?i.referenceId:i.id,owner:a}),(0,n.nF)("Tagbox","shareUrl","shareUrl",t),window.open(t,"_blank")}}render(){const{share:t,shareClass:e}=this.props;return(0,a.jsxs)("div",{className:"tb_share_wrapper ".concat(e),children:[(0,a.jsx)("div",{className:"tb_share_button_ tb__icon ".concat(o.uS?"tb-share-fill":"tb-share"),children:(0,a.jsx)("div",{})}),(0,a.jsxs)("div",{className:"tb_share_icon_list_wrap",children:[t.facebook?(0,a.jsx)("div",{className:"tb_share_icon_list",children:(0,a.jsx)("div",{onClick:this.onClickData(t.facebook),className:"tb_share_ico__ tb__icon tb-facebook",title:"facebook",children:(0,a.jsx)("div",{})})}):"",t.twitter?(0,a.jsx)("div",{className:"tb_share_icon_list",children:(0,a.jsx)("div",{onClick:this.onClickData(t.twitter),className:"tb_share_ico__  tb__icon tb-twitter",title:"twitter",children:(0,a.jsx)("div",{})})}):"",t.linkedin?(0,a.jsx)("div",{className:"tb_share_icon_list",children:(0,a.jsx)("div",{onClick:this.onClickData(t.linkedin),className:"tb_share_ico__ tb__icon tb-linkedin",title:"linkedin",children:(0,a.jsx)("div",{})})}):""]})]})}}},1384:(t,e,i)=>{i.d(e,{A:()=>r});var s=i(9950),n=i(73878),o=i(19015);class a extends s.Component{constructor(t){super(t),this.rafId=null,this.lastTime=0,this.speed=0,this.isRunning=!1,this.lastPruneTime=0,this.MAX_DOM_NODES=15,this.PRUNE_OFFSET=200,this.initScroll=()=>{if(this.container=document.getElementById(this.props.parentId),this.content=document.getElementById(this.props.renderID),this.content.scrollHeight<=this.container.clientHeigh-300)return alert("A"),console.log("\ud83d\udd25 NO SCROLL"),void setTimeout(()=>{var t,e,i,s;null===(t=(e=this.props).handleScroll)||void 0===t||t.call(e,0),null===(i=(s=this.props).getExtraPosts)||void 0===i||i.call(s)},3e3);this.speed=this.getSpeed(),this.isRunning=!0,this.lastTime=performance.now(),this.startRAF(),this.bindVideoEvents()},this.pruneOffscreenNodes=()=>{if(!this.container)return;const t=this.container.querySelectorAll(".tb_w_c_post_wrapper");if(t.length<=this.MAX_DOM_NODES)return;const e=this.container.scrollTop;for(let i=0;i<t.length;i++){const s=t[i];if(!(s.offsetTop+s.offsetHeight<e-this.PRUNE_OFFSET))break;s.remove()}},this.startRAF=()=>{if(this.rafId)return;const t=e=>{if(!this.isRunning||!this.container)return;const i=e-this.lastTime;this.lastTime=e;const s=this.speed*i/16.67;this.container.scrollTop+=s;const n=this.container.scrollHeight-this.container.clientHeight-30,o=this.container.scrollTop;var a,r;o+this.container.clientHeight>=this.container.scrollHeight-400&&(null===(a=(r=this.props).handleScroll)||void 0===a||a.call(r,o));this.container.scrollTop>=n?this.onReachBottom():(e-this.lastPruneTime>200&&(this.pruneOffscreenNodes(),this.lastPruneTime=e),this.rafId=requestAnimationFrame(t))};this.rafId=requestAnimationFrame(t)},this.stopRAF=()=>{this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null)},this.bindVideoEvents=()=>{this.container.querySelectorAll("video").forEach(t=>{t.addEventListener("waiting",this.stopRAF),t.addEventListener("playing",this.resumeRAF)})},this.resumeRAF=()=>{this.isRunning&&(this.lastTime=performance.now(),this.startRAF())},this.onReachBottom=()=>{this.stopRAF(),this.container&&(this.container.scrollTop=0,setTimeout(()=>{this.lastTime=performance.now(),this.startRAF()},800))},this.onResize=()=>{this.container&&this.content&&(this.content.scrollHeight>this.container.clientHeight?this.resumeRAF():this.stopRAF())},this.onVisibilityChange=()=>{document.hidden?this.stopRAF():this.resumeRAF()},this.getSpeed=()=>{var t,e;null===(t=this.props.wall)||void 0===t||null===(e=t.Personalization)||void 0===e||e.scrollDelay;return 3},this.cleanup=()=>{this.isRunning=!1,this.stopRAF()},console.log("\ud83d\udd25 ScrollAnimation CONSTRUCTOR",t)}componentDidMount(){this.startTimer=setTimeout(this.initScroll,1e3),window.addEventListener("resize",this.onResize),document.addEventListener("visibilitychange",this.onVisibilityChange)}componentWillUnmount(){this.cleanup(),clearTimeout(this.startTimer),window.removeEventListener("resize",this.onResize),document.removeEventListener("visibilitychange",this.onVisibilityChange)}render(){return this.props.children}}const r=(0,s.memo)((0,n.Ng)(null,t=>({getExtraPosts:()=>t((0,o.W_)())}))(a))},44463:(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var s=i(9950),n=i(66345),o=i(44414);const a=s.lazy(()=>i.e(620).then(i.bind(i,20620)));class r extends s.PureComponent{render(){const{network:t,networkClass:e,ThemeRule:i,isDefault:r,Personalization:l}=this.props,c=!!r&&(7!==t.id&&4!==t.id&&36!==t.id),h=n.uS&&36==t.id?"tagembed":t.icon;return c?(0,o.jsx)("div",{className:"".concat(e," tb__icon tb-").concat(h.replace(/fa-/g,"")),children:(0,o.jsx)("div",{})}):(0,o.jsxs)(s.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:[" ",(0,o.jsx)(a,{network:t,networkClass:e})]})}}},47713:(t,e,i)=>{i.d(e,{A:()=>o});var s=i(52867),n=i(44414);const o=t=>{let{ThemeRule:e,btnClass:i}=t;const o={fontFamily:e.css_font};return(0,n.jsx)("div",{className:"tb_shop_btn_wrap ".concat(i),children:(0,n.jsx)("div",{className:"tb_shop_btn".concat(e.postHover||(0,s.Nv)(4)||(0,s.Nv)(55)?" tb_shop_btn_light":" tb_shop_btn_dark"),style:o,children:e.shoppingText})})}},81555:(t,e,i)=>{i.r(e),i.d(e,{default:()=>w});var s=i(9950),n=i(74378),o=i.n(n),a=i(52867),r=i(66345),l=i(173),c=(i(44463),i(47713),i(44414));const h=s.lazy(()=>i.e(81).then(i.bind(i,90081))),d=s.lazy(()=>Promise.all([i.e(1823),i.e(8092),i.e(8254)]).then(i.bind(i,98634))),p=r.aD||r.Vn?50:null,m=t=>{let{itemData:e,personalization:i,adjustWidth:n,ThemeRule:o,clickToShowPopUp:m,itemIndex:u,wallID:_,ownerId:b,postSizeInPx:g,wall:w,onClickPopUpSlider:x}=t;const f=(0,s.useRef)(null),v=2===e.type||3===e.type||4===e.type||5===e.type,T=i.trimcontent?(0,a.Ex)(e.content,p):e.content,I=g.adjustWidth<250,k=0==o.postHover&&r.HY?"light":"dark";r.MH,r.MH&&o.backgroundColor;(0,s.useEffect)(()=>{r.Qy&&(0,a._7)(f)},[]);const j=!!(e.hotspot&&e.ugc_products.length>0),R=!!(r.HY&&!e.hotspot&&e.ugc_products.length>0),C=!(!o.postAuthor&&!o.postTime);return(0,s.useEffect)(()=>{e.isPopUp&&x(u,e)},[u,e.isPopUp,e]),(0,c.jsx)("div",{id:"tb-sp-post-".concat(e.id),className:"tb_px_post_wrapper".concat(I?" tb_px_post_wrapper2x":""),style:{width:"".concat(n,"%"),padding:i.padding/2},"tb-network":e.network.id,"tb-product":R?1:j?2:0,tabIndex:"0",role:"article","aria-label":"Post ".concat(parseInt(u)+1,",").concat(T),ref:f,"post-id":e.referenceId?e.referenceId:e.id,"feed-id":e.feedId,children:(0,c.jsx)("div",{className:"tb_px_post_in".concat(r.HY?" tb_px_post_ani":""),onClick:m(u,e),children:(0,c.jsxs)("div",{className:"tb_px_post_media_wrapp",children:[e.share.status?(0,c.jsx)(l.A,{share:e.share,shareClass:"tb_px_share_container",item:e,wallID:_,ownerId:b}):"",v?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(d,{itemData:e,wallID:_,ownerId:b,ThemeID:i.widgetTheme,wall:w},"img".concat(u,"_").concat(e.id))}):"",C?(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(h,{ownerId:b,postTime:e.createdAt,author:e.author,network:e.network,font:o,personalization:i,ThemeRule:o},"img".concat(u,"_").concat(e.id))}):null]})})})};var u=i(73878),_=i(19015),b=i(1384);class g extends s.Component{constructor(){super(...arguments),this.state={postData:[]}}componentDidMount(){const{heightUpdate:t}=this.props;setTimeout(()=>t(),1e3)}componentDidUpdate(t,e){return t.postData!==this.props.postData}render(){const{postData:t,completeDataObject:e,adjustWidth:i,wall:s,clickToShowPopUp:n,cardNumber:a,onClickToCTA:r,postSizeInPx:l,onClickPopUpSlider:h}=this.props;let d=t.length;if(s&&1==s.Personalization.fitRow&&t.length>=parseInt(a)){let e=t.length/parseInt(a);d=parseInt(a)*parseInt(e)}return(0,c.jsx)(b.A,{wall:s,parentId:"tb_marquee",renderID:"pixel",children:(0,c.jsx)("div",{id:"tb_marquee",children:(0,c.jsx)(o(),{id:"pixel",className:"tb_px_post_container",tabIndex:"0","aria-label":"There are ".concat(t&&t.length>0?t.length:0," posts in the feed"),elementType:"div",options:{transitionDuration:0,percentPosition:!0,itemSelector:".tb_px_post_wrapper",horizontalOrder:!1,resize:!0},disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:{},enableResizableChildren:!0,children:(null===t||void 0===t?void 0:t.length)>0&&t.map((t,o)=>{const a=e[t];return(0,c.jsx)(m,{ownerId:s.Wall.owner,itemData:a,itemIndex:o,adjustWidth:i,personalization:s.Personalization,ThemeRule:s.ThemeRule,wallID:s.Wall.id,clickToShowPopUp:n,onClickToCTA:r,postSizeInPx:l,wall:s,onClickPopUpSlider:h},"sqr_crd_".concat(o,"_").concat(a.id))})})})})}}const w=(0,u.Ng)(t=>({postHeight:t.postHeight.data}),t=>({managePostHeight:e=>t((0,_.V3)(e))}))(g)}}]);