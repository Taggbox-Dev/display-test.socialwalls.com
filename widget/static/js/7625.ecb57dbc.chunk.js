"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[7625],{17625:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});var n=a(72791),s=a(89057),i=a(77581),l=a(60173),r=a(70188),o=a(2703),d=a(11225),p=a(46535),c=a(80184);const h=n.lazy((()=>a.e(9496).then(a.bind(a,79496)))),u=n.lazy((()=>a.e(6643).then(a.bind(a,66643)))),m=n.lazy((()=>Promise.all([a.e(9852),a.e(5795)]).then(a.bind(a,35795)))),g=n.lazy((()=>Promise.all([a.e(9852),a.e(5764)]).then(a.bind(a,65764)))),x=n.lazy((()=>Promise.all([a.e(9852),a.e(5970)]).then(a.bind(a,65970)))),b=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(9852),a.e(9277)]).then(a.bind(a,16292)))),j=n.lazy((()=>a.e(2138).then(a.bind(a,72138)))),P=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(8781)]).then(a.bind(a,44705)))),S=n.lazy((()=>Promise.all([a.e(4867),a.e(6332),a.e(9852),a.e(5197)]).then(a.bind(a,30182)))),w=n.lazy((()=>Promise.all([a.e(8282),a.e(6700)]).then(a.bind(a,86700)))),k=n.lazy((()=>a.e(748).then(a.bind(a,90748)))),D=n.lazy((()=>Promise.all([a.e(9646),a.e(8730),a.e(1442)]).then(a.bind(a,68081)))),f=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(9646),a.e(8730),a.e(9455)]).then(a.bind(a,99243)))),I=n.lazy((()=>Promise.all([a.e(8282),a.e(9736)]).then(a.bind(a,89736)))),z=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(8282),a.e(23)]).then(a.bind(a,55461)))),y=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(8282),a.e(2028)]).then(a.bind(a,59171)))),T=n.lazy((()=>Promise.all([a.e(4867),a.e(6332),a.e(8282),a.e(8465)]).then(a.bind(a,65093)))),F=n.lazy((()=>Promise.all([a.e(8282),a.e(7609)]).then(a.bind(a,47609)))),U=n.lazy((()=>a.e(4101).then(a.bind(a,4101)))),C=n.lazy((()=>a.e(9709).then(a.bind(a,29709)))),v=n.lazy((()=>Promise.all([a.e(4867),a.e(6332),a.e(8282),a.e(1008)]).then(a.bind(a,51433)))),W=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(9852),a.e(6207)]).then(a.bind(a,517)))),N=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(9852),a.e(4910)]).then(a.bind(a,91390)))),M=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(9852),a.e(6169)]).then(a.bind(a,2909)))),L=n.lazy((()=>Promise.all([a.e(9852),a.e(5279)]).then(a.bind(a,15279)))),_=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(9852),a.e(8561)]).then(a.bind(a,84473)))),E=n.lazy((()=>Promise.all([a.e(8282),a.e(946)]).then(a.bind(a,20946)))),H=n.lazy((()=>a.e(6568).then(a.bind(a,6568)))),R=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(9852),a.e(9646),a.e(8730),a.e(8992)]).then(a.bind(a,6440)))),X=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(9852),a.e(5202)]).then(a.bind(a,33144)))),B=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(8282),a.e(9863)]).then(a.bind(a,83073)))),O=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(8282),a.e(3761)]).then(a.bind(a,18614)))),A=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(4867),a.e(6332),a.e(8282),a.e(768)]).then(a.bind(a,88396)))),Q=n.lazy((()=>Promise.all([a.e(6710),a.e(8947),a.e(5036),a.e(9646),a.e(8730),a.e(618)]).then(a.bind(a,89158)))),Z=n.lazy((()=>a.e(1201).then(a.bind(a,61201)))),J=(0,s.componentWillAppendToBody)((e=>{let{children:t}=e;return t})),V=p.ZQ?r.TQ:p.ig?r.K$:p.bX?r._X:r.oH,q=p.ZQ?r.z8:p.ig?r.EM:p.aL?r._X:r.rV,$=n.memo((e=>{let{renderId:t,wall:a,reviewFilters:s,webFilters:i,postData:l,adjustWidth:r,languageSetting:d,clickToShowPopUp:h,cardNumber:u,onClickToCTA:Z,postSizeInPx:J,onClickPopUpSlider:V,parentID:q,keyRender:$,containerSize:K,heightUpdate:Y}=e;const G=!l.hasMoreData[0]||0!=l.hasMoreData[0].hasMoreData&&(!l.hasMoreData[l.appendData.networkID]||l.hasMoreData[l.appendData.networkID].hasMoreData),ee={...l,reviewFilters:s,webFilters:i,hasMoreData:G,wall:a,adjustWidth:r,languageSetting:d,clickToShowPopUp:h,onClickToCTA:Z,onClickPopUpSlider:V,keyRender:$,containerSize:K,heightUpdate:Y};switch(a.Personalization.widgetTheme){case 20:return r?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(b,{...ee})}):null;case 5:return r?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(x,{...ee})}):null;case 3:return r?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(g,{...ee})}):null;case 4:return r?(0,c.jsxs)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(j,{...ee,cardNumber:u,postSizeInPx:J})," "]}):null;case 19:case 59:case 83:return r?(0,c.jsxs)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(m,{...ee})," "]}):null;case 50:return p.ig?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(w,{...ee,cardNumber:u,renderId:t,postSizeInPx:J})}):(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(S,{...ee,cardNumber:u,renderId:t,postSizeInPx:J})});case 52:case 79:return p.ZQ||p.Jx&&(0,o.mD)(79)?r?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(b,{...ee})}):null:(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(z,{...ee})});case 16:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(T,{...ee,postSizeInPx:J,onClickPopUpSlider:V,parentID:q})});case 55:case 81:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(I,{...ee,cardNumber:parseInt(u),onClickPopUpSlider:V,parentID:q})});case 49:case 53:case 85:return p.ig?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(k,{...ee,cardNumber:u,renderId:t,postSizeInPx:J})}):(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(P,{...ee})});case 47:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(F,{...ee,cardNumber:u,onClickPopUpSlider:V,renderId:t,parentID:q})});case 54:case 80:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(v,{...ee,onClickPopUpSlider:V,renderId:t,parentID:q})});case 6:case 61:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(D,{...ee,onClickPopUpSlider:V,renderId:t,parentID:q})});case 62:return p.ig?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(f,{...ee,cardNumber:u,onClickPopUpSlider:V,renderId:t,parentID:q})}):p.bX?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(W,{...ee,onClickPopUpSlider:V,parentID:q})}):"";case 57:case 84:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(U,{...ee})});case 58:case 82:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(C,{...ee})});case 60:case 56:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(y,{...ee,onClickPopUpSlider:V,parentID:q})});case 63:return r?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(M,{...ee,onClickPopUpSlider:V,parentID:q})}):null;case 64:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(N,{cardNumber:u,...ee,onClickPopUpSlider:V,parentID:q})});case 65:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(L,{...ee,onClickPopUpSlider:V,parentID:q,cardNumber:u,postSizeInPx:J})});case 78:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(_,{...ee,onClickPopUpSlider:V,parentID:q})});case 66:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(X,{...ee,onClickPopUpSlider:V,parentID:q})});case 67:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(H,{...ee,onClickPopUpSlider:V,parentID:q,cardNumber:u,postSizeInPx:J})});case 68:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(E,{...ee,onClickPopUpSlider:V,parentID:q,cardNumber:u,renderId:t,postSizeInPx:J})});case 69:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(R,{...ee,onClickPopUpSlider:V,parentID:q})});case 74:case 76:case 77:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(B,{...ee,onClickPopUpSlider:V,parentID:q})});case 70:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(O,{...ee,onClickPopUpSlider:V,parentID:q,renderId:t})});case 71:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:p.aL?(0,c.jsx)(T,{...ee,postSizeInPx:J,onClickPopUpSlider:V,parentID:q}):(0,c.jsx)(A,{...ee,onClickPopUpSlider:V,postSizeInPx:J,parentID:q})});case 73:return(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(Q,{...ee,onClickPopUpSlider:V,parentID:q})});default:return(0,c.jsx)(c.Fragment,{})}}));class K extends n.PureComponent{constructor(){super(...arguments),this.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,adjustWidth:0,cardNumber:0,postSizeInPx:0,isLoaded:!1,currentIndex:-1,height:0},this.heightUpdate=()=>{if(!p.aL){const e=e=>(document.querySelector(e)||{}).clientHeight||0,t=e(".tb_wall_header__"),a=window.editor?e("#kt_header"):0,n=e(".ti_container");this.setState({height:t+a+n})}},this.autoLoadEditorScrollData=e=>{const{wall:t,postData:a,loaderData:n}=this.props,s=t.ThemeRule.numberOfPosts;let i=document.getElementsByClassName("wall-editor");if(1==t.Personalization.autoScrollStatus&&V.includes(t.Personalization.widgetTheme)&&i.length>0){let e=i[0];if(document.body.scrollHeight+e.scrollTop>=e.scrollHeight-10&&(!n||!n.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(t.Wall.id,e,s,a.appendData.networkID,a.appendData.after,a.appendData.heightEvent)}}},this.autoLoadScrollData=e=>{const{wall:t,postData:a,loaderData:n}=this.props,s=t.ThemeRule.numberOfPosts,i=document.body,l=document.documentElement;if(1===t.Personalization.autoScrollStatus&&V.includes(t.Personalization.widgetTheme)){const e=Math.max(i.scrollHeight,i.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight);if(window.innerHeight+window.pageYOffset>=parseInt(e)-parseInt(50)&&(!n||!n.isShowMoreLoading)){const e=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(t.Wall.id,e,s,a.appendData.networkID,a.appendData.after,a.appendData.heightEvent)}}},this.onResponsiveTheme=e=>{const{wall:t}=this.props;let{windowWidth:a}=this.state;a=2===e?a+165:a;let{adjustWidth:n,cardNumber:s}=(0,o.X8)(a,t);n=(100/a*n).toFixed(2),this.setState({adjustWidth:n,cardNumber:s,postSizeInPx:(0,o.X8)(a,t)},(()=>this.heightUpdate()))},this.onClickToShowPopup=(e,t)=>a=>{a.stopPropagation(),this.onLoadPopUp(e,t)},this.onClickPopUpSlider=(e,t)=>this.onLoadPopUp(e,t),this.onLoadPopUp=(e,t)=>{var a;const{wall:n,languageSetting:s,postData:i}=this.props,r="tagembed"==(null===n||void 0===n||null===(a=n.User)||void 0===a?void 0:a.userDatabaseType);if(r||p.ig||!(l.tq&&!n.Personalization.mobilePopup||r&&n.Personalization.mobilePopup&&""!==t.link)){let a=i.postData.map((e=>i.completeDataObject[e])).filter((e=>!String(e.id).includes("free_add_"))),l=(0,o.E6)(a,t.id,e);if(2===n.Personalization.postFeatured){if("undefined"==t.link||""==t.link)return!1;window.open(t.link,"_blank")}else 3===n.Personalization.postFeatured?window.open(n.Personalization.customUrl,"_blank"):1===n.Personalization.postFeatured&&this.props.showPopUP({type:"post",card:t,idArray:a,index:l,viewOnText:s.viewOnText,shareText:s.shareText,personalization:n.Personalization,imgData:o.CC,ThemeRule:n.ThemeRule,wall:n})}else{if("undefined"==t.link)return!1;window.open(t.link,"_blank")}const c={feed:t.feedId,post:t.referenceId?t.referenceId:t.id},h={wallId:n.Wall.id,userId:n.Wall.owner,feedId:t.feedId,postId:t.id},u={action:2,wall:n.Wall.id,feed:t.feedId,post:t.referenceId?t.referenceId:t.id,type:3,owner:n.Wall.owner};(0,d.S5)(p.ZQ?h:p.nX?u:{action:2,wall:n.Wall.id,...c,owner:n.Wall.owner}),(0,d.Fv)("Tagbox","popupclick_","popup",t.link)},this.loadPopUpWithTimer=()=>{const{currentIndex:e}=this.state,{postData:{postData:t,completeDataObject:a},wall:{ThemeRule:{timeForPopup:n}}}=this.props,s=0===n?5e3:1e3*n;let i=e+1;if(i>=t.length&&(i=0),!isNaN(i)&&t.length>0){const e=t.map((e=>a[e]));this.setState({currentIndex:i}),this.togglePopUpVisibility(i,e[i],s)}},this.togglePopUpVisibility=(e,t,a)=>{this.onLoadPopUp(e,t),setTimeout((()=>{this.props.closePopUP(),setTimeout((()=>{this.loadPopUpWithTimer()}),a)}),a)},this.onClickToCTA=e=>{const{wall:t}=this.props;p.ZQ||(0,d.S5)({action:2,wall:t.Wall.id,type:1,feed:e.feedId,post:e.referenceId?e.referenceId:e.id,owner:t.Wall.owner}),(0,d.Fv)("Tagbox","ctaClick","cta",e.cta&&e.cta.url?e.cta.url:"")},this.onLoadeMore=e=>{const{wall:t,appendData:a,postHeight:n}=this.props,s=t.ThemeRule.numberOfCoumn<5?5:t.ThemeRule.numberOfCoumn,i=p.ig&&53==t.Personalization.widgetTheme?s:t.ThemeRule.numberOfPosts,l=Math.floor(Date.now()/1e3);this.props.managePostHeight(n),this.props.getDataNextSteps(t.Wall.id,l,i,a.networkID,a.after,a.heightEvent)}}componentWillMount(){const{renderId:e}=this.props.renderId;this.setState({windowWidth:e&&document.getElementById(e)?document.getElementById(e).clientWidth:window.innerWidth})}componentDidMount(){const{renderId:e}=this.props.renderId;if(this.onResponsiveTheme(),p.bX&&!p.P2&&!window.location.href.includes("onsite-upload")){const{wall:{ThemeRule:{timeForPopup:e},Personalization:t}}=this.props,a=0===e?5e3:1e3*e;1==t.postFeatured&&setTimeout((()=>this.loadPopUpWithTimer()),a)}if(window.addEventListener&&window.addEventListener("resize",(()=>{var t;this.setState({windowWidth:e&&document.getElementById(e)?null===(t=document.getElementById(e))||void 0===t?void 0:t.clientWidth:window.innerWidth,windowHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),window.editor){let e=document.getElementsByClassName("wall-editor");e.length>0&&e[0].addEventListener("scroll",this.autoLoadEditorScrollData)}else window.addEventListener&&window.addEventListener("scroll",this.autoLoadScrollData);p.ig&&!p.Jc&&p.bX&&(0,o.ad)()}componentWillReceiveProps(e){e!=this.props&&p.Jc&&this.onResponsiveTheme()}render(){var e,t,a,s;const{wall:i,languageSetting:l,postData:r,containerSize:o,brandingNetworks:d,parentID:m,isBranding:g,loaderData:x}=this.props;window.onResponsiveTheme=this.onResponsiveTheme;const{isLoaded:b,height:j}=this.state,P=!p.ZQ||58!=i.Personalization.widgetTheme&&57!=i.Personalization.widgetTheme;!(r.hasMoreData&&Object.keys(r.hasMoreData).length>0)||(!r.hasMoreData[0]||0!=r.hasMoreData[0].hasMoreData)&&(!r.hasMoreData[r.appendData.networkID]||r.hasMoreData[r.appendData.networkID].hasMoreData);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"tb_theme_container ".concat(p.bX&&!p.aL?"tb_wall_container":""),style:{height:p.bX&&!p.aL?"calc(100vh - ".concat(j,"px)"):null},children:[r.isFreeAdsStatus&&!p.ig&&P&&!p.bX&&(null===r||void 0===r||null===(e=r.completeData)||void 0===e?void 0:e.length)>0?(0,c.jsxs)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(u,{containerSize:o,languageSetting:l,brandingNetworks:d,wallId:i.Wall.id,themeID:i.Personalization.widgetTheme,user:i.User.userDatabaseType})," "]}):null,(0,c.jsx)($,{...this.props,...this.state,clickToShowPopUp:this.onClickToShowPopup,onClickToCTA:this.onClickToCTA,onClickPopUpSlider:this.onClickPopUpSlider,parentID:m,onLoadPopUp:this.onLoadPopUp,...p.bX&&{heightUpdate:this.heightUpdate,key:null===r||void 0===r||null===(t=r.postData)||void 0===t?void 0:t.length}}),r.isFreeAdsStatus&&p.ig&&P&&(null===r||void 0===r||null===(a=r.completeData)||void 0===a?void 0:a.length)>0?(0,c.jsxs)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:[(0,c.jsx)(u,{containerSize:o,languageSetting:l,brandingNetworks:d,wallId:i.Wall.id,themeID:i.Personalization.widgetTheme})," "]}):null,1===i.Personalization.loadMoreStatus&&q.includes(i.Personalization.widgetTheme)?(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(h,{languageSetting:l,wall:i,appendData:r.appendData,postData:r,isBranding:!(!r.isFreeAdsStatus||!p.ig)})}):null,p.bX&&null!==i&&void 0!==i&&null!==(s=i.Personalization)&&void 0!==s&&s.interactive&&!p.P2?(0,c.jsx)(J,{children:(0,c.jsx)(n.Suspense,{fallback:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsx)(Z,{})})}):null]})})}}const Y=(0,i.$j)((e=>({loaderData:e.loaderData,renderId:e.renderId,postHeight:e.postHeight.data})),(e=>({showPopUP:t=>e((0,d.Bm)(t)),getDataNextSteps:(t,a,n,s,i,l,r)=>e((0,d.Sx)(t,a,n,s,i,l,r)),closePopUP:()=>e((0,d.zj)()),managePostHeight:t=>e((0,d.B0)(t)),getDataNextSteps:(t,a,n,s,i,l,r)=>e((0,d.Sx)(t,a,n,s,i,l,r))})))(K)}}]);
//# sourceMappingURL=7625.ecb57dbc.chunk.js.map