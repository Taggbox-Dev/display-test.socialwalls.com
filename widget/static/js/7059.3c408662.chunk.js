"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[5537,7059],{3720:(t,e,i)=>{i.d(e,{A:()=>c});var n=i(9950),o=i(38092),s=i.n(o),a=i(66345),l=i(76506),r=i(44414);class d extends n.Component{constructor(t){super(t),this.updateMediaDimensions=()=>{if(this.mediaRef.current){const{offsetHeight:t,offsetWidth:e}=this.mediaRef.current;this.setState({currentHeight:t,currentWidth:e})}},this.mediaSizeCalc=async()=>{const{media:t}=this.props.Post;if((null===t||void 0===t||!t.height)&&(null===t||void 0===t||!t.width))try{var e;const{width:i,height:n}=await(0,l.TW)(null===t||void 0===t||null===(e=t.image)||void 0===e?void 0:e.small);this._isMounted&&this.setState({calcHeight:n,calcWidth:i})}catch(i){this._isMounted&&this.setState({calcHeight:300,calcWidth:300})}},this.setVideoLoaded=t=>{this._isMounted&&this.setState({videoLoaded:t})},this.state={loadError:!1,videoLoaded:!1,calcHeight:0,calcWidth:0,currentHeight:0,currentWidth:0},this.mediaRef=n.createRef(),this._isMounted=!1}componentDidMount(){this._isMounted=!0,requestAnimationFrame((()=>{this.updateMediaDimensions(),this.mediaSizeCalc()}))}componentWillUnmount(){this._isMounted=!1}render(){var t,e,i,n,o,l,d;const{VideoClass:c,Post:u,controls:h,autoPlay:v,videoEndCallback:p,muted:m,size:f,inView:g}=this.props,b="function"===typeof p,{calcHeight:_,calcWidth:y,currentWidth:w,currentHeight:S}=this.state,{media:x,id:j,link:k,networkId:P}=u,C=1===f,I=null!==x&&void 0!==x&&x.height?null===x||void 0===x?void 0:x.height:_,D=null!==x&&void 0!==x&&x.width?null===x||void 0===x?void 0:x.width:y,$={paddingBottom:`${C?null:f||100*I/D}%`},M=!b&&null!==x&&void 0!==x&&null!==(t=x.video)&&void 0!==t&&t.clip&&"undefined"!=(null===x||void 0===x||null===(e=x.video)||void 0===e?void 0:e.clip)?null===x||void 0===x||null===(i=x.video)||void 0===i?void 0:i.clip:g?null===x||void 0===x||null===(n=x.video)||void 0===n?void 0:n.full:null===x||void 0===x||null===(o=x.image)||void 0===o?void 0:o.small;return(0,r.jsx)("div",{className:`${c}_wrap_`,style:$,ref:this.mediaRef,children:(0,r.jsx)(s(),{className:`${c} tb_media-${j}`,url:M,"data-height":_,"data-width":y,"data-type":"video","data-network":P,"data-link":k,"data-item-id":j,"data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":D,"data-height":I,poster:null===x||void 0===x||null===(l=x.image)||void 0===l?void 0:l.small}},file:{attributes:{preload:"metadata",poster:null===x||void 0===x||null===(d=x.image)||void 0===d?void 0:d.small,height:S,width:w}}},loop:!b&&v,onError:()=>{this.setVideoLoaded(!1),b&&setTimeout((()=>{p()}),1e4)},autoPlay:g&&v?1:0,muted:m,volume:v?1:0,playsinline:1,onReady:()=>this.setVideoLoaded(!a.HY),playing:g&&v?1:0,controls:h||!1,onEnded:b?p:null,title:null===x||void 0===x?void 0:x.title},`${j}-${S}-${y}-${g}`)})}}const c=(0,n.memo)(d)},15537:(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var n=i(9950),o=i(66345),s=i(44414);const a=n.lazy((()=>i.e(620).then(i.bind(i,20620)))),l=t=>{var e,i;const{Post:l,IconClass:r,isCenter:d,hideVideo:c,show:u}=t,h=!![3,5].includes(null===l||void 0===l?void 0:l.type),v=7===(null===l||void 0===l||null===(e=l.network)||void 0===e?void 0:e.id),p=!!(null!==l&&void 0!==l&&l.mediaList&&(null===l||void 0===l||null===(i=l.mediaList)||void 0===i?void 0:i.length)>0),m=1===(null===l||void 0===l?void 0:l.isAudio),f=!(null===l||void 0===l||!l.isProduct),g=(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(s.Fragment,{}),children:(0,s.jsx)(a,{network:{id:7,name:"YouTube",icon:"youtube"},networkClass:"tb_youtube_ico"})}),b=(0,s.jsx)("div",{className:"tb_multiple_ico tb__icon tb-multiple",children:"  "}),_=(0,s.jsx)("div",{className:"tb_audio_ico tb__icon tb-audio",children:"  "}),y=(0,s.jsx)("div",{className:"tb__icon tb-"+(o.aD?"reel-fill tb_reel_ico":"video tb_video_ico"),children:"  "}),w=(0,s.jsx)("div",{className:"tb_shop_ico tb__icon tb-bag",children:"  "}),S=(0,s.jsx)("div",{className:"tb_center_video_ico tb__icon tb-play-circle",children:"  "});return u?(0,s.jsxs)(s.Fragment,{children:[d&&(v||h)?(0,s.jsxs)("div",{className:`${r} tb__media_ico_c`,children:[h&&!v?S:"",h&&v?g:""]}):null,f||p||h?(0,s.jsxs)("div",{className:`${r} tb__media_ico_`,children:[f?w:"",p?b:"",d||!h||v||c?"":m?_:y]}):null]}):null}},45285:(t,e,i)=>{i.d(e,{bs:()=>d});var n=i(80415),o=i(296),s=i(66345),a=i(28322),l=i(14313);let r=[];const d=t=>{t.persist();const e=t.target,{network:i,itemId:n,themeId:o}=e.dataset;if(1!=i||[3,4,16,47,50,55,60].includes(o))r.includes(t)||r.push(t);else{const t=document.querySelector(`.tb_media-${n}`);t&&(t.style.display="none")}1===r.length&&c()},c=async()=>{var t;const{postData:e,wall:i}=o.A.getState().appData;if(!i||!Object.keys(i).length||!r.length)return;const{User:d,Wall:h}=i,v=null===d||void 0===d?void 0:d.id,p=(s.HY,null===h||void 0===h?void 0:h.id),m=null===(t=r[0])||void 0===t?void 0:t.target,{filterId:f,network:g,itemId:b,load:_}=m.dataset,y=document.querySelector(`img[data-item-id="${b}"]`),w=null!==e&&void 0!==e&&e.completeDataObject?Object.values(e.completeDataObject).filter((t=>t.id===b)):[];if(null!==w&&void 0!==w&&w.length){var S;const t=await(async t=>["taggbox.com","tagbox.com","tagembed.com","socialwalls.com"].some((e=>t.includes(e)))||await fetch(t).then((t=>t.ok)).catch((()=>!1)))(null===(S=w[0])||void 0===S?void 0:S.postFileNew);if(!t&&y){if([2,18,3,28].includes(+g)&&"0"===_&&"34"!==f&&!m.src.includes("cloud.taggbox.com")){const t=((t,e,i)=>{var n,o,s,a,l;const{UserPlan:r,Wall:d}=e;return{table_name:null===r||void 0===r?void 0:r.db_table,...t,...null!==i&&void 0!==i&&i.length?{feedId:null===(n=i[0])||void 0===n?void 0:n.feedId,type:null===(o=i[0])||void 0===o?void 0:o.type,link:null===(s=i[0])||void 0===s?void 0:s.link,postFile:null===(a=i[0])||void 0===a?void 0:a.postFile,mediaFile:null===(l=i[0])||void 0===l?void 0:l.mediaFile}:{},url:null===d||void 0===d?void 0:d.url}})({wallId:p,postId:b,ownerId:v},i,w);try{const{data:e}=await(new l.A).post(s.t5,t,{headers:a.ML}),i=s.HY||s.MH?"":`https://images.${s.QR}/`;m.src="18"===g?`${i}${e.media}`:e.media}catch{m.src=n.gX}finally{u(m)}}else m.src=n.gX,u(m);r.shift(),c()}else{const t=`${n.th}/media/images/no-image.svg`;m.src=t,m.srcset=t,u(m),r.shift()}}},u=t=>t.setAttribute("data-load","1")},56071:(t,e,i)=>{i.d(e,{A:()=>v});var n=i(9950),o=Object.defineProperty,s=(t,e,i)=>((t,e,i)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!==typeof e?e+"":e,i),a=new Map,l=new WeakMap,r=0,d=void 0;function c(t){return Object.keys(t).sort().filter((e=>void 0!==t[e])).map((e=>{return`${e}_${"root"===e?(i=t.root,i?(l.has(i)||(r+=1,l.set(i,r.toString())),l.get(i)):"0"):t[e]}`;var i})).toString()}function u(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;if("undefined"===typeof window.IntersectionObserver&&void 0!==n){const o=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:"number"===typeof i.threshold?i.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:o,observer:s,elements:l}=function(t){const e=c(t);let i=a.get(e);if(!i){const n=new Map;let o;const s=new IntersectionObserver((e=>{e.forEach((e=>{var i;const s=e.isIntersecting&&o.some((t=>e.intersectionRatio>=t));t.trackVisibility&&"undefined"===typeof e.isVisible&&(e.isVisible=s),null==(i=n.get(e.target))||i.forEach((t=>{t(s,e)}))}))}),t);o=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),i={id:e,observer:s,elements:n},a.set(e,i)}return i}(i),r=l.get(t)||[];return l.has(t)||l.set(t,r),r.push(e),s.observe(t),function(){r.splice(r.indexOf(e),1),0===r.length&&(l.delete(t),s.unobserve(t)),0===l.size&&(s.disconnect(),a.delete(o))}}n.Component;var h=i(52867);const v=t=>{let{children:e}=t;const{ref:i,inView:o,entry:s}=function(){let{threshold:t,delay:e,trackVisibility:i,rootMargin:o,root:s,triggerOnce:a,skip:l,initialInView:r,fallbackInView:d,onChange:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const[v,p]=n.useState(null),m=n.useRef(c),[f,g]=n.useState({inView:!!r,entry:void 0});m.current=c,n.useEffect((()=>{if(l||!v)return;let n;return n=u(v,((t,e)=>{g({inView:t,entry:e}),m.current&&m.current(t,e),e.isIntersecting&&a&&n&&(n(),n=void 0)}),{root:s,rootMargin:o,threshold:t,trackVisibility:i,delay:e},d),()=>{n&&n()}}),[Array.isArray(t)?t.toString():t,v,s,o,a,l,i,d,e]);const b=null==(h=f.entry)?void 0:h.target,_=n.useRef(void 0);v||!b||a||l||_.current===b||(_.current=b,g({inView:!!r,entry:void 0}));const y=[p,f.inView,f.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}({triggerOnce:!0,threshold:.01});return o&&(0,h._7)(s),e({ref:i,inView:o})}},61038:()=>{},78262:(t,e,i)=>{i.d(e,{A:()=>d});var n=i(9950),o=i(76506),s=i(80415),a=i(45285),l=i(44414);const r=(0,n.lazy)((()=>Promise.all([i.e(1823),i.e(9874)]).then(i.bind(i,89874))));class d extends n.PureComponent{constructor(t){var e,i;super(t),this.updateMediaDimensions=()=>{if(this.mediaRef.current){const{offsetHeight:t,offsetWidth:e}=this.mediaRef.current;this.setState({currentHeight:t,currentWidth:e})}},this.mediaSizeCalc=async()=>{const{Post:t,mediaOnly:e}=this.props,i=e||t.media;if((null===i||void 0===i||!i.height)&&(null===i||void 0===i||!i.width))try{var n;const{width:t,height:e}=await(0,o.TW)(null===i||void 0===i||null===(n=i.image)||void 0===n?void 0:n.small);this._isMounted&&this.setState({height:e,width:t})}catch(s){this._isMounted&&this.setState({height:300,width:300})}};const{mediaOnly:s,Post:a}=t;this.state={height:(null===s||void 0===s?void 0:s.height)||(null===a||void 0===a||null===(e=a.media)||void 0===e?void 0:e.height)||0,width:(null===s||void 0===s?void 0:s.width)||(null===a||void 0===a||null===(i=a.media)||void 0===i?void 0:i.width)||0,currentHeight:0,currentWidth:0},this.mediaRef=n.createRef()}componentDidMount(){this._isMounted=!0,requestAnimationFrame((()=>{this.updateMediaDimensions(),this.mediaSizeCalc()}))}componentWillUnmount(){this._isMounted=!1}render(){var t,e,i,o,d;const{height:c,width:u}=this.state,{ImageClass:h,Post:v,hotspot:p,size:m,blurBG:f,mediaOnly:g,inView:b,multiKey:_,index:y,ProductSetting:w}=this.props,{id:S,link:x,products:j}=v,k=g||(null===v||void 0===v?void 0:v.media),{currentWidth:P,currentHeight:C}=this.state,I=m||100*c/u,D={paddingBottom:1===I?null:`${I}%`},$={backgroundImage:b?`url(${null===k||void 0===k||null===(t=k.image)||void 0===t?void 0:t.small})`:null},M=u>c?"100%":u/c*100+"%",A=u>c?c/u*100+"%":"100%",V=v.isProduct&&p&&v.hotspot&&(null===w||void 0===w||null===(e=w.Hotspot)||void 0===e?void 0:e.status),T={width:V&&m?M:null,height:V&&m?A:null};return(0,l.jsxs)("div",{className:`${h}_wrap_ mediaHolder${null===v||void 0===v?void 0:v.id}`,style:D,ref:this.mediaRef,children:[V&&f?(0,l.jsx)("div",{className:"tb_blur_bg_",style:$}):null,(0,l.jsxs)("div",{className:`${h}_wrap_in`,style:T,children:[V?(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)(l.Fragment,{}),children:(0,l.jsx)(r,{products:this.props.multiPic?v.mediaList[_].product:j,hotspot:v.hotspot,Post:v,showTooltip:null},y)}):null,b?(0,l.jsx)("img",{className:`${h} tb_media-${S}`,src:null===k||void 0===k||null===(i=k.image)||void 0===i?void 0:i.small,srcSet:`${null===k||void 0===k||null===(o=k.image)||void 0===o?void 0:o.small} 1x, ${null===k||void 0===k||null===(d=k.image)||void 0===d?void 0:d.large} 2x`,sizes:`${P}px`,loading:b?"eager":"lazy",decoding:"async",fetchPriority:b?"high":"low","data-id":S,height:C,width:P,"data-height":c,"data-width":u,"data-link":x,onLoad:this.onLoad,onError:t=>{t.target.src=`${s.th}/media/error/no-image.svg`,t.target.srcset=`${s.th}/media/error/no-image.svg`,(0,a.bs)(t)},alt:null===k||void 0===k?void 0:k.title,title:null===k||void 0===k?void 0:k.title},`${S}-${c}-${u}-${b}`):null]})]})}}},87059:(t,e,i)=>{i.r(e),i.d(e,{default:()=>ot});var n=i(9950),o=i(10300),s=i(53556);function a(t,e,i){return Array.prototype.slice.call(t,e,i)}function l(t){return t.bind.apply(t,[null].concat(a(arguments,1)))}function r(t){return requestAnimationFrame(t)}function d(t,e){return typeof e===t}var c=Array.isArray;function u(t){return c(t)?t:[t]}function h(t,e){u(t).forEach(e)}l(d,"function"),l(d,"string"),l(d,"undefined");var v=Object.keys;function p(t){return a(arguments,1).forEach((function(e){!function(t,e,i){if(t){var n=v(t);n=i?n.reverse():n;for(var o=0;o<n.length;o++){var s=n[o];if("__proto__"!==s&&!1===e(t[s],s))break}}}(e,(function(i,n){t[n]=e[n]}))})),t}var m=Math.min;var f="move",g="moved",b="updated",_="drag",y="dragged",w="scroll",S="scrolled";function x(t){var e=t?t.event.bus:document.createDocumentFragment(),i=function(){var t=[];function e(t,e,i){h(t,(function(t){t&&h(e,(function(e){e.split(" ").forEach((function(e){var n=e.split(".");i(t,n[0],n[1])}))}))}))}return{bind:function(i,n,o,s){e(i,n,(function(e,i,n){var a="addEventListener"in e,l=a?e.removeEventListener.bind(e,i,o,s):e.removeListener.bind(e,o);a?e.addEventListener(i,o,s):e.addListener(o),t.push([e,i,n,o,l])}))},unbind:function(i,n,o){e(i,n,(function(e,i,n){t=t.filter((function(t){return!!(t[0]!==e||t[1]!==i||t[2]!==n||o&&t[3]!==o)||(t[4](),!1)}))}))},dispatch:function(t,e,i){var n,o=!0;return"function"===typeof CustomEvent?n=new CustomEvent(e,{bubbles:o,detail:i}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,o,!1,i),t.dispatchEvent(n),n},destroy:function(){t.forEach((function(t){t[4]()})),t.length=0}}}();return t&&t.event.on("destroy",i.destroy),p(i,{bus:e,on:function(t,n){i.bind(e,u(t).join(" "),(function(t){n.apply(n,c(t.detail)?t.detail:[])}))},off:l(i.unbind,e),emit:function(t){i.dispatch(e,t,a(arguments,1))}})}function j(t,e,i,n){var o,s,a=Date.now,l=0,d=!0,c=0;function u(){if(!d){if(l=t?m((a()-o)/t,1):1,i&&i(l),l>=1&&(e(),o=a(),n&&++c>=n))return h();r(u)}}function h(){d=!0}function v(){s&&cancelAnimationFrame(s),l=0,s=0,d=!0}return{start:function(e){!e&&v(),o=a()-(e?l*t:0),d=!1,r(u)},rewind:function(){o=a(),l=0,i&&i(l)},pause:h,cancel:v,set:function(e){t=e},isPaused:function(){return d}}}var k="slide";function P(t,e,i){return Array.prototype.slice.call(t,e,i)}function C(t){return t.bind(null,...P(arguments,1))}function I(t,e){return typeof e===t}function D(t){return!A(t)&&I("object",t)}const $=Array.isArray;C(I,"function"),C(I,"string");const M=C(I,"undefined");function A(t){return null===t}function V(t,e){var i;(i=t,$(i)?i:[i]).forEach(e)}const T=Object.keys;function E(t,e,i){if(t){let n=T(t);n=i?n.reverse():n;for(let i=0;i<n.length;i++){const o=n[i];if("__proto__"!==o&&!1===e(t[o],o))break}}return t}function H(t){return P(arguments,1).forEach((e=>{E(e,((i,n)=>{t[n]=e[n]}))})),t}function O(t,e,i){D(e)?E(e,((e,i)=>{O(t,i,e)})):V(t,(t=>{A(i)||""===i?function(t,e){V(t,(t=>{V(e,(e=>{t&&t.removeAttribute(e)}))}))}(t,e):t.setAttribute(e,String(i))}))}const{min:N,max:L,floor:z,ceil:R,abs:W}=Math;const F={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},U={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function q(t,e,i){const{on:n,off:o,bind:s,unbind:a}=x(t),{translate:l,getPosition:r,toIndex:d,getLimit:c}=e.Move,{setIndex:u,getIndex:h}=e.Controller,{orient:v}=e.Direction,{toggle:p}=e.Elements,{Live:m}=e,{root:P}=t,C=function(t,e){var i;return function(){i||(i=j(e||0,(function(){t(),i=null}),null,1)).start()}}(e.Arrows.update,500);let I,$,A,T,E,z,R={};function W(){t.is("fade")||I||!1===i.autoScroll||(I=j(0,K),function(){R.pauseOnHover&&s(P,"mouseenter mouseleave",(t=>{A="mouseenter"===t.type,G()}));R.pauseOnFocus&&s(P,"focusin focusout",(t=>{T="focusin"===t.type,G()}));R.useToggleButton&&s(p,"click",(()=>{$?Y():X()}));n(b,B),n([f,_,w],(()=>{E=!0,X(!1)})),n([g,y,S],(()=>{E=!1,G()}))}(),R.autoStart&&("complete"===document.readyState?Y():s(window,"load",Y)))}function q(){I&&(I.cancel(),I=null,z=void 0,o([f,_,w,g,S]),a(P,"mouseenter mouseleave focusin focusout"),a(p,"click"))}function B(){const{autoScroll:t}=i;!1!==t?(R=H({},R,D(t)?t:{}),W()):q(),I&&!M(z)&&l(z)}function Y(){J()&&(I.start(!0),m.disable(!0),T=A=$=!1,Q())}function X(){$||($=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Q(),J()||(I.pause(),m.disable(!1)))}function G(){$||(A||T||E?X(!1):Y())}function K(){const n=r(),o=function(e){const i=R.speed||1;e+=v(i),t.is(k)&&(e=function(t,e,i){const n=N(e,i),o=L(e,i);return N(L(n,t),o)}(e,c(!1),c(!0)));return e}(n);n!==o?(l(o),function(n){const{length:o}=t,s=(d(n)+o)%o;s!==h()&&(u(s),e.Slides.update(),e.Pagination.update(),"nearby"===i.lazyLoad&&e.LazyLoad.check())}(z=r())):(X(!1),R.rewind&&t.go(R.speed>0?0:e.Controller.getEnd())),C()}function Q(){if(p){const o=$?"startScroll":"pauseScroll";e="is-active",n=!$,(t=p)&&V(e,(e=>{e&&t.classList[n?"add":"remove"](e)})),O(p,"aria-label",i.i18n[o]||U[o])}var t,e,n}function J(){return!I||I.isPaused()}return{setup:function(){const{autoScroll:t}=i;R=H({},F,D(t)?t:{})},mount:W,destroy:q,play:Y,pause:X,isPaused:J}}var B=i(66345),Y=i(15537),X=i(78262),G=i(3720),K=i(44414);const Q=n.lazy((()=>i.e(8120).then(i.bind(i,68120)))),J=t=>{let{Post:e,ThemeInfo:i,ThemeStyle:o,CardStyle:s,index:a,inView:l}=t;const r=!(![3,5].includes(e.type)||1!=o.autoPlay),d=!(!o.interactive||!B.Vn),c=!e.hotspot,u=B.aD&&B.Vn?1===o.autoPlay:B.aD;return(0,K.jsxs)("div",{className:"tb_c_m_media_wrap",children:[d?(0,K.jsx)(n.Suspense,{fallback:(0,K.jsx)(K.Fragment,{}),children:(0,K.jsx)(Q,{Post:e,ThemeStyle:o,interactiveCount:o.interactiveCount})}):null,B.Vn?(0,K.jsx)(Y.default,{Post:e,IconClass:"tb_c_m_media_icon",show:c,isCenter:!1,hideVideo:u}):null,r?(0,K.jsx)(G.A,{VideoClass:"tb_c_m_video",Post:e,size:1,isCover:!0,controls:!1,autoPlay:u,muted:!0,observer:!1,index:a,inView:l}):(0,K.jsx)(X.A,{ImageClass:"tb_c_m_image",Post:e,size:1,hotspot:!0,observer:!1,index:a,inView:l})]})};var Z=i(56071);const tt=t=>{let{clickToShowPopUp:e,postSizeInPx:i,Post:n,CardStyle:o,index:s,ThemeInfo:a,cardHeight:l,ThemeStyle:r}=t;const d=1!==n.type,c=(null===i||void 0===i?void 0:i.adjustWidth)<250;return(0,K.jsx)(Z.A,{children:t=>{let{ref:i,inView:l}=t;return(0,K.jsx)("div",{id:`tb-hs-post-${n.id}`,ref:i,className:"tb_c_m_post_wrapper"+(c?" tb_c_m_post_wrapper2x":""),"tb-network":n.network.id,"tb-product":n.isShopIcon?1:n.isHotspot?2:0,style:{padding:o.style.margin/2},children:(0,K.jsx)("div",{className:"tb_c_m_post_in",onClick:e(s,n),children:(0,K.jsx)("div",{className:"tb_c_m_post_media_wrapp",children:d?(0,K.jsx)(J,{Post:n,CardStyle:o,ThemeInfo:a,ThemeStyle:r,index:s,inView:l}):""})})})}})};i(61038);var et=i(21850),it=i(52867);class nt extends n.Component{constructor(t){super(t),this.requestData=()=>{const{containerSize:{width:t},ThemeStyle:{column:e},appendData:{networkID:i,after:n,heightEvent:o},ThemeInfo:{webId:s,wallId:a},hasMoreData:l,nextData:r,isTagShop:d}=this.props;this.state.loadData||this.updatepost(0),l&&r(d?s:a,Math.floor(Date.now()/1e3),(0,it.Ci)(t,e,280),i,n,o)},this.updatepost=t=>!this.state.loadData&&(this.setState({loadData:!0}),setTimeout(this.props.loadMoredata,1e3*t)),this.autoScrollSlider=(t,e,i,n)=>{const{ThemeStyle:o}=this.props;if(1==o.autoScrollStatus){const e=t.index;t.length-e===t._o.perPage&&this.requestData()}},this.state={parent_id:"",postData:[]},this.inputRefs={}}componentDidMount(){setTimeout((()=>{const t=document.querySelectorAll(".splide__slide");t&&t.forEach((t=>{t.removeAttribute("aria-hidden"),t.removeAttribute("role")}))}),100);const{postData:t,heightUpdate:e}=this.props;this.setState({postData:t})}componentDidUpdate(t,e){return t.postData!==this.props.postData}render(){const{postData:t,completeDataObject:e,CardStyle:i,ThemeStyle:n,ThemeInfo:o,cardNumber:a,containerSize:l,clickToShowPopUp:r,onClickToCTA:d,postSizeInPx:c,parentID:u}=this.props,h=u,v=n.slide.autoSlide,p=n.slide.slideDuration,m=n.autoScrollStatus;var f=t;f=f.length<12?Array(15-f.length).fill(f).flat():f;const g=2==n.row?[1,2]:[1],b=B.Vn||(null===g||void 0===g?void 0:g.length)>1?{}:{clones:0},_=Math.ceil(f.length/2),y=g.length>1?f.slice(0,_):f,w=f.slice(_),S=Math.max((l.width/280).toFixed(),1),x=(0,it.Ci)(l.width,n.column,S);console.log("lowerPosts",w,y);const j=1!=m?!(Object.keys(b).length>0)&&"loop":"loop",k={start:0,type:"loop",rewind:!1,speed:1e3,interval:1===v?1e3*parseInt(p):5e3,perPage:x,perMove:1,gap:0,autoplay:1===v,padding:0,pagination:!1,pauseOnHover:!1,arrows:!1,autoScroll:{speed:2==n.row?-1:1,pauseOnHover:!1}},P={...b,type:1!==m&&j,rewind:!0,perPage:x,perMove:1,gap:0,padding:0,pagination:!1,arrows:!1,pauseOnHover:!1,autoScroll:{speed:1,pauseOnHover:!1}};return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)("div",{className:"tb_c_m_post_container",children:g.map(((t,a)=>{const l=2==t,v=l?w:y,p=l?P:k;return(0,K.jsx)(s.eB,{hasTrack:!1,id:`slider_${t}`,className:`tb_c_m_post_slider slider_${t}`,options:p,extensions:{AutoScroll:q},ref:t=>this.inputRefs[h]=t,onMove:this.autoScrollSlider,children:(0,K.jsx)(s.v9,{children:(null===v||void 0===v?void 0:v.length)>0&&v.map(((t,a)=>{const l=e[t];return(0,K.jsx)(s.Nn,{className:`tb_${a}`,children:(0,K.jsx)("div",{className:"tb_c_m_col_wrap",children:(0,K.jsx)(tt,{parentID:u,CardStyle:i,ThemeStyle:n,ThemeInfo:o,Post:l,index:a,clickToShowPopUp:r,onClickToCTA:d,postSizeInPx:c},t)})},`tb_${a}_${a}`)}))})},a)}))})})}}const ot=(0,o.Ng)((t=>({loaderData:t.loaderData})),(t=>({nextData:(e,i,n,o,s,a,l,r)=>t((0,et.wF)(e,i,n,o,s,a,l,r))})))(nt)}}]);