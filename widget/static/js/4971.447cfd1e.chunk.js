(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4971],{1404:(e,t,i)=>{var r=i(92130),n=i(39248);e.exports=function e(t,i,a,o,s){return t===i||(null==t||null==i||!n(t)&&!n(i)?t!==t&&i!==i:r(t,i,a,o,e,s))}},16195:(e,t,i)=>{var r=i(93660),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,a,o,s){var l=1&i,d=r(e),c=d.length;if(c!=r(t).length&&!l)return!1;for(var h=c;h--;){var u=d[h];if(!(l?u in t:n.call(t,u)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var w=l;++h<c;){var g=e[u=d[h]],v=t[u];if(a)var b=l?a(v,g,u,t,e,s):a(g,v,u,e,t,s);if(!(void 0===b?g===v||o(g,v,i,a,s):b)){m=!1;break}w||(w="constructor"==u)}if(m&&!w){var _=e.constructor,y=t.constructor;_==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(m=!1)}return s.delete(e),s.delete(t),m}},21416:(e,t,i)=>{var r=i(4635),n=i(48246),a=i(44206),o=i(49757),s=i(90943),l=i(26557),d=r?r.prototype:void 0,c=d?d.valueOf:void 0;e.exports=function(e,t,i,r,d,h,u){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var w=o(p(e),p(t),r,d,h,u);return u.delete(e),w;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},24971:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var r=i(9950),n=i(38092),a=i.n(n),o=i(76506),s=i(59418),l=i.n(s),d=i(44414);class c extends r.Component{constructor(e){super(e),this.handlePlay=()=>{this.setState({isPlaying:!0})},this.onMediaLoad=async e=>{const{mediaHeight:t,mediaWidth:i,postFile:r}=e;if(t&&i)this.setState({mediaSize:{height:t,width:i}});else try{const{width:e,height:t}=await(0,o.TW)(r);this.setState({mediaSize:{height:t,width:e}})}catch(n){this.setState({mediaSize:{height:100,width:100}})}},this.state={imageError:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight,mediaSize:{height:400,width:400},animate:!1,item:null,isPlaying:!1}}componentDidMount(){this.onLoadAnimation()}componentDidUpdate(e){l()(e.item,this.props.item)||(this.setState({item:this.props.item,animate:!1}),this.onLoadAnimation())}onLoadAnimation(){setTimeout((()=>{this.setState({animate:!0}),this.onMediaLoad(this.props.item)}),1e3)}render(){var e,t,i,r;const{item:n}=this.props;let o=`${null===n||void 0===n||null===(e=n.media)||void 0===e||null===(t=e.image)||void 0===t?void 0:t.large}`;const{windowHeight:s,windowWidth:l,mediaSize:c,animate:h,isPlaying:u}=this.state,p=1!=n.type,f=3==n.type||5==n.type,m=Math.min(l/c.width,s/c.height),w=c.height*m,g=c.width*m,v={paddingBottom:100*w/g+"%"};return(0,d.jsxs)("div",{id:"spotlight__",className:"sl_container",children:[(0,d.jsx)("div",{className:"sl_overlay_ "+(h?"sl_media_ani":""),style:{backgroundImage:`url(${o})`}}),(0,d.jsx)("div",{className:"sl_wrap",children:(0,d.jsx)("div",{className:"sl_wrap_row sl_only_text",children:p?(0,d.jsx)("div",{className:"sl_media_wrap "+(h?"sl_media_ani":""),style:{maxWidth:g},children:f?(0,d.jsxs)("div",{className:"sl_media_wrap_",style:v,children:[!u&&(0,d.jsx)("img",{src:o,alt:"Video Poster",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",zIndex:1},onLoad:this.handlePlay}),(0,d.jsx)(a(),{url:(b=null===n||void 0===n||null===(i=n.media)||void 0===i||null===(r=i.video)||void 0===r?void 0:r.full,_=n.networkId,25===_?String(b).replace("https://w.soundcloud.com/player/?url=",""):b),config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto",muted:!0,poster:o}},file:{forceVideo:!0,attributes:{muted:!0,poster:o}}},className:"sl_media_",loop:!0,autoPlay:!0,muted:!0,volume:1,playsinline:!0,playing:!0,height:"100%",width:"100%",controls:!1})]}):(0,d.jsx)("div",{className:"sl_media_wrap_",style:v,children:(0,d.jsx)("img",{className:"sl_media_",src:o,height:w,width:g})})}):null})})]});var b,_}}const h=(0,r.memo)(c)},26557:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}},36669:(e,t,i)=>{var r=i(54467),n=i(62274),a=i(69757);function o(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new r;++t<i;)this.add(e[t])}o.prototype.add=o.prototype.push=n,o.prototype.has=a,e.exports=o},49757:(e,t,i)=>{var r=i(36669),n=i(56010),a=i(63445);e.exports=function(e,t,i,o,s,l){var d=1&i,c=e.length,h=t.length;if(c!=h&&!(d&&h>c))return!1;var u=l.get(e),p=l.get(t);if(u&&p)return u==t&&p==e;var f=-1,m=!0,w=2&i?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var g=e[f],v=t[f];if(o)var b=d?o(v,g,f,t,e,l):o(g,v,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(w){if(!n(t,(function(e,t){if(!a(w,t)&&(g===e||s(g,e,i,o,l)))return w.push(t)}))){m=!1;break}}else if(g!==v&&!s(g,v,i,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},56010:e=>{e.exports=function(e,t){for(var i=-1,r=null==e?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}},59418:(e,t,i)=>{var r=i(1404);e.exports=function(e,t){return r(e,t)}},62274:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},63445:e=>{e.exports=function(e,t){return e.has(t)}},69757:e=>{e.exports=function(e){return this.__data__.has(e)}},76506:(e,t,i)=>{"use strict";i.d(t,{C9:()=>m,Cq:()=>f,HI:()=>u,Ph:()=>_,TW:()=>j,Uy:()=>c,fF:()=>w,hZ:()=>g,hz:()=>p,p5:()=>y,pj:()=>x,sl:()=>b,um:()=>h,wG:()=>v});var r=i(66345),n=i(80415),a=i(296),o=i(86961);let s=[],l=!1;const d=new Headers({"Content-Type":"application/json",Authorization:`Bearer ${r.$x}`,Productdomain:r.QR}),c=e=>{var t;return null===(t=document.getElementById("tb_onsite_btn_id"))||void 0===t?void 0:t.classList.toggle("tb_onsite_btn_disabled",1===e)},h=e=>{var t;if(r.aD)return window.parent.postMessage(e,"*");const i={1:()=>window.onShowDemoPost(1),2:()=>window.hendleFeeds("addFeeds"),3:()=>window.hendleFeeds("manageFeeds")};null===(t=i[e])||void 0===t||t.call(i)},u=e=>{try{s.push(e)}catch(t){console.log(t)}},p=e=>e&&""!==e&&!e.includes("ui-avatars"),f=e=>{if(!e)return"0 Byte";const t=Math.floor(Math.log(e)/Math.log(1024));return{size:Math.round(e/Math.pow(1024,t),2),sizeText:["Bytes","KB","MB","GB","TB"][t]}},m=e=>e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e,w=e=>{const t=Date.now()-1e3*e;if(t<6e4)return"just now";const i=[{label:"year",ms:31536e6},{label:"month",ms:2592e6},{label:"week",ms:6048e5},{label:"day",ms:864e5},{label:"hour",ms:36e5},{label:"minute",ms:6e4}].find((e=>{let{ms:i}=e;return t>=i})),r=Math.floor(t/i.ms);return`${r} ${i.label}${r>1?"s":""} ago`},g=()=>[`${n.om}`,"Website Widget"],v=e=>e&&String(e)?unescape(e).split("/").pop().split("/").slice(-1).join().split(".").shift():"",b=(["localhost","widget","wall_id="].every((e=>(0,r.vq)(e)))||(r.MH||[`${r.Xg}.${r.IF}`,`${r.Xg}${r.t6}${r.IF}`,`${r.Xg}s.${r.IF}`].some((e=>(0,r.vq)(e)))||r.HY),e=>{const t=Math.floor(Math.log10(e)/3)||0;return t?+(e/Math.pow(1e3,t)).toFixed(0)+["","K","M","B","T"][t]:e}),_=e=>r.MH?e:atob(e),y=(e,t,i)=>e&&e.length>0?e.findIndex((e=>e.id===t)):i,x=()=>{try{const{wall:e}=a.A.getState().appData,{webId:t,wallId:i,ownerId:n}=e.ThemeInfo;l||(window.addEventListener("beforeunload",(()=>{if(0===s.length)return;const e=s.reduce(((e,t)=>e+t),0);e>0?fetch(r.KQ,{method:"POST",headers:d,body:JSON.stringify({action:1,model:null!==o.Ex&&void 0!==o.Ex&&o.Ex.includes("website")?"website":"wall",playCount:s.length,wall:r.HY?t:i,playTime:e,owner:n}),keepalive:!0}).finally((()=>(s=[],l=!1))):(s=[],l=!1)})),l=!0)}catch(e){console.error(e)}},j=e=>new Promise(((t,i)=>Object.assign(new Image,{onload:function(){t({width:this.naturalWidth,height:this.naturalHeight})},onerror:e=>i(new Error(`Image loading error: ${e.message}`)),src:e})))},90943:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e,r){i[++t]=[r,e]})),i}},92130:(e,t,i)=>{var r=i(25535),n=i(49757),a=i(21416),o=i(16195),s=i(25531),l=i(12279),d=i(6794),c=i(71641),h="[object Arguments]",u="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,m,w,g){var v=l(e),b=l(t),_=v?u:s(e),y=b?u:s(t),x=(_=_==h?p:_)==p,j=(y=y==h?p:y)==p,S=_==y;if(S&&d(e)){if(!d(t))return!1;v=!0,x=!1}if(S&&!x)return g||(g=new r),v||c(e)?n(e,t,i,m,w,g):a(e,t,_,i,m,w,g);if(!(1&i)){var M=x&&f.call(e,"__wrapped__"),I=j&&f.call(t,"__wrapped__");if(M||I){var $=M?e.value():e,z=I?t.value():t;return g||(g=new r),w($,z,i,m,g)}}return!!S&&(g||(g=new r),o(e,t,i,m,w,g))}}}]);